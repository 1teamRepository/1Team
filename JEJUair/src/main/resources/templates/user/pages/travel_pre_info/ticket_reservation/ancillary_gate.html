<!-- 항공권 예매 -->
<!-- 부가서비스 선택 -->
<!--상품 담기 -->

<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/">

<!--head-->
<div th:replace="/user/fragment/head :: head"></div>
<!--head 끝-->
<body id="bookingLayoutBody">

<!--appAlert-->
<div th:replace="/user/fragment/appAlert :: appAlert"></div>
<!--appAlert 끝-->

<!--header-->
<div th:replace="/user/fragment/header :: header"></div>
<!--header 끝-->


<div id="body">

    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2BQQ4" height="0" width="0"
                style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="wrap wrap--booking">


        <div class="content" id="content">
            <main id="main" class="main ">

                <form id="frmNext" name="frmNext" method="post">
                    <input type="hidden" id="pnrData" name="pnrData" value="">
                    <input type="hidden" id="rpnr" name="rpnr" value="">
                    <input type="hidden" id="payType" name="payType" value="">
                    <input type="hidden" id="bookType" name="bookType" value="">
                    <input type="hidden" id="tripType" name="tripType" value="">
                    <input type="hidden" id="inflType" name="inflType" value="">
                    <input type="hidden" id="domIntType" name="domIntType" value="">
                    <input type="hidden" id="cultureCode" name="cultureCode" value="">
                    <input type="hidden" id="cartData" name="cartData" value="">
                    <input type="hidden" id="seatData" name="seatData" value="">
                    <input type="hidden" id="emdInfo" name="emdInfo" value="">
                    <input type="hidden" id="saleTypeCd" name="saleTypeCd" value="">
                    <input type="hidden" id="productTypeCode" name="productTypeCode" value="">
                    <input type="hidden" id="type" name="type" value="">
                    <input type="hidden" id="GAProducts" name="GAProducts" value="">
                    <input type="hidden" id="resvDetailReq" name="resvDetailReq" value=""/>
                    <input type="hidden" id="ssrAgentId" name="ssrAgentId" value=""/>
                </form>


                <div class="section-wrap">
                    <div class="optional-service">

                        <a href="javascript:void(0)" id="MealSelect" class="optional-service__item">
                            <div class="bg">
                                <img src="https://static.jejuair.net/hpgg/resources/images/etc/img-service-meal.png"
                                     alt="기내식"><!-- 기내식 -->
                            </div>
                            <div class="title">기내식</div><!-- 기내식 -->
                        </a>

                        <!-- JJ라운지 주석 처리
                         <a href="javascript:void(0)" id="JJLoungeSelect" class="optional-service__item">
                             <div class="bg">
                                 <img src="https://static.jejuair.net/hpgg/resources/images/etc/img-service-lounge.png" alt="JJ 라운지 이용권">
                             </div>
                             <div class="title">JJ 라운지 이용권</div>
                         </a>
                         -->

                        <a href="javascript:void(0)" id="InsuranceJoin" class="optional-service__item">
                            <div class="bg">
                                <img src="https://static.jejuair.net/hpgg/resources/images/etc/img-service-insurance.png"
                                     alt="여행자 보험"><!-- 여행자 보험 -->
                            </div>
                            <div class="title">여행자 보험</div><!-- 여행자 보험 -->
                        </a>

                    </div>
                </div>


                <div class="section-wrap">
                    <div class="section-title">공항 전용 서비스를 이용해 보세요!</div><!-- 공항 전용 서비스를 이용해 보세요! -->
                    <div class="section-sub-txt">
                        관심 여부만 체크하고, <br class="mobile-only">구매 결정은 공항 카운터에서 결정해 주세요!
                        <!-- 관심 여부만 체크하고, <br class="mobile-only">구매 결정은 공항 카운터에서 결정해 주세요! -->
                    </div>
                    <div class="link-wrap link-wrap--left link-wrap--arrow pc-15">
                        <a href="javascript:void(0)" class="link-wrap__text" data-element="modal_anchor"
                           data-target="#airportServiceInfoLayer" data-modal-type="full"
                           onclick="airportService()">
                            <span>상세보기</span><!-- 상세보기 -->
                        </a>
                    </div>

                    <div id="divCheckRow" class="check-row sub-section">
                            <span class="check-row__item checkbox checkbox--small">
                                <input type="checkbox" id="inputCheck1" class="checkbox__input">
                                <label for="inputCheck1" class="checkbox__label">
                                    <i aria-hidden="true" class="checkbox__ico"></i>
                                    <span>옆 좌석 비우기</span><!-- 옆 좌석 비우기 -->
                                </label>
                            </span>
                        <span class="check-row__item checkbox checkbox--small">
                                <input type="checkbox" id="inputCheck2" class="checkbox__input">
                                <label for="inputCheck2" class="checkbox__label">
                                    <i aria-hidden="true" class="checkbox__ico"></i>
                                    <span>빠른 짐 찾기 (2+ 1)</span><!-- 빠른 짐 찾기 (2+1) -->
                                </label>
                            </span>
                        <span class="check-row__item checkbox checkbox--small">
                                <input type="checkbox" id="inputCheck3" class="checkbox__input">
                                <label for="inputCheck3" class="checkbox__label">
                                    <i aria-hidden="true" class="checkbox__ico"></i>
                                    <span>포장용 비닐 (1+ 1)</span><!-- 포장용 비닐 (1+1)  -->
                                </label>
                            </span>
                    </div>
                </div>

                <div class="booking-sticky booking-sticky--reservation" data-element="toggle"
                     data-options='{"mode": "slide"}'>
                    <div class="reservation-container">
                        <div class="booking-sticky__top">


                            <div class="toggle-wrap toggle-wrap--button">


                                <div class="label">


                                    <span>예상 결제금액</span><!-- 예상 결제금액 -->

                                </div>

                                <button id="btnSummary" type="button" class="summary" data-element="toggle__anchor">


                                    <span id="spanCost" class="cost"></span>
                                    <span id="spanPoint" class="point" style="display: none">+</span>
                                </button>
                            </div>
                            <button type="button" id="btnCartPC"
                                    class="button button--primary button--black pc-only">
                                <span class="button__text">담은 상품 (0)</span><!-- 담은 상품 -->
                            </button>
                            <button type="button" id="btnNextPC"
                                    class="button button--primary button--active pc-only">
                                <span class="button__text"><a href="view_confirm/view_confirm.html">다음</a></span>
                                <!-- 다음 -->
                            </button>
                        </div>
                        <div class="booking-sticky__bottom lin -limitH" data-element="toggle__panel">
                            <!-- [수정 : 210223] -limitH class 추가 -->
                            <div class="title">
                                <h3 class="title__section title__section--small">항목별 운임 상세</h3><!-- 항목별 운임 상세 -->
                            </div>
                            <h4 class="text__default text--bold">항공 운송료</h4><!-- 항공 운송료 -->
                            <div class="itemize__item">
                                <div class="flex-text" id="divFare">
                                    <div class="flex-text__title">항공운임</div><!-- 항공운임 -->
                                    <div class="flex-text__additional"></div>
                                </div>
                                <div class="flex-text" id="divDA">
                                    <div class="flex-text__title">공항시설 사용료</div><!-- 공항시설 사용료 -->
                                    <div class="flex-text__additional"></div>
                                </div>
                                <div class="flex-text" id="divYQ">
                                    <div class="flex-text__title">유류할증료</div><!-- 유류할증료 -->
                                    <div class="flex-text__additional"></div>
                                </div>
                                <div class="flex-text" id="divDiscount" style="display: none">
                                    <div class="flex-text__title color-org">개인 신분 할인</div><!-- 개인 신분 할인 -->
                                    <div class="flex-text__additional color-org"></div>
                                </div>
                                <div class="flex-text" id="divPromotion">
                                    <div class="flex-text__title color-org">프로모션 할인</div><!-- 프로모션 할인 -->
                                    <div class="flex-text__additional color-org">미적용</div><!-- 미적용 -->
                                </div>
                                <div class="flex-text" id="divGifTicket" style="display: none">
                                    <div class="flex-text__title color-org">기프티켓 할인</div><!-- 기프티켓 할인 -->
                                    <div class="flex-text__additional color-org"></div>
                                </div>
                            </div>

                            <div id="extraServiceFee" class="container--default pc-20" style="display: none">
                                <h4 class="text__default text--bold">부가서비스</h4><!-- 부가서비스 -->
                                <div class="itemize__item">
                                    <div id="divSeat" class="flex-text" style="display: none">
                                        <div class="flex-text__title">좌석 선택</div><!-- 좌석 선택 -->
                                        <div id="divSeatFee" class="flex-text__additional"></div>
                                    </div>
                                    <div id="divBaggage" class="flex-text" style="display: none">
                                        <div class="flex-text__title">수하물</div><!-- 수하물 -->
                                        <div id="divBaggageFee" class="flex-text__additional"></div>
                                    </div>
                                    <div id="divMeal" class="flex-text" style="display: none">
                                        <div class="flex-text__title">기내식</div><!-- 기내식 -->
                                        <div id="divMealFee" class="flex-text__additional"></div>
                                    </div>
                                    <div id="divLounge" class="flex-text" style="display: none">
                                        <div class="flex-text__title">라운지</div><!-- 라운지 -->
                                        <div id="divLoungeFee" class="flex-text__additional"></div>
                                    </div>
                                    <div id="divInsu" class="flex-text" style="display: none">
                                        <div class="flex-text__title">여행자 보험</div><!-- 여행자 보험 -->
                                        <div id="divInsuFee" class="flex-text__additional"></div>
                                    </div>
                                </div>
                            </div>

                            <ul class="guide-info guide-info--gray">
                                <li class="guide-info__text">한국출발 세금(BP)에는 국제 여객항공이용료(인천/김포공항 17,000원, 기타 12,000원),
                                    출국납부금 10,000, 국제 빈곤퇴치기여금 1,000원이 포함되어 있습니다.
                                </li>
                                <!-- 한국출발 세금(BP)에는 국제
                                    여객항공이용료(인천/김포공항 17,000원, 기타 12,000원), 출국납부금 10,000, 국제 빈곤퇴치기여금
                                    1,000원이 포함되어 있습니다. -->
                                <li class="guide-info__text">공항이용료의 경우 선택하신 여정 종류(TRANSFER/TRANSIT)에 따라 금액이 변동 될 수
                                    있습니다.
                                </li>
                                <!-- 공항이용료의 경우 선택하신 여정
                                    종류(TRANSFER/TRANSIT)에 따라 금액이 변동 될 수 있습니다. -->
                            </ul>

                        </div>
                        <div class="button-wrap button-wrap--stick mobile-only">
                            <button type="button" id="btnCartMobile" class="button button--primary button--black">
                                <span class="button__text">담은 상품 (0)</span><!-- 담은 상품 -->
                            </button>
                            <button type="button" id="btnNextMobile" class="button button--primary button--active">
                                <span class="button__text">다음</span><!-- 다음 -->
                            </button>
                        </div>
                    </div>
                </div>


                <!-- 공통 컨펌(내용) -->
                <div id="divModalConfirmEx" class="modal modal--simple">
                    <div class="modal-content">
                        <h2 id="hText" class="alert-title"></h2>
                    </div>
                    <div class="modal__button-area button-wrap">
                        <button id="btnConfirmDisAgree" type="button" class="button button--secondary">
                            <span class="button__text">아니오</span><!-- 아니요 -->
                        </button>
                        <button id="btnConfirmAgree" type="button"
                                class="button button--secondary button--active add--ml-10">
                            <span class="button__text">예</span><!-- 예 -->
                        </button>
                    </div>
                    <a href="javascript:void(0)" rel="modal:close" class="modal__close">
                        <span class="blind">닫기</span>
                    </a>
                </div>
                <!-- // 공통 컨펌(내용) -->

                <!-- 공항 전용 서비스 안내 팝업 -->
                <div id="airportServiceInfoLayer" class="modal modal-full modal-scroll"></div>
                <!-- 제휴카드 할인 레이어 -->
                <div id="partnerCardDiscountLayer" class="modal modal-full modal-scroll NA_1_31"></div>

                <a href="javascript:void(0)" id="ancillaryPassengerCart" data-element="modal_anchor"
                   data-target="#ancillaryPassengerCartLayer" data-modal-type="full" style="display: none">
                    담은 상품 1명
                </a>

                <a href="javascript:void(0)" id="ancillaryCart" data-element="modal_anchor"
                   data-target="#ancillaryCartLayer" data-modal-type="full" style="display: none">
                    담은 상품 2명 이상
                </a>

                <a href="javascript:void(0)" id="commonConfirm" data-element="modal_anchor"
                   data-target="#divModalConfirmEx" style="display: none">
                    공통 confirm
                </a>

                <!-- alert 팝업 -->
                <div id="divAlertModalLayer" class="modal modal--simple">
                    <div class="modal-content">
                        <p id="alertText" class="alert-text"></p>
                    </div>
                    <div class="modal__button-area button-wrap">
                        <button id="btnAlert" type="button"
                                class="button button--secondary button--active" rel="modal:close"
                                onclick="javascript:closeCurrentModal(this);"><span
                                class="button__text">확인</span></button>
                    </div><!-- 확인 -->
                </div>
                <div style="display: none;"><a href="#" data-element="modal_anchor" id="sessionLayer"
                                               data-target="#sessionLayerForm" data-modal-type="default"></a></div>

                <div id="sessionLayerForm" class="modal modal--simple modal-layer NA_1_23"></div>
            </main>
        </div>
    </div>
</div>


<!-- footer -->
<div th:replace="/user/fragment/footer :: footer"></div>
<!-- / footer 끝 -->


<!-- 공통 스크립트 선언 -->
<script type="text/javascript" src="/user/lib/js/lib/lib.min.js"></script>
<script type="text/javascript" src="/user/lib/js/common.js"></script>
<script type="text/javascript" src="/user/lib/js/plugin.js"></script>

<script>
    $(document).ready(function () {

        $.ajaxSetup({
            beforeSend: function (xhr) {
                xhr.setRequestHeader('tcode', '0000000350');
                xhr.setRequestHeader('cname', USER_DEVICE.getName());
            }
        });


        //BOOKING LAYOUT상태서 sub로 바뀔경우
        $(document).off('changeLayout').on('changeLayout', function (e, type) {
            if (type === 'sub') {
                $('.bookingType').hide();
                $('.subType').show();
            } else if (type === 'booking') {
                $('.subType').hide();
                $('.bookingType').show();
            }
        });

        //breadcrumbs cursor default
        $('.breadcrumb__item > a').css('cursor', 'default');
    });

    //타이틀 설정
    $('header.mobile-only h2.header__page-name').text($('#main div.page-title').eq(0).text());
</script>


<!-- 담은 상품 보기 2명 이상 -->
<div id="ancillaryCartLayer" class="modal modal-full modal-scroll">
    <div class="modal-header">
        <div class="modal-header__title">담은 상품</div> <!-- 담은 상품 -->
    </div>
    <div class="modal-content">
        <div id="divCartsBagList" class="put-product"></div>
        <!-- 담은 상품 없을 경우 -->
        <div id="divCartsEmptied" class="finish-item-wrap finish-item-wrap--full">
            <div class="finish-item">
                <div class="finish-item__img">
                    <img src="https://static.jejuair.net/hpgg/resources/images/icon/icon-nodata-03.png"
                         alt="담은 상품이 없어요"> <!-- 담은 상품이 없어요 -->
                </div>
                <p class="finish-item__title pc-size">담은 상품이 없어요</p> <!-- 담은 상품이 없어요 -->
                <p class="finish-item__text">더 편한 비행을 위해 서비스를 담아보세요!</p> <!-- 더 편한 비행을 위해 서비스를 담아보세요! -->
            </div>
        </div>
        <!-- //담은 상품 없을 경우 -->
    </div>
    <a href="javascript:void(0)" rel="modal:close" class="modal__close">
        <span class="blind">닫기</span>
    </a>
</div>
<!--  담은 상품 보기 2명 이상 -->


<!-- 담은 상품 보기 1명 -->
<div id="ancillaryPassengerCartLayer" class="modal modal-full modal-scroll">
    <div class="modal-header has-button">
        <button id="btnBack" class="header__button">
            <span class="hidden">이전으로</span>
        </button>
        <h2 id="hPassengerName" class="modal-header__title"></h2>
        <h2 id="hPassengerKey" style="display: none"></h2>
    </div>
    <div class="modal-content h_70">
        <div id="divTabContent" data-element="tab" class="tab tab--default pc-tab-full tab-fixed">
            <div id="divCartTab" class="tab__buttons"></div>
        </div>
    </div>
    <a href="javascript:void(0)" rel="modal:close" class="modal__close">
        <span class="blind">닫기</span>
    </a>
</div>

<div id="ifmWrap"
     style="height:100%; display:none; overflow:auto; text-align:center; -webkit-overflow-scrolling:touch;">
    <iframe src="" width="100%" height="100%" name="popupChkApp"></iframe>
</div>

<!-- 공통 스크립트 선언 -->
<script type="text/javascript" src="/user/lib/js/lib.min.js"></script>
<script type="text/javascript" src="/user/lib/js/common.js"></script>
<script type="text/javascript" src="/user/lib/js/plugin.js"></script>


<script>


    const payType = 'G';
    const bookType = 'Common';
    const tripType = 'RT';
    const domIntType = 'I';
    const cultureCode = 'ko-KR';
    const seatJourneysNum = sUtil.getNumber('0');
    const seatSegmentsNum = sUtil.getNumber('0');
    const baggageJourneysNum = sUtil.getNumber('0');
    const mealJourneysNum = sUtil.getNumber('1');
    const mealSegmentsNum = sUtil.getNumber('0');
    const loungeJourneysNum = sUtil.getNumber('0');
    const insuranceNum = sUtil.getNumber('0');
    const pnrData = {
        "receivedBy": {"receivedBy": "dmsql0486", "latestReceivedBy": "dmsql0486"},
        "passengers": {
            "MCFBRFQ-": {
                "passengerKey": "MCFBRFQ-",
                "fees": [],
                "addresses": [],
                "travelDocuments": [],
                "bags": [],
                "passengerTypeCode": "ADT",
                "program": {"levelCode": "S", "number": "060007812", "code": "7C"},
                "customerNumber": "060007812",
                "emdCoupons": [],
                "passengerAlternateKey": "MTQ1ODY4MzY-",
                "weightCategory": "Female",
                "name": {"last": "KIM", "first": "EUNBI"},
                "info": {"gender": "Female", "dateOfBirth": "1995-02-14T00:00:00"},
                "order": "0!ADT"
            }
        },
        "journeys": [{
            "designator": {
                "arrival": "2022-07-02T12:55:00",
                "origin": "ICN",
                "destinationName": "도쿄(나리타)",
                "destination": "NRT",
                "departure": "2022-07-02T10:35:00",
                "originName": "서울(인천)"
            },
            "move": {"maxMoveBackDays": 365, "maxMoveOutDays": 365},
            "notForGeneralUser": false,
            "flightType": "NonStop",
            "stops": 0,
            "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_",
            "segments": [{
                "identifier": {"identifier": "1106", "carrierCode": "7C"},
                "passengerSegment": {
                    "MCFBRFQ-": {
                        "passengerKey": "MCFBRFQ-",
                        "tickets": [],
                        "bags": [],
                        "scores": [],
                        "seatPreferences": {"seat": "None", "advancedPreferences": [], "travelClass": "None"},
                        "seats": [],
                        "activityDate": "2022-06-30T05:51:06.027Z",
                        "createdDate": "2022-06-30T05:51:06.027Z",
                        "referenceNumber": 0,
                        "overBookIndicator": "NormalSell",
                        "liftStatus": "Default",
                        "ssrs": [{
                            "market": {
                                "identifier": {"identifier": "1106", "carrierCode": "7C"},
                                "origin": "ICN",
                                "destinationName": "도쿄(나리타)",
                                "destination": "NRT",
                                "departureDate": "2022-07-02T10:35:00",
                                "originName": "서울(인천)"
                            },
                            "passengerKey": "MCFBRFQ-",
                            "ssrNumber": 1,
                            "isConfirmingUnheld": false,
                            "ssrDuration": "Leg",
                            "count": 1,
                            "ssrName": "디지털마케팅팀",
                            "isConfirmed": true,
                            "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhTlJUITdDITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hMTEwNiEg",
                            "inBundle": false,
                            "ssrCode": "SILV"
                        }],
                        "modifiedDate": "2022-06-30T05:50:55.8157052Z",
                        "priorityDate": "2022-06-30T05:51:06.050403Z",
                        "timeChanged": false,
                        "hasInfant": false
                    }
                },
                "salesDate": "2022-06-30T05:51:06.027Z",
                "isHosted": true,
                "isBlocked": false,
                "channelType": "DigitalApi",
                "flightReference": "20220702 7C1106 ICNNRT",
                "isSeatmapViewable": true,
                "isConfirming": false,
                "fares": [{
                    "classOfService": "Z",
                    "fareSequence": 1,
                    "inboundOutBound": "None",
                    "productClass": "V",
                    "fareClassOfService": "Z",
                    "fareKey": "MH5afn43Q35aT1dLSn5LSTAzfn4zfjF_TklDTk5SVDAwMzAwMTB_WA--",
                    "fareBasisCode": "ZOWKJ",
                    "isAllotmentMarketFare": false,
                    "originalClassOfService": "Z",
                    "ruleNumber": "KI03",
                    "fareApplicationType": "Route",
                    "travelClassCode": "Y",
                    "downgradeAvailable": false,
                    "carrierCode": "7C",
                    "fareLink": 3,
                    "passengerFares": [{
                        "serviceCharges": [{
                            "amount": 58000,
                            "collectType": "SellerChargeable",
                            "foreignCurrencyCode": "KRW",
                            "type": "FarePrice",
                            "currencyCode": "KRW",
                            "foreignAmount": 58000
                        }, {
                            "amount": 28000,
                            "collectType": "SellerChargeable",
                            "code": "BP",
                            "feeName": "INTL PSC DEP TAX &amp;amp;amp; GLOBAL DISEASE ERADICATION",
                            "foreignCurrencyCode": "KRW",
                            "detail": "ICN-NRT",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "BP",
                            "foreignAmount": 28000
                        }, {
                            "amount": 49700,
                            "collectType": "SellerChargeable",
                            "code": "YQ7",
                            "feeName": "FUEL SURCHARGE",
                            "foreignCurrencyCode": "USD",
                            "detail": "ICN-NRT",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "YQ",
                            "foreignAmount": 38.01
                        }], "passengerType": "ADT"
                    }],
                    "isGoverning": true,
                    "fareStatus": "Default"
                }],
                "cabinOfService": "Y",
                "designator": {
                    "arrival": "2022-07-02T12:55:00",
                    "origin": "ICN",
                    "destinationName": "도쿄(나리타)",
                    "destination": "NRT",
                    "departure": "2022-07-02T10:35:00",
                    "originName": "서울(인천)"
                },
                "isConfirmingExternal": false,
                "changeReasonCode": "NoChange",
                "isChangeOfGauge": false,
                "segmentKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_",
                "legs": [{
                    "designator": {
                        "arrival": "2022-07-02T12:55:00",
                        "origin": "ICN",
                        "destinationName": "도쿄(나리타)",
                        "destination": "NRT",
                        "departure": "2022-07-02T10:35:00",
                        "originName": "서울(인천)"
                    },
                    "legInfo": {
                        "departureTime": "2022-07-02T10:35:00",
                        "changeOfDirection": false,
                        "lid": 160,
                        "prbcCode": "INTBIZ",
                        "backMoveDays": 365,
                        "equipmentType": "738",
                        "capacity": 174,
                        "scheduleServiceType": "J",
                        "arrivalTimeVariant": 540,
                        "marketingOverride": false,
                        "arrivalTime": "2022-07-02T12:55:00",
                        "codeShareIndicator": "NonCodeShare",
                        "outMoveDays": 365,
                        "sold": 121,
                        "departureTerminal": "1",
                        "departureTimeVariant": 540,
                        "arrivalTimeUtc": "2022-07-02T03:55:00Z",
                        "marketingCode": "C12Y162",
                        "adjustedCapacity": 174,
                        "equipmentTypeSuffix": "C",
                        "eTicket": true,
                        "subjectToGovtApproval": false,
                        "irop": false,
                        "departureTimeUtc": "2022-07-02T01:35:00Z",
                        "arrivalTerminal": "3",
                        "status": "Normal"
                    },
                    "nests": [{
                        "lid": 12,
                        "legClasses": [{
                            "classOfService": "C",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 12,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "D",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "I",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 8,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "CU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 1,
                        "adjustedCapacity": 12,
                        "nestType": "Serial",
                        "travelClassCode": "C"
                    }, {
                        "lid": 148,
                        "legClasses": [{
                            "classOfService": "Y",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 148,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 25,
                            "status": "Active"
                        }, {
                            "classOfService": "B",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 24,
                            "status": "Active"
                        }, {
                            "classOfService": "K",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 23,
                            "status": "Active"
                        }, {
                            "classOfService": "N",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 22,
                            "status": "Active"
                        }, {
                            "classOfService": "Q",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 130,
                            "classSold": 3,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 21,
                            "status": "Active"
                        }, {
                            "classOfService": "M",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 35,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 20,
                            "status": "Active"
                        }, {
                            "classOfService": "T",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 7,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 19,
                            "status": "Active"
                        }, {
                            "classOfService": "W",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 18,
                            "status": "Active"
                        }, {
                            "classOfService": "O",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 4,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 17,
                            "status": "Active"
                        }, {
                            "classOfService": "R",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 14,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 16,
                            "status": "Active"
                        }, {
                            "classOfService": "X",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 10,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 15,
                            "status": "Active"
                        }, {
                            "classOfService": "S",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 6,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 14,
                            "status": "Active"
                        }, {
                            "classOfService": "Z",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 50,
                            "classSold": 39,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 13,
                            "status": "Active"
                        }, {
                            "classOfService": "L",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 12,
                            "status": "Active"
                        }, {
                            "classOfService": "H",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 11,
                            "status": "Active"
                        }, {
                            "classOfService": "E",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 10,
                            "status": "Active"
                        }, {
                            "classOfService": "F",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 9,
                            "status": "Active"
                        }, {
                            "classOfService": "V",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 30,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 8,
                            "status": "Active"
                        }, {
                            "classOfService": "G",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 7,
                            "status": "Active"
                        }, {
                            "classOfService": "P",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 6,
                            "status": "Active"
                        }, {
                            "classOfService": "J",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 5,
                            "status": "Active"
                        }, {
                            "classOfService": "A",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "U",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 4,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "UU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "AA",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 148,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 2,
                        "adjustedCapacity": 162,
                        "nestType": "Serial",
                        "travelClassCode": "Y"
                    }],
                    "ssrs": [{"sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0}, {
                        "sold": 2,
                        "ssrNestCode": "INFT",
                        "unitSold": 2,
                        "lid": 15,
                        "available": 13
                    }, {"sold": 5, "ssrNestCode": "MEAL", "unitSold": 5, "lid": 999, "available": 994}, {
                        "sold": 0,
                        "ssrNestCode": "PETC",
                        "unitSold": 0,
                        "lid": 6,
                        "available": 6
                    }],
                    "flightReference": "20220702 7C1106 ICNNRT",
                    "legKey": "NjM3OTIzNTQ5MDAwMDAwMDAwITdDITExMDYhICFJQ04hTlJUITI1Nzc5MA--",
                    "seatmapReference": "N0MhMTEwNiEgITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hTlJU"
                }],
                "isStandby": false,
                "international": true,
                "segmentType": "Normal",
                "status": "HeldConfirmed"
            }]
        }, {
            "designator": {
                "arrival": "2022-07-14T16:35:00",
                "origin": "NRT",
                "destinationName": "서울(인천)",
                "destination": "ICN",
                "departure": "2022-07-14T13:55:00",
                "originName": "도쿄(나리타)"
            },
            "move": {"maxMoveBackDays": 365, "maxMoveOutDays": 365},
            "notForGeneralUser": false,
            "flightType": "NonStop",
            "stops": 0,
            "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_",
            "segments": [{
                "identifier": {"identifier": "1105", "carrierCode": "7C"},
                "passengerSegment": {
                    "MCFBRFQ-": {
                        "passengerKey": "MCFBRFQ-",
                        "tickets": [],
                        "bags": [],
                        "scores": [],
                        "seatPreferences": {"seat": "None", "advancedPreferences": [], "travelClass": "None"},
                        "seats": [],
                        "activityDate": "2022-06-30T05:51:06.027Z",
                        "createdDate": "2022-06-30T05:51:06.027Z",
                        "referenceNumber": 0,
                        "overBookIndicator": "NormalSell",
                        "liftStatus": "Default",
                        "ssrs": [{
                            "market": {
                                "identifier": {"identifier": "1105", "carrierCode": "7C"},
                                "origin": "NRT",
                                "destinationName": "서울(인천)",
                                "destination": "ICN",
                                "departureDate": "2022-07-14T13:55:00",
                                "originName": "도쿄(나리타)"
                            },
                            "passengerKey": "MCFBRFQ-",
                            "ssrNumber": 1,
                            "isConfirmingUnheld": false,
                            "ssrDuration": "Leg",
                            "count": 1,
                            "ssrName": "디지털마케팅팀",
                            "isConfirmed": true,
                            "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhSUNOITdDITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhMTEwNSEg",
                            "inBundle": false,
                            "ssrCode": "SILV"
                        }],
                        "modifiedDate": "2022-06-30T05:50:55.8157052Z",
                        "priorityDate": "2022-06-30T05:51:06.050403Z",
                        "timeChanged": false,
                        "hasInfant": false
                    }
                },
                "salesDate": "2022-06-30T05:51:06.027Z",
                "isHosted": true,
                "isBlocked": false,
                "channelType": "DigitalApi",
                "flightReference": "20220714 7C1105 NRTICN",
                "isSeatmapViewable": true,
                "isConfirming": false,
                "fares": [{
                    "classOfService": "L",
                    "fareSequence": 1,
                    "inboundOutBound": "None",
                    "productClass": "B",
                    "fareClassOfService": "L",
                    "fareKey": "MH5Mfn43Q35MT1dLSn5LSTA0fn4zfjF_TklDTk5SVDAwMzAwMTB_WA--",
                    "fareBasisCode": "LOWKJ",
                    "isAllotmentMarketFare": false,
                    "originalClassOfService": "L",
                    "ruleNumber": "KI04",
                    "fareApplicationType": "Route",
                    "travelClassCode": "Y",
                    "downgradeAvailable": false,
                    "carrierCode": "7C",
                    "fareLink": 3,
                    "passengerFares": [{
                        "serviceCharges": [{
                            "amount": 40000,
                            "collectType": "SellerChargeable",
                            "foreignCurrencyCode": "KRW",
                            "type": "FarePrice",
                            "currencyCode": "KRW",
                            "foreignAmount": 40000
                        }, {
                            "amount": 5100,
                            "collectType": "SellerChargeable",
                            "code": "OI",
                            "feeName": "PASSENGER SECURITY SERVICE CHARGE",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "OI",
                            "foreignAmount": 530
                        }, {
                            "amount": 10000,
                            "collectType": "SellerChargeable",
                            "code": "SW",
                            "feeName": "PASSENGER SERVICE FACILITIES CHARGE",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "SW",
                            "foreignAmount": 1040
                        }, {
                            "amount": 9600,
                            "collectType": "SellerChargeable",
                            "code": "TK",
                            "feeName": "INTERNATIONAL TOURIST TAX",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "TK",
                            "foreignAmount": 1000
                        }, {
                            "amount": 49700,
                            "collectType": "SellerChargeable",
                            "code": "YQ7",
                            "feeName": "FUEL SURCHARGE",
                            "foreignCurrencyCode": "USD",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "YQ",
                            "foreignAmount": 38.01
                        }], "passengerType": "ADT"
                    }],
                    "isGoverning": true,
                    "fareStatus": "Default"
                }],
                "cabinOfService": "Y",
                "designator": {
                    "arrival": "2022-07-14T16:35:00",
                    "origin": "NRT",
                    "destinationName": "서울(인천)",
                    "destination": "ICN",
                    "departure": "2022-07-14T13:55:00",
                    "originName": "도쿄(나리타)"
                },
                "isConfirmingExternal": false,
                "changeReasonCode": "NoChange",
                "isChangeOfGauge": false,
                "segmentKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_",
                "legs": [{
                    "designator": {
                        "arrival": "2022-07-14T16:35:00",
                        "origin": "NRT",
                        "destinationName": "서울(인천)",
                        "destination": "ICN",
                        "departure": "2022-07-14T13:55:00",
                        "originName": "도쿄(나리타)"
                    },
                    "legInfo": {
                        "departureTime": "2022-07-14T13:55:00",
                        "changeOfDirection": false,
                        "lid": 174,
                        "prbcCode": "INTBIZ",
                        "backMoveDays": 365,
                        "equipmentType": "738",
                        "capacity": 174,
                        "scheduleServiceType": "J",
                        "arrivalTimeVariant": 540,
                        "marketingOverride": false,
                        "arrivalTime": "2022-07-14T16:35:00",
                        "codeShareIndicator": "NonCodeShare",
                        "outMoveDays": 365,
                        "sold": 106,
                        "departureTerminal": "3",
                        "departureTimeVariant": 540,
                        "arrivalTimeUtc": "2022-07-14T07:35:00Z",
                        "marketingCode": "C12Y162",
                        "adjustedCapacity": 174,
                        "equipmentTypeSuffix": "C",
                        "eTicket": true,
                        "subjectToGovtApproval": false,
                        "irop": false,
                        "departureTimeUtc": "2022-07-14T04:55:00Z",
                        "arrivalTerminal": "1",
                        "status": "Normal"
                    },
                    "nests": [{
                        "lid": 12,
                        "legClasses": [{
                            "classOfService": "C",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 12,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "D",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "I",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 8,
                            "classSold": 3,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "CU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 1,
                        "adjustedCapacity": 12,
                        "nestType": "Serial",
                        "travelClassCode": "C"
                    }, {
                        "lid": 162,
                        "legClasses": [{
                            "classOfService": "Y",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 162,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 25,
                            "status": "Active"
                        }, {
                            "classOfService": "B",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 24,
                            "status": "Active"
                        }, {
                            "classOfService": "K",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 23,
                            "status": "Active"
                        }, {
                            "classOfService": "N",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 22,
                            "status": "Active"
                        }, {
                            "classOfService": "Q",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 21,
                            "status": "Active"
                        }, {
                            "classOfService": "M",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 20,
                            "status": "Active"
                        }, {
                            "classOfService": "T",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 19,
                            "status": "Active"
                        }, {
                            "classOfService": "W",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 18,
                            "status": "Active"
                        }, {
                            "classOfService": "O",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 130,
                            "classSold": 13,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 17,
                            "status": "Active"
                        }, {
                            "classOfService": "R",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 22,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 16,
                            "status": "Active"
                        }, {
                            "classOfService": "X",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 110,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 15,
                            "status": "Active"
                        }, {
                            "classOfService": "S",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 2,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 14,
                            "status": "Active"
                        }, {
                            "classOfService": "Z",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 60,
                            "classSold": 44,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 13,
                            "status": "Active"
                        }, {
                            "classOfService": "L",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 20,
                            "classSold": 13,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 12,
                            "status": "Active"
                        }, {
                            "classOfService": "H",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 11,
                            "status": "Active"
                        }, {
                            "classOfService": "E",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 10,
                            "status": "Active"
                        }, {
                            "classOfService": "F",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 9,
                            "status": "Active"
                        }, {
                            "classOfService": "V",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 30,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 8,
                            "status": "Active"
                        }, {
                            "classOfService": "G",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 2,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 7,
                            "status": "Active"
                        }, {
                            "classOfService": "P",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 6,
                            "status": "Active"
                        }, {
                            "classOfService": "J",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 5,
                            "status": "Active"
                        }, {
                            "classOfService": "A",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "U",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 4,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "UU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "AA",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 160,
                            "classSold": 4,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 2,
                        "adjustedCapacity": 162,
                        "nestType": "Serial",
                        "travelClassCode": "Y"
                    }],
                    "ssrs": [{"sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0}, {
                        "sold": 0,
                        "ssrNestCode": "INFT",
                        "unitSold": 0,
                        "lid": 15,
                        "available": 15
                    }, {"sold": 6, "ssrNestCode": "MEAL", "unitSold": 6, "lid": 999, "available": 993}, {
                        "sold": 0,
                        "ssrNestCode": "PETC",
                        "unitSold": 0,
                        "lid": 6,
                        "available": 6
                    }],
                    "flightReference": "20220714 7C1105 NRTICN",
                    "legKey": "NjM3OTM0MDM3MDAwMDAwMDAwITdDITExMDUhICFOUlQhSUNOITI1Nzk0MA--",
                    "seatmapReference": "N0MhMTEwNSEgITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhSUNO"
                }],
                "isStandby": false,
                "international": true,
                "segmentType": "Normal",
                "status": "HeldConfirmed"
            }]
        }],
        "comments": [],
        "selfServiceMoveAvailable": false,
        "addOns": {},
        "breakdown": {
            "passengerTotals": {},
            "totalPointsToCollect": 0,
            "passengers": {"MCFBRFQ-": {"passengerKey": "MCFBRFQ-"}},
            "journeys": {
                "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_": {
                    "totalTax": 77700,
                    "totalAmount": 58000,
                    "totalPoints": 0,
                    "totalDiscount": 0,
                    "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_"
                },
                "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_": {
                    "totalTax": 74400,
                    "totalAmount": 40000,
                    "totalPoints": 0,
                    "totalDiscount": 0,
                    "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_"
                }
            },
            "balanceDue": 250100,
            "addOnTotals": {},
            "totalCharged": 250100,
            "totalAmount": 250100,
            "totalToCollect": 250100,
            "journeyTotals": {"totalTax": 152100, "totalAmount": 98000, "totalPoints": 0, "totalDiscount": 0},
            "authorizedBalanceDue": 250100,
            "pointsBalanceDue": 0,
            "totalPoints": 0
        },
        "payments": [],
        "history": [],
        "recordLocator": "UZT7WR",
        "sales": {
            "created": {
                "domainCode": "WWW",
                "organizationCode": "7C",
                "agentCode": "sys_web.kr",
                "locationCode": "WWW"
            },
            "modified": {
                "domainCode": "WWW",
                "organizationCode": "7C",
                "agentCode": "sys_web.kr",
                "locationCode": "WWW"
            },
            "source": {"domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW"}
        },
        "hold": {"expiration": "2022-06-30T15:31:05.000", "gmtExpiration": "2022-06-30T06:31:05Z"},
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVbmtub3duIiwianRpIjoiMzlkYTdkMmQtODEzMi1lMmEzLWMzODUtZGMxNzNkYTVhNzQ4IiwiaXNzIjoiZG90UkVaIEFQSSJ9.mROVIDDy1xx1YEHa4yBU5xZrStbl9yYqwets7zGWg6E",
        "locators": {
            "numericRecordLocator": "061604321035",
            "recordLocators": [{
                "recordLocatorKey": "MTQ1NTIxODkhN0M-",
                "owningSystemCode": "7C",
                "recordCode": "14552189",
                "bookingSystemCode": "7C"
            }],
            "parentId": 0
        },
        "workingBatchYn": "N",
        "typeOfSale": {"fareTypes": [], "residentCountry": "KR"},
        "voucherInfo": {},
        "queues": [],
        "bookingKey": "MTEyOTIyNTAhVVpUN1dSIWZhbHNl",
        "orders": [],
        "currencyCode": "KRW",
        "contacts": {
            "P": {
                "cultureCode": "ko-KR",
                "emailAddress": "dmsql0486@naver.com",
                "distributionOption": "None",
                "contactTypeCode": "P",
                "name": {"last": "KIM", "first": "EUNBI"},
                "notificationPreference": "None",
                "customerNumber": "060007812",
                "phoneNumbers": [{"number": "82-010-9619-0014", "type": "Home"}]
            }
        },
        "info": {
            "modifiedAgentId": 12749847,
            "profileStatus": "Default",
            "channelType": "DigitalApi",
            "changeAllowed": true,
            "priceStatus": "Valid",
            "createdAgentId": 12749847,
            "paidStatus": "UnderPaid",
            "createdDate": "2022-06-30T05:51:06.027Z",
            "bookedDate": "2022-06-30T14:51:06.027",
            "modifiedDate": "2022-06-30T05:51:06.027Z",
            "owningCarrierCode": "7C",
            "status": "Hold",
            "expirationDate": "2022-07-15T13:55:00.000"
        }
    };
    const copyPnrData = {
        "receivedBy": {"receivedBy": "dmsql0486", "latestReceivedBy": "dmsql0486"},
        "passengers": {
            "MCFBRFQ-": {
                "passengerKey": "MCFBRFQ-",
                "fees": [],
                "addresses": [],
                "travelDocuments": [],
                "bags": [],
                "passengerTypeCode": "ADT",
                "program": {"levelCode": "S", "number": "060007812", "code": "7C"},
                "customerNumber": "060007812",
                "emdCoupons": [],
                "passengerAlternateKey": "MTQ1ODY4MzY-",
                "weightCategory": "Female",
                "name": {"last": "KIM", "first": "EUNBI"},
                "info": {"gender": "Female", "dateOfBirth": "1995-02-14T00:00:00"},
                "order": "0!ADT"
            }
        },
        "journeys": [{
            "designator": {
                "arrival": "2022-07-02T12:55:00",
                "origin": "ICN",
                "destinationName": "도쿄(나리타)",
                "destination": "NRT",
                "departure": "2022-07-02T10:35:00",
                "originName": "서울(인천)"
            },
            "move": {"maxMoveBackDays": 365, "maxMoveOutDays": 365},
            "notForGeneralUser": false,
            "flightType": "NonStop",
            "stops": 0,
            "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_",
            "segments": [{
                "identifier": {"identifier": "1106", "carrierCode": "7C"},
                "passengerSegment": {
                    "MCFBRFQ-": {
                        "passengerKey": "MCFBRFQ-",
                        "tickets": [],
                        "bags": [],
                        "scores": [],
                        "seatPreferences": {"seat": "None", "advancedPreferences": [], "travelClass": "None"},
                        "seats": [],
                        "activityDate": "2022-06-30T05:51:06.027Z",
                        "createdDate": "2022-06-30T05:51:06.027Z",
                        "referenceNumber": 0,
                        "overBookIndicator": "NormalSell",
                        "liftStatus": "Default",
                        "ssrs": [{
                            "market": {
                                "identifier": {"identifier": "1106", "carrierCode": "7C"},
                                "origin": "ICN",
                                "destinationName": "도쿄(나리타)",
                                "destination": "NRT",
                                "departureDate": "2022-07-02T10:35:00",
                                "originName": "서울(인천)"
                            },
                            "passengerKey": "MCFBRFQ-",
                            "ssrNumber": 1,
                            "isConfirmingUnheld": false,
                            "ssrDuration": "Leg",
                            "count": 1,
                            "ssrName": "디지털마케팅팀",
                            "isConfirmed": true,
                            "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhTlJUITdDITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hMTEwNiEg",
                            "inBundle": false,
                            "ssrCode": "SILV"
                        }],
                        "modifiedDate": "2022-06-30T05:50:55.8157052Z",
                        "priorityDate": "2022-06-30T05:51:06.050403Z",
                        "timeChanged": false,
                        "hasInfant": false
                    }
                },
                "salesDate": "2022-06-30T05:51:06.027Z",
                "isHosted": true,
                "isBlocked": false,
                "channelType": "DigitalApi",
                "flightReference": "20220702 7C1106 ICNNRT",
                "isSeatmapViewable": true,
                "isConfirming": false,
                "fares": [{
                    "classOfService": "Z",
                    "fareSequence": 1,
                    "inboundOutBound": "None",
                    "productClass": "V",
                    "fareClassOfService": "Z",
                    "fareKey": "MH5afn43Q35aT1dLSn5LSTAzfn4zfjF_TklDTk5SVDAwMzAwMTB_WA--",
                    "fareBasisCode": "ZOWKJ",
                    "isAllotmentMarketFare": false,
                    "originalClassOfService": "Z",
                    "ruleNumber": "KI03",
                    "fareApplicationType": "Route",
                    "travelClassCode": "Y",
                    "downgradeAvailable": false,
                    "carrierCode": "7C",
                    "fareLink": 3,
                    "passengerFares": [{
                        "serviceCharges": [{
                            "amount": 58000,
                            "collectType": "SellerChargeable",
                            "foreignCurrencyCode": "KRW",
                            "type": "FarePrice",
                            "currencyCode": "KRW",
                            "foreignAmount": 58000
                        }, {
                            "amount": 28000,
                            "collectType": "SellerChargeable",
                            "code": "BP",
                            "feeName": "INTL PSC DEP TAX &amp;amp;amp; GLOBAL DISEASE ERADICATION",
                            "foreignCurrencyCode": "KRW",
                            "detail": "ICN-NRT",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "BP",
                            "foreignAmount": 28000
                        }, {
                            "amount": 49700,
                            "collectType": "SellerChargeable",
                            "code": "YQ7",
                            "feeName": "FUEL SURCHARGE",
                            "foreignCurrencyCode": "USD",
                            "detail": "ICN-NRT",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "YQ",
                            "foreignAmount": 38.01
                        }], "passengerType": "ADT"
                    }],
                    "isGoverning": true,
                    "fareStatus": "Default"
                }],
                "cabinOfService": "Y",
                "designator": {
                    "arrival": "2022-07-02T12:55:00",
                    "origin": "ICN",
                    "destinationName": "도쿄(나리타)",
                    "destination": "NRT",
                    "departure": "2022-07-02T10:35:00",
                    "originName": "서울(인천)"
                },
                "isConfirmingExternal": false,
                "changeReasonCode": "NoChange",
                "isChangeOfGauge": false,
                "segmentKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_",
                "legs": [{
                    "designator": {
                        "arrival": "2022-07-02T12:55:00",
                        "origin": "ICN",
                        "destinationName": "도쿄(나리타)",
                        "destination": "NRT",
                        "departure": "2022-07-02T10:35:00",
                        "originName": "서울(인천)"
                    },
                    "legInfo": {
                        "departureTime": "2022-07-02T10:35:00",
                        "changeOfDirection": false,
                        "lid": 160,
                        "prbcCode": "INTBIZ",
                        "backMoveDays": 365,
                        "equipmentType": "738",
                        "capacity": 174,
                        "scheduleServiceType": "J",
                        "arrivalTimeVariant": 540,
                        "marketingOverride": false,
                        "arrivalTime": "2022-07-02T12:55:00",
                        "codeShareIndicator": "NonCodeShare",
                        "outMoveDays": 365,
                        "sold": 121,
                        "departureTerminal": "1",
                        "departureTimeVariant": 540,
                        "arrivalTimeUtc": "2022-07-02T03:55:00Z",
                        "marketingCode": "C12Y162",
                        "adjustedCapacity": 174,
                        "equipmentTypeSuffix": "C",
                        "eTicket": true,
                        "subjectToGovtApproval": false,
                        "irop": false,
                        "departureTimeUtc": "2022-07-02T01:35:00Z",
                        "arrivalTerminal": "3",
                        "status": "Normal"
                    },
                    "nests": [{
                        "lid": 12,
                        "legClasses": [{
                            "classOfService": "C",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 12,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "D",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "I",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 8,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "CU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 1,
                        "adjustedCapacity": 12,
                        "nestType": "Serial",
                        "travelClassCode": "C"
                    }, {
                        "lid": 148,
                        "legClasses": [{
                            "classOfService": "Y",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 148,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 25,
                            "status": "Active"
                        }, {
                            "classOfService": "B",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 24,
                            "status": "Active"
                        }, {
                            "classOfService": "K",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 23,
                            "status": "Active"
                        }, {
                            "classOfService": "N",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 22,
                            "status": "Active"
                        }, {
                            "classOfService": "Q",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 130,
                            "classSold": 3,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 21,
                            "status": "Active"
                        }, {
                            "classOfService": "M",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 35,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 20,
                            "status": "Active"
                        }, {
                            "classOfService": "T",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 7,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 19,
                            "status": "Active"
                        }, {
                            "classOfService": "W",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 18,
                            "status": "Active"
                        }, {
                            "classOfService": "O",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 4,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 17,
                            "status": "Active"
                        }, {
                            "classOfService": "R",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 14,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 16,
                            "status": "Active"
                        }, {
                            "classOfService": "X",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 10,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 15,
                            "status": "Active"
                        }, {
                            "classOfService": "S",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 6,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 14,
                            "status": "Active"
                        }, {
                            "classOfService": "Z",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 50,
                            "classSold": 39,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 13,
                            "status": "Active"
                        }, {
                            "classOfService": "L",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 12,
                            "status": "Active"
                        }, {
                            "classOfService": "H",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 11,
                            "status": "Active"
                        }, {
                            "classOfService": "E",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 10,
                            "status": "Active"
                        }, {
                            "classOfService": "F",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 9,
                            "status": "Active"
                        }, {
                            "classOfService": "V",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 30,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 8,
                            "status": "Active"
                        }, {
                            "classOfService": "G",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 7,
                            "status": "Active"
                        }, {
                            "classOfService": "P",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 6,
                            "status": "Active"
                        }, {
                            "classOfService": "J",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 5,
                            "status": "Active"
                        }, {
                            "classOfService": "A",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "U",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 4,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "UU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "AA",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 148,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 2,
                        "adjustedCapacity": 162,
                        "nestType": "Serial",
                        "travelClassCode": "Y"
                    }],
                    "ssrs": [{"sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0}, {
                        "sold": 2,
                        "ssrNestCode": "INFT",
                        "unitSold": 2,
                        "lid": 15,
                        "available": 13
                    }, {"sold": 5, "ssrNestCode": "MEAL", "unitSold": 5, "lid": 999, "available": 994}, {
                        "sold": 0,
                        "ssrNestCode": "PETC",
                        "unitSold": 0,
                        "lid": 6,
                        "available": 6
                    }],
                    "flightReference": "20220702 7C1106 ICNNRT",
                    "legKey": "NjM3OTIzNTQ5MDAwMDAwMDAwITdDITExMDYhICFJQ04hTlJUITI1Nzc5MA--",
                    "seatmapReference": "N0MhMTEwNiEgITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hTlJU"
                }],
                "isStandby": false,
                "international": true,
                "segmentType": "Normal",
                "status": "HeldConfirmed"
            }]
        }, {
            "designator": {
                "arrival": "2022-07-14T16:35:00",
                "origin": "NRT",
                "destinationName": "서울(인천)",
                "destination": "ICN",
                "departure": "2022-07-14T13:55:00",
                "originName": "도쿄(나리타)"
            },
            "move": {"maxMoveBackDays": 365, "maxMoveOutDays": 365},
            "notForGeneralUser": false,
            "flightType": "NonStop",
            "stops": 0,
            "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_",
            "segments": [{
                "identifier": {"identifier": "1105", "carrierCode": "7C"},
                "passengerSegment": {
                    "MCFBRFQ-": {
                        "passengerKey": "MCFBRFQ-",
                        "tickets": [],
                        "bags": [],
                        "scores": [],
                        "seatPreferences": {"seat": "None", "advancedPreferences": [], "travelClass": "None"},
                        "seats": [],
                        "activityDate": "2022-06-30T05:51:06.027Z",
                        "createdDate": "2022-06-30T05:51:06.027Z",
                        "referenceNumber": 0,
                        "overBookIndicator": "NormalSell",
                        "liftStatus": "Default",
                        "ssrs": [{
                            "market": {
                                "identifier": {"identifier": "1105", "carrierCode": "7C"},
                                "origin": "NRT",
                                "destinationName": "서울(인천)",
                                "destination": "ICN",
                                "departureDate": "2022-07-14T13:55:00",
                                "originName": "도쿄(나리타)"
                            },
                            "passengerKey": "MCFBRFQ-",
                            "ssrNumber": 1,
                            "isConfirmingUnheld": false,
                            "ssrDuration": "Leg",
                            "count": 1,
                            "ssrName": "디지털마케팅팀",
                            "isConfirmed": true,
                            "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhSUNOITdDITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhMTEwNSEg",
                            "inBundle": false,
                            "ssrCode": "SILV"
                        }],
                        "modifiedDate": "2022-06-30T05:50:55.8157052Z",
                        "priorityDate": "2022-06-30T05:51:06.050403Z",
                        "timeChanged": false,
                        "hasInfant": false
                    }
                },
                "salesDate": "2022-06-30T05:51:06.027Z",
                "isHosted": true,
                "isBlocked": false,
                "channelType": "DigitalApi",
                "flightReference": "20220714 7C1105 NRTICN",
                "isSeatmapViewable": true,
                "isConfirming": false,
                "fares": [{
                    "classOfService": "L",
                    "fareSequence": 1,
                    "inboundOutBound": "None",
                    "productClass": "B",
                    "fareClassOfService": "L",
                    "fareKey": "MH5Mfn43Q35MT1dLSn5LSTA0fn4zfjF_TklDTk5SVDAwMzAwMTB_WA--",
                    "fareBasisCode": "LOWKJ",
                    "isAllotmentMarketFare": false,
                    "originalClassOfService": "L",
                    "ruleNumber": "KI04",
                    "fareApplicationType": "Route",
                    "travelClassCode": "Y",
                    "downgradeAvailable": false,
                    "carrierCode": "7C",
                    "fareLink": 3,
                    "passengerFares": [{
                        "serviceCharges": [{
                            "amount": 40000,
                            "collectType": "SellerChargeable",
                            "foreignCurrencyCode": "KRW",
                            "type": "FarePrice",
                            "currencyCode": "KRW",
                            "foreignAmount": 40000
                        }, {
                            "amount": 5100,
                            "collectType": "SellerChargeable",
                            "code": "OI",
                            "feeName": "PASSENGER SECURITY SERVICE CHARGE",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "OI",
                            "foreignAmount": 530
                        }, {
                            "amount": 10000,
                            "collectType": "SellerChargeable",
                            "code": "SW",
                            "feeName": "PASSENGER SERVICE FACILITIES CHARGE",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "SW",
                            "foreignAmount": 1040
                        }, {
                            "amount": 9600,
                            "collectType": "SellerChargeable",
                            "code": "TK",
                            "feeName": "INTERNATIONAL TOURIST TAX",
                            "foreignCurrencyCode": "JPY",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "TK",
                            "foreignAmount": 1000
                        }, {
                            "amount": 49700,
                            "collectType": "SellerChargeable",
                            "code": "YQ7",
                            "feeName": "FUEL SURCHARGE",
                            "foreignCurrencyCode": "USD",
                            "detail": "NRT-ICN",
                            "type": "TravelFee",
                            "currencyCode": "KRW",
                            "ticketCode": "YQ",
                            "foreignAmount": 38.01
                        }], "passengerType": "ADT"
                    }],
                    "isGoverning": true,
                    "fareStatus": "Default"
                }],
                "cabinOfService": "Y",
                "designator": {
                    "arrival": "2022-07-14T16:35:00",
                    "origin": "NRT",
                    "destinationName": "서울(인천)",
                    "destination": "ICN",
                    "departure": "2022-07-14T13:55:00",
                    "originName": "도쿄(나리타)"
                },
                "isConfirmingExternal": false,
                "changeReasonCode": "NoChange",
                "isChangeOfGauge": false,
                "segmentKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_",
                "legs": [{
                    "designator": {
                        "arrival": "2022-07-14T16:35:00",
                        "origin": "NRT",
                        "destinationName": "서울(인천)",
                        "destination": "ICN",
                        "departure": "2022-07-14T13:55:00",
                        "originName": "도쿄(나리타)"
                    },
                    "legInfo": {
                        "departureTime": "2022-07-14T13:55:00",
                        "changeOfDirection": false,
                        "lid": 174,
                        "prbcCode": "INTBIZ",
                        "backMoveDays": 365,
                        "equipmentType": "738",
                        "capacity": 174,
                        "scheduleServiceType": "J",
                        "arrivalTimeVariant": 540,
                        "marketingOverride": false,
                        "arrivalTime": "2022-07-14T16:35:00",
                        "codeShareIndicator": "NonCodeShare",
                        "outMoveDays": 365,
                        "sold": 106,
                        "departureTerminal": "3",
                        "departureTimeVariant": 540,
                        "arrivalTimeUtc": "2022-07-14T07:35:00Z",
                        "marketingCode": "C12Y162",
                        "adjustedCapacity": 174,
                        "equipmentTypeSuffix": "C",
                        "eTicket": true,
                        "subjectToGovtApproval": false,
                        "irop": false,
                        "departureTimeUtc": "2022-07-14T04:55:00Z",
                        "arrivalTerminal": "1",
                        "status": "Normal"
                    },
                    "nests": [{
                        "lid": 12,
                        "legClasses": [{
                            "classOfService": "C",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 12,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "D",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "I",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 8,
                            "classSold": 3,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "CU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 1,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 1,
                        "adjustedCapacity": 12,
                        "nestType": "Serial",
                        "travelClassCode": "C"
                    }, {
                        "lid": 162,
                        "legClasses": [{
                            "classOfService": "Y",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 162,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 25,
                            "status": "Active"
                        }, {
                            "classOfService": "B",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 24,
                            "status": "Active"
                        }, {
                            "classOfService": "K",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 23,
                            "status": "Active"
                        }, {
                            "classOfService": "N",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 150,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 22,
                            "status": "Active"
                        }, {
                            "classOfService": "Q",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 21,
                            "status": "Active"
                        }, {
                            "classOfService": "M",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 20,
                            "status": "Active"
                        }, {
                            "classOfService": "T",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 19,
                            "status": "Active"
                        }, {
                            "classOfService": "W",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 140,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 18,
                            "status": "Active"
                        }, {
                            "classOfService": "O",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 130,
                            "classSold": 13,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 17,
                            "status": "Active"
                        }, {
                            "classOfService": "R",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 120,
                            "classSold": 22,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 16,
                            "status": "Active"
                        }, {
                            "classOfService": "X",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 110,
                            "classSold": 1,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 15,
                            "status": "Active"
                        }, {
                            "classOfService": "S",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 100,
                            "classSold": 2,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 14,
                            "status": "Active"
                        }, {
                            "classOfService": "Z",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 60,
                            "classSold": 44,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 13,
                            "status": "Active"
                        }, {
                            "classOfService": "L",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 20,
                            "classSold": 13,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 12,
                            "status": "Active"
                        }, {
                            "classOfService": "H",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 11,
                            "status": "Active"
                        }, {
                            "classOfService": "E",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classRank": 10,
                            "status": "Active"
                        }, {
                            "classOfService": "F",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 9,
                            "status": "Active"
                        }, {
                            "classOfService": "V",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 30,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 8,
                            "status": "Active"
                        }, {
                            "classOfService": "G",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 10,
                            "classSold": 2,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 7,
                            "status": "Active"
                        }, {
                            "classOfService": "P",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 6,
                            "status": "Active"
                        }, {
                            "classOfService": "J",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 5,
                            "status": "Active"
                        }, {
                            "classOfService": "A",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 4,
                            "status": "Active"
                        }, {
                            "classOfService": "U",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 4,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 3,
                            "status": "Active"
                        }, {
                            "classOfService": "UU",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 0,
                            "classSold": 0,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 2,
                            "status": "Active"
                        }, {
                            "classOfService": "AA",
                            "cnxSold": 0,
                            "latestAdvancedReservation": 0,
                            "classAuthorizedUnits": 160,
                            "classSold": 4,
                            "classNest": 2,
                            "classAllotted": 0,
                            "thruSold": 0,
                            "classType": "T",
                            "classRank": 1,
                            "status": "Active"
                        }],
                        "classNest": 2,
                        "adjustedCapacity": 162,
                        "nestType": "Serial",
                        "travelClassCode": "Y"
                    }],
                    "ssrs": [{"sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0}, {
                        "sold": 0,
                        "ssrNestCode": "INFT",
                        "unitSold": 0,
                        "lid": 15,
                        "available": 15
                    }, {"sold": 6, "ssrNestCode": "MEAL", "unitSold": 6, "lid": 999, "available": 993}, {
                        "sold": 0,
                        "ssrNestCode": "PETC",
                        "unitSold": 0,
                        "lid": 6,
                        "available": 6
                    }],
                    "flightReference": "20220714 7C1105 NRTICN",
                    "legKey": "NjM3OTM0MDM3MDAwMDAwMDAwITdDITExMDUhICFOUlQhSUNOITI1Nzk0MA--",
                    "seatmapReference": "N0MhMTEwNSEgITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhSUNO"
                }],
                "isStandby": false,
                "international": true,
                "segmentType": "Normal",
                "status": "HeldConfirmed"
            }]
        }],
        "comments": [],
        "selfServiceMoveAvailable": false,
        "addOns": {},
        "breakdown": {
            "passengerTotals": {},
            "totalPointsToCollect": 0,
            "passengers": {"MCFBRFQ-": {"passengerKey": "MCFBRFQ-"}},
            "journeys": {
                "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_": {
                    "totalTax": 77700,
                    "totalAmount": 58000,
                    "totalPoints": 0,
                    "totalDiscount": 0,
                    "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_"
                },
                "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_": {
                    "totalTax": 74400,
                    "totalAmount": 40000,
                    "totalPoints": 0,
                    "totalDiscount": 0,
                    "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_"
                }
            },
            "balanceDue": 250100,
            "addOnTotals": {},
            "totalCharged": 250100,
            "totalAmount": 250100,
            "totalToCollect": 250100,
            "journeyTotals": {"totalTax": 152100, "totalAmount": 98000, "totalPoints": 0, "totalDiscount": 0},
            "authorizedBalanceDue": 250100,
            "pointsBalanceDue": 0,
            "totalPoints": 0
        },
        "payments": [],
        "history": [],
        "recordLocator": "UZT7WR",
        "sales": {
            "created": {
                "domainCode": "WWW",
                "organizationCode": "7C",
                "agentCode": "sys_web.kr",
                "locationCode": "WWW"
            },
            "modified": {
                "domainCode": "WWW",
                "organizationCode": "7C",
                "agentCode": "sys_web.kr",
                "locationCode": "WWW"
            },
            "source": {"domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW"}
        },
        "hold": {"expiration": "2022-06-30T15:31:05.000", "gmtExpiration": "2022-06-30T06:31:05Z"},
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVbmtub3duIiwianRpIjoiMzlkYTdkMmQtODEzMi1lMmEzLWMzODUtZGMxNzNkYTVhNzQ4IiwiaXNzIjoiZG90UkVaIEFQSSJ9.mROVIDDy1xx1YEHa4yBU5xZrStbl9yYqwets7zGWg6E",
        "locators": {
            "numericRecordLocator": "061604321035",
            "recordLocators": [{
                "recordLocatorKey": "MTQ1NTIxODkhN0M-",
                "owningSystemCode": "7C",
                "recordCode": "14552189",
                "bookingSystemCode": "7C"
            }],
            "parentId": 0
        },
        "workingBatchYn": "N",
        "typeOfSale": {"fareTypes": [], "residentCountry": "KR"},
        "voucherInfo": {},
        "queues": [],
        "bookingKey": "MTEyOTIyNTAhVVpUN1dSIWZhbHNl",
        "orders": [],
        "currencyCode": "KRW",
        "contacts": {
            "P": {
                "cultureCode": "ko-KR",
                "emailAddress": "dmsql0486@naver.com",
                "distributionOption": "None",
                "contactTypeCode": "P",
                "name": {"last": "KIM", "first": "EUNBI"},
                "notificationPreference": "None",
                "customerNumber": "060007812",
                "phoneNumbers": [{"number": "82-010-9619-0014", "type": "Home"}]
            }
        },
        "info": {
            "modifiedAgentId": 12749847,
            "profileStatus": "Default",
            "channelType": "DigitalApi",
            "changeAllowed": true,
            "priceStatus": "Valid",
            "createdAgentId": 12749847,
            "paidStatus": "UnderPaid",
            "createdDate": "2022-06-30T05:51:06.027Z",
            "bookedDate": "2022-06-30T14:51:06.027",
            "modifiedDate": "2022-06-30T05:51:06.027Z",
            "owningCarrierCode": "7C",
            "status": "Hold",
            "expirationDate": "2022-07-15T13:55:00.000"
        }
    };
    const currencyCode = payType === 'P' ? 'PNT' : pnrData.currencyCode;
    const PssToken = pnrData.token;
    const paxInfo = pnrData.passengers;
    const paxInfoLength = Object.keys(paxInfo).length;
    const passengerObjKeyArr = Object.keys(paxInfo).sort(function (a, b) {
        return sUtil.getInt(paxInfo[a].order) - sUtil.getInt(paxInfo[b].order);
    });

    $("#rpnr").val(pnrData.recordLocator);


    const inflType = 'B';


    const ssrAgentId = '';

    const depDate = pnrData.journeys[0].segments[0].designator.departure.substring(0, 10);
    let ssTimeoutRecordLocator = '';
    let ssTimeoutBookingKey = '';
    let ssTimeoutPssToken = '';
    if (inflType === 'B') {
        ssTimeoutRecordLocator = pnrData.recordLocator;
        ssTimeoutBookingKey = pnrData.bookingKey;
        ssTimeoutPssToken = pnrData.token;
    } else if (inflType === 'M') {
        _tl_processType = 'AncillaryPurchase';
    }

    if (pnrData.bookingKind === 'GDS' && inflType === 'M') {
        for (let i = 0; i < pnrData.journeys.length; i++) {
            pnrData.journeys[i].segments = pnrData.journeys[i].segments.filter(function (element) {
                return element.segmentType !== 'Passive' && element.segmentType !== 'CodShareMarketing';
            });
        }
        pnrData.journeys = pnrData.journeys.filter(function (element) {
            return element.segments.length !== 0;
        });
    }
    const journeys = pnrData.journeys;
    const journeysLength = journeys.length;


    if (inflType === 'M') {
        sessionStorage.removeItem('cartData')
    }

    const agent = navigator.userAgent.toLowerCase();
    if (navigator.appName === 'Netscape' && inflType === 'M' && navigator.userAgent.search('Trident') !== -1 || (agent.indexOf('msie') !== -1)) {
        window.addEventListener('popstate', function (event) {
            let resvDetailReq = {
                recordLocator: pnrData.recordLocator,
                cultureCode: cultureCode,
                depDate: pnrData.journeys[0].segments[0].designator.departure.substring(0, 10),
                orderSearchType: 'P'
            };
            $('#resvDetailReq').val(JSON.stringify(resvDetailReq));

            const formObj = $('#frmNext');

            formObj.attr('action', '../mypage/viewReservationDetail.do');
            formObj.submit();
        }, false);

        window.history.pushState({}, '', window.location.toString());
    }


    const seatData = '[{"currencyCode":"KRW","payType":"G","inflCode":"B","seats":[{"passengerName":"KIM/EUNBI","price":"16,000","journeysNum":0,"segmentsNum":0,"passengerKey":"MCFBRFQ-","unitKey":"N0MhMTEwNiEgITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hTlJUITZEIVk-","journeyKey":"N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_","delYn":"N","variant":"일반석","designator":"6D","seatClass":"selected"},{"passengerName":"KIM/EUNBI","price":"16,000","journeysNum":1,"segmentsNum":0,"passengerKey":"MCFBRFQ-","unitKey":"N0MhMTEwNSEgITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhSUNOITZEIVk-","journeyKey":"N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_","delYn":"N","variant":"일반석","designator":"6D","seatClass":"selected"}]},32000]' !== '' ? JSON.parse('[{"currencyCode":"KRW","payType":"G","inflCode":"B","seats":[{"passengerName":"KIM/EUNBI","price":"16,000","journeysNum":0,"segmentsNum":0,"passengerKey":"MCFBRFQ-","unitKey":"N0MhMTEwNiEgITYzNzkyMzU0OTAwMDAwMDAwMCFJQ04hTlJUITZEIVk-","journeyKey":"N0N_MTEwNn4gfn5JQ05_MDcvMDIvMjAyMiAxMDozNX5OUlR_MDcvMDIvMjAyMiAxMjo1NX5_","delYn":"N","variant":"일반석","designator":"6D","seatClass":"selected"},{"passengerName":"KIM/EUNBI","price":"16,000","journeysNum":1,"segmentsNum":0,"passengerKey":"MCFBRFQ-","unitKey":"N0MhMTEwNSEgITYzNzkzNDAzNzAwMDAwMDAwMCFOUlQhSUNOITZEIVk-","journeyKey":"N0N_MTEwNX4gfn5OUlR_MDcvMTQvMjAyMiAxMzo1NX5JQ05_MDcvMTQvMjAyMiAxNjozNX5_","delYn":"N","variant":"일반석","designator":"6D","seatClass":"selected"}]},32000]') : '';


    let insuranceUrl = '';


    let cartData = JSON.parse(sessionStorage.getItem('cartData'));
    if (cartData === null) {
        cartData = [];
        if (inflType === 'B') {
            ssrReqInit();
        }
    }

    let cartCount = cartData.length === 0 ? 0 : getCartCount(cartData);


    const btnCartClick = function () {
        if (cartCount === 0) {
            $('div[name=divEmptied]').show();
            $('#divCartsEmptied').show();
            $('#divCartsBagList').hide();
        } else {
            $('#divCartsEmptied').hide();
            $('#divCartsBagList').show();
        }
        if (paxInfoLength === 1) {
            $('#divCartTab').find('button').eq(0).trigger('click');
            $('#ancillaryPassengerCart').trigger('click');
        } else {
            $('#ancillaryCart').trigger('click');
        }
    }


    const airportService = function () {
        if ($('#airportServiceInfoLayer').children().length === 0) {
            $.ajax({
                url: 'AirportServiceInfo.do',
                type: 'post',
                dataType: 'html',
                async: false,
                data: {},
                success: function (data) {
                    $('#airportServiceInfoLayer').html(data);
                }
            });
        }
    }


    const btnConfirmAgreeClick = function () {
        const cartPassengerKey = $('#hPassengerKey').text();
        const cartDataTabNo = cartDeleteData.find('span[name=tabNo]').text();

        if (cartDeleteData.find('.ssrCode').text() !== 'INSU') {
            cartCount -= 1;
        } else {
            cartCount -= cartData[0].insuInfo.length;
        }

        cartDataDelete(cartPassengerKey, cartDataTabNo);
        $('[id^=btnCart]').find('span').html('담은 상품 (' + cartCount + ')');
    }


    const addSsrImageControl = function () {
        if (inflType === 'B') {
            if (mealJourneysNum !== 0 && mealJourneysNum === journeysLength) {
                $('#MealSelect').remove();
            }
            if (loungeJourneysNum === 1) {
                $('#JJLoungeSelect').remove();
            }
        }

        if (seatJourneysNum !== 0 && seatJourneysNum === journeysLength) {
            $('#SeatSelect').parent().remove();
        }
        if (baggageJourneysNum !== 0 && baggageJourneysNum === journeysLength) {
            $('#BaggageSelect').parent().remove();
        }
        if (mealJourneysNum !== 0 && mealJourneysNum === journeysLength) {
            $('#MealSelect').parent().remove();
        }
        if (loungeJourneysNum === 1) {
            $('#JJLoungeSelect').parent().remove();
        }

        let isPossible = false;
        for (let i = seatJourneysNum; i < journeysLength; i++) {
            if (isPossible) {
                break;
            }
            const segmentsLength = journeys[seatJourneysNum].segments.length;
            for (let j = seatSegmentsNum; j < segmentsLength; j++) {
                if (isPossible) {
                    break;
                }
                for (let k = 0; k < paxInfoLength; k++) {
                    const occupiedSeat = journeys[i].segments[j].passengerSegment[paxInfo[Object.keys(paxInfo)[k]].passengerKey].seats;
                    if (occupiedSeat.length === 0) {
                        isPossible = true;
                        break;
                    }
                }
            }
        }

        if (!isPossible) {
            $('#SeatSelect').parent().remove();
        }


        isPossible = false;
        for (let i = loungeJourneysNum; i < journeysLength; i++) {
            if (isPossible) {
                break;
            }
            const segmentsLength = journeys[loungeJourneysNum].segments.length;
            for (let j = 0; j < segmentsLength; j++) {
                if (journeys[i].segments[j].designator.origin === 'ICN') {
                    if (isPossible) {
                        break;
                    }
                    for (let k = 0; k < paxInfoLength; k++) {
                        const ssrs = journeys[i].segments[j].passengerSegment[paxInfo[Object.keys(paxInfo)[k]].passengerKey].ssrs.filter(function (element) {
                            return element.ssrCode.includes('LG');
                        });
                        if (ssrs.length === 0) {
                            isPossible = true;
                            break;
                        }
                    }
                }
            }
        }
        if (!isPossible) {
            if (inflType === 'B') {
                $('#JJLoungeSelect').remove();
            } else {
                $('#JJLoungeSelect').parent().remove();
            }
        }
        if (inflType === 'M' && $('.add-service-wrap.add-service-wrap--half').children().length === 0) {
            $.JJAlert('출발이 임박해서 구매할 수 있는 부가서비스가 없어요.', function () { <!--출발이 임박해서 구매할 수 있는 부가서비스가 없어요. -->
                Progress.show();
                let resvDetailReq = {
                    recordLocator: pnrData.recordLocator,
                    cultureCode: cultureCode,
                    depDate: pnrData.journeys[0].segments[0].designator.departure.substring(0, 10),
                    orderSearchType: 'P'
                };
                $('#resvDetailReq').val(JSON.stringify(resvDetailReq));

                const formObj = $('#frmNext');

                formObj.attr('action', '../mypage/viewReservationDetail.do');
                formObj.submit();
            });
        }
    }
    addSsrImageControl();


    const addCart = function (insuInfo) {
        let cartHTML = '';
        if (paxInfoLength === 1) {
            const divTabPanel = $('#divTabPanel0');
            divTabPanel.find('div[name=divBagCartIS]').html('');

            for (let i = 0; i < insuInfo.length; i++) {
                cartHTML = '<div class="list-card__item">';
                cartHTML += '	<span name="tabNo" style="display: none">' + 0 + '</span>';
                cartHTML += '	<div class="list-card__item-inner">';
                cartHTML += '		<div class="list-card__image">';
                cartHTML += '			<img src="https://static.jejuair.net/hpgg/resources/images/@temp/@temp_nd9_01.png" alt="여행자 보험">';
                cartHTML += '		</div>';
                cartHTML += '		<div class="list-card__info">';

                const ssrName = insuInfo[i].relatorPassengerType !== 'INF' ? '여행자 보험' : '여행자 보험(유아)';

                cartHTML += '			<strong class="list-card__title">' + ssrName + '</strong>';
                cartHTML += '			<span class="categoryCode" style="display: none">IS</span>';
                cartHTML += '			<span class="ssrCode" style="display: none">INSU</span>';
                cartHTML += '			<p class="list-card__text">' + sUtil.FmtcurrencyCvt(I18N.language, currencyCode, insuInfo[i].premium);
                +'</p>';
                cartHTML += '		</div>';
                cartHTML += '		<div class="button-wrap">';
                cartHTML += '			<button type="button" name="btnDelete" class="button button--small">';
                cartHTML += '				<span class="button__text">삭제</span>';
                cartHTML += '			</button>';
                cartHTML += '		</div>';
                cartHTML += '	</div>';
                cartHTML += '</div>';

                divTabPanel.find('div[name=divBagCartIS]').append(cartHTML);
                if (divTabPanel.find('div[name=divCartInsu]').css('display') === 'none') {
                    divTabPanel.find('div[name=divCartInsu]').show();
                    divTabPanel.find('div[name=divEmptied]').hide();
                }
            }
        } else {
            cartInsuDelete();
            for (let i = 0; i < insuInfo.length; i++) {
                let ssrArr = [];
                let tempObj = {};

                tempObj.imgSrc = 'https://static.jejuair.net/hpgg/resources/images/@temp/@temp_nd9_01.png';
                tempObj.ssrName = insuInfo[i].relatorPassengerType !== 'INF' ? '여행자 보험' : '여행자 보험(유아)';
                tempObj.categoryCode = 'IS';
                tempObj.ssrCode = 'INSU';
                tempObj.cost = sUtil.setComma(insuInfo[i].premium);
                tempObj.currencyCode = currencyCode;
                tempObj.tabNo = '0';

                ssrArr.push(tempObj);
                cartHTML = makePaxCartData(ssrArr[0]);

                $('p[name=passengerKey]').each(function () {
                    if ($(this).text() === insuInfo[i].passengerKey && typeof (insuInfo[i].relatorPassengerType) !== 'INF') {

                        let count = 0;
                        let isWork = false;
                        const productList = $(this).parents('.put-product__item').find('.put-product__box-img');
                        productList.each(function (idx) {
                            if ($(this).children().length === 0) {
                                $(this).append(cartHTML);
                                count = idx + 1;
                                if (idx === 3) {
                                    $(this).parents('.put-product__box').addClass('more');
                                }
                                isWork = true;
                                return false;
                            }
                        });
                        if (!isWork) {
                            cartHTML = '<div class="put-product__box-img" style="display: none">';
                            cartHTML += makePaxCartData(ssrArr[0]);
                            cartHTML += '</div>';
                            $(this).parents('.put-product__item').find('.put-product__box.more').append(cartHTML);
                            count = $(this).parents('.put-product__item').find('.put-product__box-img').length;
                        }
                        $(this).parents('.put-product__text').find('span').html('' + count + '개');
                        return false;
                    }
                });
            }
        }
    }


    const replaceInsurance = function () {
        $.modal.close();
        var w = 1300;
        var h = 700;
        var left = (document.body.offsetWidth / 2) - (w / 2);
        left += window.screenLeft; // 듀얼 모니터일 때
        var top = (document.body.offsetHeight / 2) - (h / 2);
        insuranceUrl = window.open('', 'PopupWin', 'top=' + top + ',left=' + left + ',width=' + w + ',height=' + h + ',scrollbars=1,toolbar=0,directories=0,status=0,menubar=0,resizable=no', '_blank');
        const form = document.getElementById('frmNext');
        $('#type').val('rejoin');
        form.action = 'viewInsuranceCalculate.do';
        form.target = 'PopupWin';
        form.submit();

        insuranceAddCart();
    }


    const insuranceAddCart = function () {

        let preInsuFee = 0;
        if (typeof (cartData[0].insuInfo) !== 'undefined') {
            const insuInfoLen = cartData[0].insuInfo.length;
            for (let i = 0; i < insuInfoLen; i++) {
                preInsuFee += cartData[0].insuInfo[i].premium;
            }
        }

        const timer = setInterval(function () {
            if (insuranceUrl.closed) {
                clearInterval(timer);
                if ($('#type').val() === 'Y') {
                    $('#type').val('N');
                    sessionStorage.setItem('cartData', $('#cartData').val());
                    cartData = JSON.parse(sessionStorage.getItem('cartData'));

                    if (preInsuFee !== 0) {
                        sUtil.FmtcurrencyCvt(I18N.language, pnrData.currencyCode, sUtil.getNumber($('#spanCost').children('.price_txt').text().replace(/[,]/g, '')) - preInsuFee, $('#spanCost'));
                    }

                    const insuInfo = cartData[0].insuInfo;
                    const insuInfoLen = insuInfo.length;
                    const passengerName = insuInfo[0].passengerName;
                    let insuFee = 0;
                    for (let i = 0; i < insuInfoLen; i++) {
                        insuFee += insuInfo[i].premium;
                    }

                    cartCount = getCartCount(cartData);
                    $('[id^=btnCart]').find('span').html('담은 상품 (' + cartCount + ')');

                    const exceptINFInsu = insuInfo.filter(function (element) {
                        return element.relatorPassengerType !== 'INF';
                    });
                    const toastCount = exceptINFInsu.length - 1;

                    let toastText = '';
                    if (toastCount === 0) {
                        $.JJToast('' + passengerName + '의 카트에 상품을 담았어요');
                    } else {
                        $.JJToast('' + passengerName + '외  ' + toastCount + '명의 카트에 상품을 담았어요');
                    }

                    sUtil.FmtcurrencyCvt(I18N.language, pnrData.currencyCode, sUtil.getNumber($('#spanCost').children('.price_txt').text().replace(/[,]/g, '')) + insuFee, $('#spanCost'));
                    sUtil.FmtcurrencyCvt(I18N.language, pnrData.currencyCode, insuFee, $('#divInsuFee'));

                    $('#divInsu').show();
                    $('#extraServiceFee').show();

                    addCart(insuInfo);
                }
            }
        }, 1000);
    }


    const airportServiceMark = function () {
        if (cartData[0].blkSt === 'Y') {
            $('#inputCheck1').attr('checked', '');
        }
        if (cartData[0].ds === 'Y') {
            $('#inputCheck2').attr('checked', '');
        }
        if (cartData[0].plstBag === 'Y') {
            $('#inputCheck3').attr('checked', '');
        }
    }


    const selectCountryCode = function () {
        let result = false;
        $.ajax({
            url: 'selectCountryCode.json',
            type: 'post',
            async: false,
            data: {
                destination: journeys[0].designator.destination,
                origin: journeys[1].designator.origin,
                arrDestination: journeys[1].designator.destination
            },
            success: function (data) {
                result = data;
            }
        });
        return result;
    }


    const insuranceTimeLimit = function () {
        let result = false;
        $.ajax({
            url: 'insuranceTimeLimit.json',
            type: 'post',
            async: false,
            data: {},
            success: function (data) {
                result = data;
            }
        });

        return result;
    }


    const divSsrImageClick = function (event) {

        let url = $(event.currentTarget).attr('id');

        let paramPayType = payType;
        let paramBookType = bookType;
        if (inflType === 'M') {
            if ($('#inputRadioG').is(':checked')) {
                paramPayType = 'G';
                paramBookType = 'Common';
            } else {
                paramPayType = 'P';
                paramBookType = 'Point';
            }
        }

        pnrData.journeys = copyPnrData.journeys;
        $('#pnrData').val(JSON.stringify(pnrData));
        $('#payType').val(paramPayType);
        $('#bookType').val(paramBookType);
        $('#tripType').val(tripType);
        $('#inflType').val(inflType);
        $('#domIntType').val(domIntType);
        $('#cultureCode').val(cultureCode);
        $('#ssrAgentId').val(ssrAgentId);
        if (seatData !== '') {
            $('#seatData').val(JSON.stringify(seatData));
        }

        cartData[0].blkSt = $('#inputCheck1').is(':checked') ? 'Y' : 'N';
        cartData[0].ds = $('#inputCheck2').is(':checked') ? 'Y' : 'N';
        cartData[0].plstBag = $('#inputCheck3').is(':checked') ? 'Y' : 'N';
        sessionStorage.setItem('cartData', JSON.stringify(cartData));
        $('#cartData').val(JSON.stringify(cartData));

        if (url === 'InsuranceJoin') {
            if (insuranceNum !== 0) {
                if (insuranceNum === 1 || insuranceNum === 3) {
                    $('#alertText').html('한국 출발 왕복, 다구간 여정만 가입 가능합니다.');
                    fullPopOpen('divAlertModalLayer');
                } else if (insuranceNum === 2) {
                    $('#alertText').html('여행보험 가입은 포인트 결제가 불가합니다.');
                    fullPopOpen('divAlertModalLayer');
                } else if (insuranceNum === 4) {
                    $('#alertText').html('출발일로부터 1일 이상 남은 여정일 때 가입 가능합니다.');
                    fullPopOpen('divAlertModalLayer');
                } else if (insuranceNum === 5) {
                    $('#alertText').html('6개월 이내에 출발하는 여정일 때 가입 가능합니다.');
                    fullPopOpen('divAlertModalLayer');
                }
                return;
            }

            if (tripType === 'MT') {
                if (!selectCountryCode()) {
                    $('#alertText').html('한국 출발 왕복, 다구간 여정만 가입 가능합니다.');
                    fullPopOpen('divAlertModalLayer');
                    return;
                }
            }

            if (!insuranceTimeLimit()) {
                $('#alertText').html('매일 23:10 ~ 23:59 에는 여행자 보험 가입이 불가합니다.');
                fullPopOpen('divAlertModalLayer');
                return;
            }

            var w = 1300;
            var h = 700;
            var left = (document.body.offsetWidth / 2) - (w / 2);
            left += window.screenLeft; // 듀얼 모니터일 때
            var top = (document.body.offsetHeight / 2) - (h / 2);

            if (typeof (cartData[0].insu) === 'undefined') {
                insuranceUrl = window.open('viewInsuranceJoin.do', 'PopupWin', 'top=' + top + ',left=' + left + ',width=' + w + ',height=' + h + ',scrollbars=1,toolbar=0,directories=0,status=0,menubar=0,resizable=no', '_blank');
                insuranceUrl.focus();
                insuranceAddCart();
            } else {
                $('#btnConfirmAgree').off('click').on('click', replaceInsurance);
                $('#hText').html('이미 여행자 보험을 가입하셨습니다. 가입 상품을 변경하시겠습니까?');
                $('#commonConfirm').trigger('click');
            }
            return;
        }
        if (pnrData.seatDropYn === 'Y' && url === 'SeatSelect') {
            $.JJAlert('항공기 기재가 변경되었습니다.<br/>고객센터(1599-1500)로 연락주시기 바랍니다.', function () {
                $('#frmNext').attr({
                    'method': 'post',
                    'onsubmit': 'return true',
                    'action': url + '.do'
                }).submit();
            });
        } else {
            $('#frmNext').removeAttr('target');
            $('#frmNext').attr({
                'method': 'post',
                'onsubmit': 'return true',
                'action': url + '.do'
            }).submit();
        }
    }


    const changePayType = function () {
        const obj = $(event.currentTarget);
        const payType = obj.attr('id').substring(obj.attr('id').length - 1, obj.attr('id').length)
        cartData[0].payType = payType;
        cartData[0].currencyCode = payType === 'G' ? pnrData.currencyCode : 'PNT';
        sessionStorage.setItem('cartData', JSON.stringify(cartData));
    }


    const bizLiteMealCheck = function () {
        let result = true;
        for (let i = mealJourneysNum; i < journeysLength; i++) {
            if (!result) {
                break;
            }
            const segmentsLength = journeys[i].segments.length;
            for (let j = mealSegmentsNum; j < segmentsLength; j++) {
                if (j === 1) {
                    if (journeys[i].segments[0].identifier.identifier === journeys[i].segments[1].identifier.identifier) {
                        break;
                    }
                }
                if (!result) {
                    break;
                }
                const segments = journeys[i].segments[j];
                if (segments.fares[0].productClass === 'N' && segments.legs[0].legInfo.prbcCode.indexOf('INT') !== -1) {
                    const market = cartData[0].market.filter(function (element) {
                        return element.manualKey === segments.segmentKey;
                    });
                    const items = market[0].items;
                    const itemsLen = items.length;
                    for (let k = 0; k < itemsLen; k++) {
                        const ssrs = items[k].ssrs.filter(function (element) {
                            return element.ssrCode.includes('ML');
                        });
                        if (ssrs.length === 0) {
                            result = false;
                            break;
                        }
                    }
                }
            }
        }
        return result;
    }


    const btnNextClick = function () {
        if (domIntType === 'I') {
            if (bizLiteMealCheck()) {
                goConfirm();
            } else {
                $('#alertText').html('BIZ LITE 운임 선택시 기내식을 반드시 선택하셔야 합니다.');
                fullPopOpen('divAlertModalLayer');
            }
        } else {
            goConfirm();
        }
    }


    const openModal = function (mTarget, mType) {
        if ($.modal.isActive()) {
            $.modal.close();
        }
        $('#btnModalOpen').data('target', mTarget);
        $('#btnModalOpen').data('modal-type', mType);
        $('#btnModalOpen').trigger('click');
    };


    const callPartnerCardDiscount = function (_this) {
        if ($('#partnerCardDiscountLayer').children().length === 0) {
            $.ajax({
                async: false,
                type: 'post',
                url: '../layer/viewPartnerDisCount.json',
                data: {
                    temp: 'temp'
                },
                success: function (data) {
                    $('#partnerCardDiscountLayer').html(data);
                    openModal('#partnerCardDiscountLayer', 'full');
                }
            });
        } else {
            openModal('#partnerCardDiscountLayer', 'full');
        }
    }


    const initPage = function () {
        makeJourneysTab();
        makePaxCart();
        if (inflType === 'B') {
            airportServiceMark();
            setBottomSheet();
            seatPriceSet();
        }
        cartInit(cartData);
        if ($('#divCartTab').children().length === 1) {
            $('#divCartTab').remove();
        }
    }

    if (inflType === 'M') {
        let grayBoxDisplay = false;
        for (let i = 0; i < paxInfoLength; i++) {
            if (paxInfo[passengerObjKeyArr[i]].customerNumber === JSON.parse(USER_INFO.get()).customerNo) {
                grayBoxDisplay = true;
                break;
            }
        }
        if (JSON.parse(USER_INFO.get()).userId === undefined || pnrData.bookingKind === 'VOUCHER' || !grayBoxDisplay) {
            $('.gray-box').hide();
        }
    }


    const fnCheckHistoryBack = function () {

        $.ajax({
            async: false,
            type: 'post',
            url: '../payment/checkHistoryBack.json',
            data: {
                sessionKey: 'SS_ACCESS_PAYMENT_' + PssToken
            },
            success: function (data) {
                if (data.data.hasSession) {
                    if (inflType === 'B') {

                        $.JJAlert('뒤로가기로 진입해 첫번째 항공권 선택 단계로 이동됩니다.', function () { <!--뒤로가기로 진입해 첫번째 항공권 선택 단계로 이동됩니다. -->
                            Progress.show();

                            const rqCancelPnr = {
                                recordLocator: ssTimeoutRecordLocator,
                                bookingKey: ssTimeoutBookingKey,
                            };
                            $.ajax({
                                type: 'post',
                                url: '../payment/cancelPnr.json',
                                beforeSend: function (request) {
                                    request.setRequestHeader('PssToken', ssTimeoutPssToken);
                                },
                                data: {
                                    rqCancelPnr: JSON.stringify(rqCancelPnr)
                                },
                                success: function (data) {
                                }
                            });

                            if (APP_DATA.deviceType !== 'APP') {
                                const formObj = $('#frmNext');

                                formObj.attr('action', '../booking/Availability.do');
                                formObj.submit();
                            } else {
                                if (APP_DATA.deviceOs === 'aos') {
                                    window.JejuAir.callBooking();
                                } else if (APP_DATA.deviceOs === 'ios') {
                                    window.webkit.messageHandlers.callBooking.postMessage({});
                                }
                            }
                        });
                    } else {
                        $.JJAlert('뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다.', function () { <!--뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다. -->
                            Progress.show();
                            let resvDetailReq = {
                                recordLocator: copyPnrData.recordLocator,
                                cultureCode: cultureCode,
                                depDate: copyPnrData.journeys[0].segments[0].designator.departure.substring(0, 10),
                                orderSearchType: 'P'
                            };
                            $('#resvDetailReq').val(JSON.stringify(resvDetailReq));

                            const formObj = $('#frmNext');

                            formObj.attr('action', '../mypage/viewReservationDetail.do');
                            formObj.submit();
                        });
                    }
                }
            }
        });
    }


    $(window).bind('pageshow', function (e) {
        if (e.originalEvent && e.originalEvent.persisted) {
            fnCheckHistoryBack();
        }
    });

    $(document).ready(function () {
        $(document).ajaxStart(function () {
            Progress.show();
        });
        $(document).ajaxStop(function () {
            Progress.hide();
        });
        BIZ_COMMONS_SCRIPT.callI18n("0000000350_0000000360_0000000361", function () {
            initPage()
        });

        fnCheckHistoryBack();

        if (inflType !== 'B') {
            $(document).trigger('changeLayout', 'sub');
        }

        if (inflType === 'M' && cartData.length === 0) {
            if ($('#inputRadioP').is(':checked')) {
                ssrReqInit('PNT');
            } else {
                ssrReqInit();
            }
        }


        $('[id^=btnCart]').on('click', btnCartClick);

        if (paxInfoLength > 1) {

            $(document).on('click', '.put-product__item', paxCartClick);


            $('#btnBack').on('click', locationBack);
        }


        $('#SeatSelect, #BaggageSelect, #MealSelect, #JJLoungeSelect, #InsuranceJoin').on('click', divSsrImageClick);


        $(document).on('click', 'button[name=btnDelete], button[name=btnExchange]', cartDelete);


        $('#btnConfirmDisAgree').on('click', function (e) {
            $.modal.close();
        });


        $('[id^=btnNext]').on('click', btnNextClick);


        $('input[name=inputRadio]').on('change', changePayType);

    });

</script>

</body>
</html>