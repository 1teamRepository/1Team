<!-- 항공권 예매 -->
<!-- 부가서비스 선택 -->
<!--좌석 선택 -->

<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1, user-scalable=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <title>제주항공</title>
    <link rel="icon" type="image/png" href="https://static.jejuair.net/hpgg/resources/images/icon/favicon.ico" />
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/global.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/component.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/page.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/responsive.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/lang.css">




    <!-- 다국어 관련 스크립트 변수 -->
    <script type="text/javascript">
        var I18N = {
            language: "ko",
            country: "KR",
            countryAndLanguage: [{ "languages": [{ "cntryCd": "KR", "langNm": "한국어", "cntryNm": "대한민국", "langCd": "ko" }], "cntryCd": "KR", "cntryNm": "대한민국" }, { "languages": [{ "cntryCd": "JP", "langNm": "日本語", "cntryNm": "日本", "langCd": "ja" }], "cntryCd": "JP", "cntryNm": "日本" }, { "languages": [{ "cntryCd": "CN", "langNm": "中文(内地)", "cntryNm": "中国", "langCd": "zh-CN" }], "cntryCd": "CN", "cntryNm": "中国" }, { "languages": [{ "cntryCd": "TW", "langNm": "中文(繁體)", "cntryNm": "台灣", "langCd": "zh-TW" }], "cntryCd": "TW", "cntryNm": "台灣" }, { "languages": [{ "cntryCd": "HK", "langNm": "中文(繁體)", "cntryNm": "香港", "langCd": "zh-HK" }], "cntryCd": "HK", "cntryNm": "香港" }, { "languages": [{ "cntryCd": "MO", "langNm": "中文(繁體)", "cntryNm": "澳門", "langCd": "zh-HK" }], "cntryCd": "MO", "cntryNm": "澳門" }, { "languages": [{ "cntryCd": "US", "langNm": "ENGLISH", "cntryNm": "US", "langCd": "en" }], "cntryCd": "US", "cntryNm": "US" }, { "languages": [{ "cntryCd": "TH", "langNm": "ENGLISH", "cntryNm": "THAILAND", "langCd": "en" }], "cntryCd": "TH", "cntryNm": "THAILAND" }, { "languages": [{ "cntryCd": "VN", "langNm": "ENGLISH", "cntryNm": "VIETNAM", "langCd": "en" }], "cntryCd": "VN", "cntryNm": "VIETNAM" }, { "languages": [{ "cntryCd": "PH", "langNm": "ENGLISH", "cntryNm": "PHILLIPINES", "langCd": "en" }], "cntryCd": "PH", "cntryNm": "PHILLIPINES" }, { "languages": [{ "cntryCd": "MY", "langNm": "ENGLISH", "cntryNm": "MALAYSIA", "langCd": "en" }], "cntryCd": "MY", "cntryNm": "MALAYSIA" }, { "languages": [{ "cntryCd": "LA", "langNm": "ENGLISH", "cntryNm": "LAOS", "langCd": "en" }], "cntryCd": "LA", "cntryNm": "LAOS" }, { "languages": [{ "cntryCd": "RU", "langNm": "ENGLISH", "cntryNm": "RUSSIA", "langCd": "en" }], "cntryCd": "RU", "cntryNm": "RUSSIA" }, { "languages": [{ "cntryCd": "SG", "langNm": "ENGLISH", "cntryNm": "SINGAPORE", "langCd": "en" }], "cntryCd": "SG", "cntryNm": "SINGAPORE" }, { "languages": [{ "cntryCd": "MN", "langNm": "ENGLISH", "cntryNm": "MONGOLIA", "langCd": "en" }], "cntryCd": "MN", "cntryNm": "MONGOLIA" }]
        }
        var APP_DATA = {
            loginSuccessFirstChecker: '', // 값의 유무로만 판단.
            // deviceOs : "",
            // deviceType : ""
            deviceOs: "none",
            deviceType: "PC",
            shortUrl: ""
        }
        var USER_INFO = {
            get: function () {
                var data = JSON.stringify({ "ffpNo": "060007812", "customerNo": "060007812", "userId": "dmsql0486", "email": "dmsql0486@naver.com", "birthDate": "19950214", "nationalityCode": "KR", "engFirstName": "EUNBI", "engLastName": "KIM", "korFirstName": "은비", "korLastName": "김", "gender": "F", "enrollDate": "20180725", "membergrade": "S", "authorities": [{}, {}], "name": "김은비", "mobileNo": "82-010-9619-0014", "availPoint": "0", "snsAccountList": [], "resultCode": "0000", "snsloginFlag": "N", "appToken": "131bb5d7b3881315e3a65c7ec950e5edb6c932bce293080455cfdf6ac12674bds9qm5G359t8Cug8yS40e3b18zg1blyfzehA7u0aggk3Vas34hxmS8Z79hIN379hozCg1at9n1yqVh3S7Oqt94nFP4y4w44vog2ilepx8bDv8t77fe8UV2u55b69ty0Ti36u00dk89sg8tNVJ43029638f7w4j7e7Osw279cp344jx8vwa65K955k4i9mKm6d" });
                return data || "{}";
            }
        }
        var PROP = {
            assetsUrl: "https://static.jejuair.net/hpgg/resources",
            cmsUrl: "https://static.jejuair.net/cms/images",
        }
        var USER_DEVICE = {
            getName: function () {
                return "PC";
            },
            isApp: function () {
                return false;
            },
            isMobile: function () {
                return false;
            },
            isWeb: function () {
                return;
            }
        }
        var APPCALL = {
            setMenu: function () {

                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goMenu.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMenu();
                } else {
                    console.log("PC에서 호출작동됨 :: 메뉴를 개방하라");
                }
            },
            back: function () {
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goBack.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goBack();
                } else {
                    window.history.back();
                }
            },
            close: function () {
                if (APP_DATA.deviceOs == "ios") {
                    if (window.webkit.messageHandlers.goClose) {
                        window.webkit.messageHandlers.goClose.postMessage({});
                    }
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goClose();
                } else {
                    console.log("PC는 닫기가 존재하지 않습니다.");
                }
            },
            afterLogin: function (userInfo) { // 로그인 시, APP은 1번 호출한다.
                if (!userInfo) {
                    userInfo = USER_INFO.get();
                }
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.userInfo.postMessage(userInfo);
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.userInfo(userInfo);
                } else {
                    console.log("호출완료");
                }
            },
            callPassport: function () { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goOCRPassport.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goOCRPassport();
                } else {
                    console.log("호출완료");
                }
            },
            callPastBoardingPass: function () { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goPastBoardingPass.postMessage({})
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goPastBoardingPass()
                } else {
                    console.log("호출완료");
                }
            },
            callBoardingPass: function (jsonString) { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.mobileTicket.postMessage(jsonString)
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.mobileTicket(jsonString)
                } else {
                    console.log("호출완료");
                }
            },
            goMain: function () { //메인화면 이동
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.callMain.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMain();
                } else {
                    location.href = "/" + I18N.language + "/main/base/index.do";
                }
            },
            goLogout: function () {// 로그아웃시 네티이브 호출
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goLogout.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goLogout();
                } else {
                    console.log('logout');
                }
            },
            loginState: function () { //로그인 상태 체크
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.onLoginState.postMessage({})
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.onLoginState();
                }
            },

            goMyCoupon: function () { //쿠폰 이동
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goMyCoupon.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMyCoupon();
                } else {
                    URL_LINK.getI18Url('/member/mypage/myCoupon.do');
                }
            },

            goMarket: function () {
                if (APP_DATA.deviceOs !== "ios" && APP_DATA.deviceOs !== "aos") {
                    var infos = getMobileDevice(navigator.userAgent);
                    if (infos.isiOS) {
                        window.open("https://itunes.apple.com/ko/app/jeju-air/id373053637?l=ko&mt=8", "_blank");
                    } else if (infos.isAndroid) {
                        window.open("https://play.google.com/store/apps/details?id=com.parksmt.jejuair.android16", "_blank");
                    }
                }
            }
        }
        var URL_LINK = {
            getI18Url: function (path) {
                /*
                if(path.indexOf('/corpService/') == 0 ) {
                    location.href = path;
                    return;
                } else if(path.indexOf('/member/auth/') == 0 ) {
                    location.href = path;
                    return;
                } else
                */
                if (path.indexOf('/bonusProgram/') == 0) {
                    location.href = path;
                    return;
                } else if (path.indexOf('#') == 0) {
                    location.href = path;
                    return;
                } else if (path.indexOf('http') == 0) {
                    window.open(path, "_blank");
                    return;
                } else if (path.indexOf('/myPage/myBoardingList.do') == 0) {
                    alert("준비중입니다.");
                    return;
                }
                if (path.indexOf('viewCheckin.do') !== -1) {
                    URL_LINK.getHwUrl(path);
                } else {
                    location.href = "/" + I18N.language + path;
                }
            },
            getHwUrl: function (path, params) { //homepage <-> webcheckin
                var vHtml = '';
                if (params) {
                    Object.keys(params).map(function (key) {
                        vHtml += '<input type="hidden" name="' + key + '" value="' + params[key] + '">';
                    });
                }
                $("body").append("<form id='hybdComForm'><input type='hidden' name='targetUrl' value='" + "/" + I18N.language + path + "'/>" + vHtml + "</form>");
                $("#hybdComForm").prop("action", "/" + I18N.language + "/common/connect/index.do").prop("method", "POST").prop("target", "_self").submit();
            }
        }

        if (APP_DATA.loginSuccessFirstChecker != "") {
            APPCALL.afterLogin();
        }

        if (location.href.indexOf('flag=logout') !== -1) {
            APPCALL.goLogout();
        }

        //웹 로그인 상태 확인 콜백
        //true : 로그인 상태
        //false : 비로그인 상태 
        function callbackLoginState(result) {
            var isLogin = "true";//web 로그인여부
            if (!isLogin && result) { //web비로그인 native로그인일경우
                APPCALL.goLogout(); //native로그아웃
            }
        }

        if (USER_DEVICE.isApp) {//앱일경우 native로그인 상태체크
            APPCALL.loginState();
        }

        // 웹뷰 이탈 시 좌석 해제 홈페이지에 없어 에러 발생해 추가함
        function callbackFocusOut() { }

        //스크립 오류 발생으로 인해 빈 메소드 추가
        function _AutofillCallbackHandler() { }

        //안드로이드 modal일경우 back버튼 클릭시 뒤로가기가 아닌 modal닫기
        function goBackBtn() {

            var isOpen1 = false;
            var isOpen2 = false;

            if ($('html').hasClass('open-modal')) {
                $('div.jquery-modal').find('a.modal__close').trigger('click');
                for (var i = 0; i < $('div.modal-wrapper').length; i++) {
                    if ($('div.modal-wrapper:eq(' + i + ')').hasClass('on')) {
                        $('div.modal-wrapper:eq(' + i + ')').find('a.modal__close').trigger('click');

                        if ($('html').hasClass('open-modal')) {
                            $('html').removeClass('open-modal');
                        }
                        break;
                    }
                };

                return false;
            }

            if ($('body > div').hasClass('dim')) {
                //bottomSheet
                for (var i = 0; i < $('div.bottom-sheet').length; i++) {
                    if ($('div.bottom-sheet:eq(' + i + ')').css('display') === 'block') {
                        $('div.bottom-sheet:eq(' + i + ')').find('button[data-element="bottomSheet__button-close"]').trigger('click');
                        break;
                    }
                };
                return false;
            }

            if ($('div.flight-layer').length > 0) {
                for (var i = 0; i < $('div.flight-layer').length; i++) {
                    if ($('div.flight-layer:eq(' + i + ')').css('display') === 'block') {
                        $('div.flight-layer:eq(' + i + ')').find('a.layer-close').trigger('click');
                        isOpen1 = true;
                        break;
                    }
                };
            }

            if ($('div.date-layer').length > 0) {
                for (var i = 0; i < $('div.date-layer').length; i++) {
                    if ($('div.date-layer:eq(' + i + ')').css('display') === 'block') {
                        $('div.date-layer:eq(' + i + ')').find('a.layer-close').trigger('click');
                        isOpen2 = true;
                        break;
                    }
                };
            }

            if (!$('html').hasClass('open-modal') && !$('body > div').hasClass('dim') && !isOpen1 && !isOpen2) {
                try {
                    window.JejuAir.callBackBtn('Y');
                } catch (e) { }
            }

        }

    </script>





    <script>
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'event': 'pageview',
            'dimension2': btoa(JSON.parse(USER_INFO.get()).userId),
            'dimension3': 'PC-WEB',
            'dimension4': JSON.parse(USER_INFO.get()).membergrade
        })
    </script>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
                w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-PD2BQQ4');</script>
    <!-- End Google Tag Manager -->
    
    
    <script>
        var langCdtTag = 'ko';	
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49935507-8"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'UA-49935507-8');
            </script> 종료 N006 -->

    <!-- Global site tag (gtag.js) - Google Ads -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-763115837"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-763115837');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49935507-9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-49935507-9');
    </script>


    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"> </script>
    <script type="text/javascript">
        if (!wcs_add) var wcs_add = {};
        wcs_add["wa"] = "s_29f8dbdc0496";
        if (!_nasa) var _nasa = {};
        if (window.wcs) {
            wcs.inflow();
            wcs_do(_nasa);
        }
    </script>
    <script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/adfit/static/kp.js"></script>
    <script type="text/javascript">kakaoPixel('6788472491368532022').pageView();</script>
    <script src='/tuna_.js'></script>
    <script>!function (a) { var e = "https://s.go-mpulse.net/boomerang/", t = "addEventListener"; if ("False" == "True") a.BOOMR_config = a.BOOMR_config || {}, a.BOOMR_config.PageParams = a.BOOMR_config.PageParams || {}, a.BOOMR_config.PageParams.pci = !0, e = "https://s2.go-mpulse.net/boomerang/"; if (window.BOOMR_API_key = "AYF4Y-8J9XB-2BDC5-23EM3-Q7Z28", function () { function n(e) { a.BOOMR_onload = e && e.timeStamp || (new Date).getTime() } if (!a.BOOMR || !a.BOOMR.version && !a.BOOMR.snippetExecuted) { a.BOOMR = a.BOOMR || {}, a.BOOMR.snippetExecuted = !0; var i, _, o, r = document.createElement("iframe"); if (a[t]) a[t]("load", n, !1); else if (a.attachEvent) a.attachEvent("onload", n); r.src = "javascript:void(0)", r.title = "", r.role = "presentation", (r.frameElement || r).style.cssText = "width:0;height:0;border:0;display:none;", o = document.getElementsByTagName("script")[0], o.parentNode.insertBefore(r, o); try { _ = r.contentWindow.document } catch (O) { i = document.domain, r.src = "javascript:var d=document.open();d.domain='" + i + "';void(0);", _ = r.contentWindow.document } _.open()._l = function () { var a = this.createElement("script"); if (i) this.domain = i; a.id = "boomr-if-as", a.src = e + "AYF4Y-8J9XB-2BDC5-23EM3-Q7Z28", BOOMR_lstart = (new Date).getTime(), this.body.appendChild(a) }, _.write("<bo" + 'dy onload="document._l();">'), _.close() } }(), "".length > 0) if (a && "performance" in a && a.performance && "function" == typeof a.performance.setResourceTimingBufferSize) a.performance.setResourceTimingBufferSize(); !function () { if (BOOMR = a.BOOMR || {}, BOOMR.plugins = BOOMR.plugins || {}, !BOOMR.plugins.AK) { var e = "" == "true" ? 1 : 0, t = "", n = "3r2ryoax3cp2syv4im5q-f-b08d12684-clientnsv4-s.akamaihd.net", i = "false" == "true" ? 2 : 1, _ = { "ak.v": "32", "ak.cp": "881439", "ak.ai": parseInt("562947", 10), "ak.ol": "0", "ak.cr": 7, "ak.ipv": 4, "ak.proto": "h2", "ak.rid": "c465bdb", "ak.r": 44964, "ak.a2": e, "ak.m": "b", "ak.n": "essl", "ak.bpcip": "220.117.28.0", "ak.cport": 53682, "ak.gh": "23.216.159.165", "ak.quicv": "", "ak.tlsv": "tls1.3", "ak.0rtt": "", "ak.csrc": "-", "ak.acc": "", "ak.t": "1656505147", "ak.ak": "hOBiQwZUYzCg5VSAfCLimQ==IGx8P0zjsSb49B7usMZAZu5WFJvUAgdT+eva5O72xbUZPE3T8Lk5ZgHzAbTNtblZ8Mk9KTo/zvazFRaVxGRaWRfUSpHBJ41QPhOajNrCzxH52qeo1TQmAa4qPdS9prB4Xzz68Ok7upjEpaO+R7K1pUxsQircSHXoWvs9c6iZFzr3bOFyzGpC+b6kmG8iLNcw7XPCMONsH02VhPu41s3tjV54dByEJiEeZBNr9FuLmJPyeveM8Y6J2fv1Ct2MeIzabH+X5vgaxSWDDAnz+tGnNsMnYyFItVl7n8EsDmuh8izpO+y6BogV2Eo9rXGQl/EyHiZmPasE69+Q7eo6QYl9le4fWoST7anug8cKXfihExnv8e+JJw6fKnZJH389LAFlQ8tgqtFPVT2V70GP6T5xrFZlVqvVe3WKgbIUNf7Ifzg=", "ak.pv": "78", "ak.dpoabenc": "", "ak.tf": i }; if ("" !== t) _["ak.ruds"] = t; var o = { i: !1, av: function (e) { var t = "http.initiator"; if (e && (!e[t] || "spa_hard" === e[t])) _["ak.feo"] = void 0 !== a.aFeoApplied ? 1 : 0, BOOMR.addVar(_) }, rv: function () { var a = ["ak.bpcip", "ak.cport", "ak.cr", "ak.csrc", "ak.gh", "ak.ipv", "ak.m", "ak.n", "ak.ol", "ak.proto", "ak.quicv", "ak.tlsv", "ak.0rtt", "ak.r", "ak.acc", "ak.t", "ak.tf"]; BOOMR.removeVar(a) } }; BOOMR.plugins.AK = { akVars: _, akDNSPreFetchDomain: n, init: function () { if (!o.i) { var a = BOOMR.subscribe; a("before_beacon", o.av, null, null), a("onbeacon", o.rv, null, null), o.i = !0 } return this }, is_complete: function () { return !0 } } } }() }(window);</script>
</head>

<body id="bookingLayoutBody">


    <!-- 앱설치알림 -->
    <!-- 남은시간 연장 및 공지바 노출-->
    <div class="top-custom-banner ticketing_top_bar">
        <!--활성화시 .on 추가-->
        <div class="top-custom-banner__inner">
            <dl class="time_bar">
                <dt>이용 가능시간 : </dt>
                <dd><strong></strong></dd>
            </dl>
            <div class="link-wrap--arrow">
                <button type="button" class="link-wrap__text"
                    onclick="javascript:sendExtTripsell();"><span>연장하기</span></button>
            </div>
            <button type="button" class="top-custom-banner__close" aria-label="닫기"></button>
        </div>
    </div>
    <!-- 앱설치알림 끝-->
    <!-- header -->
    <div id="header" class="header">

        <!-- mobile -->
        <header class="header__inner mobile-only">
            <div class="header__button-wrap subType" data-element="gnbToggle">
            </div>
            <!-- 스크롤시 스티키 상단 -->

            <!-- 전체메뉴 -->
            <div class="gnb" id="gnb">
                <div class="gnb__header">
                    <div class="gnb__header-top" data-absolute-sticky>
                        <div class="additional">
                        </div>
                    </div>
                    <div class="gnb__header-bot">
                        <div class="before">
                            <div class="title">
                                로그인 하시고<br>더 풍부한 혜택을 누리세요!
                            </div>
                            <!-- fixed 영역 -->
                            <div class="sticky-wrap">
                                <div class="button-wrap button-flex sticky__inner gnb-sticky1">
                                </div>
                            </div>
                            <!-- //fixed 영역 -->
                            <div class="title">
                                <div class="title__section title__section--additional">제주항공에서 예약하지 않으셨다면?
                                    <div class="additional">
                                        <div class="link-wrap">
                                            <a href="javascript:;" class="link-wrap__underline" data-action="menu"
                                                data-menu-name="bookingSearch"><span>예약조회</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="icon-link">
                            </div>
                        </div>
                        <!-- //로그인 후 -->
                    </div>
                </div>
                <hr class="section-spacer">
                <div class="gnb-wrap">
                    <div class="gnb__footer">
                    </div>
                </div>
            </div>
            <!-- //전체메뉴 -->
        </header>
        <!-- //mobile -->

        <!-- pc용 공통 헤더 -->

        <!--  상단 헤더  -->
        <div class="header__util util pc-only">
            <div class="util__inner">
                <div class="util__benefit">
                    <!-- 기업우대 여행자우대 사이트 한국어만 표출   , 기업우대서비스 오픈이 11월 8일,  오픈 시기  -->
                    <a href="javascript:;" class="util__link company" data-action="menu" data-menu-name="company">기업
                        우대</a>
                    <div class="util__link-wrap" data-element="toggle"
                        data-options='{"mode": "slide", "speed": 0, "clickToClose": true}'>
                        <button type="button" class="util__link arrow__link" data-element="toggle__anchor">여행사
                            우대</button>
                        <div class="util__link-panel" data-element="toggle__panel">
                            <a href="javascript:;" class="item" data-action="menu"
                                data-menu-name="travelAgencyD">국내선</a>
                            <a href="javascript:;" class="item" data-action="menu"
                                data-menu-name="travelAgencyF">국제선</a>
                        </div>
                    </div>
                    <a href="https://cargo.jejuair.net" target="_black" class="util__link2" data-action="menu"
                        data-menu-name="Cargo">Cargo</a>
                </div>


                <div class="util__link-list" data-custom-toggle="wrap">
                    <!--  로그인 전 노출 -->
                    <a href="javascript:;" class="util__link" data-action="menu" data-menu-name="login">로그인</a>
                    <a href="javascript:;" class="util__link" data-action="menu" data-menu-name="join">회원가입</a>
                    <!-- / 로그인 전 노출 끝 -->

                    <!--  로그인 후 노출 -->
                    <!--
                    <span class="util__personal">
                        <a href="javascript:;" onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointSearch.do');"><span class="text">나의 포인트</span> <strong class="point" data-user-info-box="availPoint">1,000P</strong></a>
                    </span>
                    <a href="javascript:;" class="util__link" id="logout" >로그아웃</a>
                    -->
                    <!-- / 로그인 후 노출 끝 -->

                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/main.do')"
                        class="util__link">리프레시 포인트</a>
                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/customerService/csCenter/faqList.do')"
                        class="util__link">고객센터</a>
                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/customerServiceCenter/notice.do')"
                        class="util__link">공지사항</a>


                    <!--  언어 설정  -->
                    <!-- 일단 주석으로 처리할게요 -->
                    <button type="button" class="util__country" data-custom-toggle="button">
                        <span class="text">대한민국</span>
                    </button>
                    <!--
                    <div class="header-country__layer" data-custom-toggle="panel">
                        <div class="country__title">
                            지역 및 언어 설정
                        </div>
                        <div class="country__input">
                            <div class="select-wrap select-wrap--line">
                                <select title="국가 선택" class="select-wrap__select" name="countryChoice" id="countryChoice">
                                    <option value="KR" selected>대한민국</option>
                                    <option value="JP" >日本</option>
                                    <option value="CN" >中国</option>
                                    <option value="TW" >台灣</option>
                                    <option value="HK" >香港</option>
                                    <option value="MO" >澳門</option>
                                    <option value="US" >US</option>
                                    <option value="TH" >THAILAND</option>
                                    <option value="VN" >VIETNAM</option>
                                    <option value="PH" >PHILLIPINES</option>
                                    <option value="MY" >MALAYSIA</option>
                                    <option value="LA" >LAOS</option>
                                    <option value="RU" >RUSSIA</option>
                                    <option value="SG" >SINGAPORE</option>
                                    <option value="MN" >MONGOLIA</option>
                                </select>
                            </div>
                            <div class="select-wrap select-wrap--line">
                                <select class="select-wrap__select" title="언어 선택" name="languageChoice" id="languageChoice">
                                    <option value="ko" selected>한국어</option>
                                </select>
                            </div>
                            <button class="country__button" id="countryAndLanguageChoiceBtn" data-flag="base">확인</button>
                        </div>
                        <button class="button-close" data-custom-toggle="close">
                            <span class="hidden">닫기</span>
                        </button>
                    </div>
					-->
                    <!-- / 언어 설정 끝 -->
                </div>
            </div>
        </div>
        <!-- / 상단 헤더 끝 -->



        <!-- / 하단 헤더  -->
        <header class="header__inner  pc-only">
            <div class="sticky-header" data-sticky>

                <!-- 헤더 보이는 부분 -->
                <div class="header__box">
                    <!-- header__box 추가 -->
                    <h1 class="header__logo">
                        <a href="javascript:;" data-action="menu" data-menu-name="main">
                            <img src="../../../../../../..//user/lib/images//JEJUair-Logo.png" alt="jejuairlogo"
                                loading="lazy" />
                        </a>
                    </h1>
                    <h2 class="header__page-name"></h2>

                    <!-- 대표 메뉴 -->
                    <div class="header__link-list">
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/ibe/booking/Availability.do')">항공권 예매</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/member/mypage/main.do')">마이페이지</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/additionalService/service/main.do')">부가서비스 안내</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/ibe/checkin/viewCheckin.do')">모바일 탑승권</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/event/event.do')">이벤트</a>
                    </div>
                    <!-- / 대표 메뉴 끝 -->

                    <div class="header__search-wrap header-search subType" data-custom-toggle="wrap">
                        <!-- <button type="button" class="header__button-ticket">
						<span class="hidden">티켓보기</span>
						</button> -->
                        <button type="button" class="header__button-search" data-custom-toggle="button">
                            <img loading="lazy"
                                src="https://static.jejuair.net/hpgg/resources/images/icon/icon-header-search.png"
                                alt="검색">
                        </button>
                        <div class="header-search__layer" data-custom-toggle="panel">
                            <div class="header-search__form" data-element="form">
                                <input type="search" class="search__text" placeholder="검색어를 입력해 주세요"
                                    data-element="input">
                                <button type="button" data-element="remove" class="input__remove-button">삭제</button>
                                <div class="search-button">
                                    <button class="button" type="button">검색</button>
                                </div>
                            </div>
                            <!-- <button type="button" class="search__close" data-custom-toggle="button">
								<span class="hidden">검색창 닫기</span>
							</button> -->
                        </div>
                    </div>

                    <!-- 사이트 맵 버튼 -->
                    <div class="header__button-wrap subType" data-element="gnbToggle">
                        <button type="button" class="gnb__button">
                            <img loading="lazy"
                                src="../../../../../../..//user/lib/images//icon-hamburger-header.png" alt="전체메뉴 열기"
                                class="open">
                            <!-- 2021.06.08 메인페이지는 스크롤 시, 배경이 주황색으로 변하며 대비를 이루기 위해 흰색을 매치한다. -->
                            <!--2021-04-13 이미지로 변경 // 전체메뉴 버튼-->
                        </button>
                    </div>
                    <!-- / 사이트 맵 버튼 끝 -->


                    <!-- goto-quick-booking : 스티키 클릭용 -->
                    <!-- 스크롤 아래로 내릴시 나옴 -->
                    <div class="goto-quick-booking">
                        <a href="javascript:;">
                            <span>어디로 여행가세요?</span>
                            <div class="goto-btn">
                                <span>항공권 검색</span>
                            </div>
                        </a>
                    </div>
                    <!-- //goto-quick-booking 끝 -->


                </div>
                <!-- / 헤더 보이는 부분 끝 -->

                <!-- 사이트 맵메뉴 -->
                <div class="gnb" id="gnb">
                    <div class="gnb__header">
                        <div class="gnb__header-top" data-absolute-sticky>
                            <a href="javascript:;" class="button-home" title="홈으로 이동" data-action="menu"
                                data-menu-name="main">
                                <img loading="lazy"
                                    src="https://static.jejuair.net/hpgg/resources/images/upload/icon_bottombar_home_on_56x2.png"
                                    alt="홈">
                            </a>
                            <a class="select-wrap select-wrap--inline lang-type" id="btnCountrySelector"
                                data-modal-type="full">대한민국</a>
                            <div class="additional">
                                <!-- D : '웹'일경우 APP다운로드 버튼 -->
                                <button type="button" class="button button--small" onclick="APPCALL.goMarket()"><span
                                        class="button__text button__icon">APP</span></button>
                                <a href="javascript:;" class="button-search" title="통합검색이동">
                                    <img loading="lazy"
                                        src="https://static.jejuair.net/hpgg/resources/images/icon/icon-header-search.png"
                                        alt="통합 검색 이동">
                                </a>
                                <a href="javascript:;" class="gnb-close" aria-label="닫기">
                                    <img loading="lazy"
                                        src="../../../../../../..//user/lib/images//icon-header-gnb-close.png"
                                        alt="전체메뉴 닫기" class="close">
                                </a>
                            </div>
                        </div>
                    </div>
                    <hr class="section-spacer">
                    <div class="gnb-wrap">
                        <div class="gnb__box">
                            <div class="gnb__title">회원 혜택 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/memberBenefit.do?param=newMember ')">신규회원
                                    혜택</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/memberBenefit.do?param=promotion')">프로모션
                                    코드</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/main.do')">리프레시 포인트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointBuy.do')">포인트 구매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointSearch.do')">포인트
                                    조회</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/gifticket.do')">기프티켓</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">여행준비 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/booking/Availability.do')">항공권 예매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/fare/domesticBenefit.do')">국내선 운임</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/fare/internationalBenefit.do')">국제선 운임</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/flight/viewScheduleInfo.do')">운항 정보</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/booking/viewMilitaryInput.do')">민항공후급증 예약</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">부가서비스 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/main.do')">부가서비스 소개</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedBaggage.do')">사전
                                    수하물</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedSeat.do')">사전
                                    좌석</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedMeal.do')">사전
                                    기내식</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/insurance.do')">보험 상품</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/bundleGuide.do')">번들 묶음
                                    구매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/afterPayGuide.do')">나중에
                                    결제</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/carringBagGuide.do')">자전거
                                    캐링백 서비스</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">프리미엄 혜택 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/premium/businesslite/main.do')">비즈니스 라이트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/premium/sportsMembership/main.do')">스포츠 멤버십</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/allianceService.do')">제휴서비스</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('https://www.jejuairshop.com?jjout=Y')">온라인몰 제이샵</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">마이페이지</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/main.do')">마이페이지 메인</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/mypage/viewOnOffReservationList.do')">예약 조회</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/mypage/viewReservationList.do')">나의 예약 현황</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/myFlightList.do')">나의 탑승 내역</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/viewMyGiftTicketList.do')">나의 기프티켓</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/memberInfoModify.do')">회원정보 수정</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">탑승 수속 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/checkin/viewCheckin.do')">모바일 탑승권</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/boardingProcessGuide/baggageGuide.do')">수하물</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/fastProcedure/guide.do')">빠른 수속</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/airport/info.do')">공항 정보</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/help/main.do')">도움이 필요한 고객</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">기내 서비스 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/service/airCafe.do')">에어카페</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('http://jejuair.granddfs.com/?jjout=Y')">기내 면세</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/service/funService.do')">기내 FUN 서비스</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/immigration/etcFormGuide.do')">출입국 신고서
                                    작성방법</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">이벤트</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/event/event.do')">진행중인 이벤트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/event/pastEvent.do')">지난 이벤트</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">고객센터</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerService/csCenter/faqList.do')">고객센터</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerService/cabinLost/cabinLost.do')">기내 유실물
                                    센터</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerServiceCenter/notice.do')">공지사항</a>
                            </div>
                        </div>

                        <div class="gnb__footer">
                            <div class="gnb__title">SNS</div>
                            <div class="sns-wrap">
                                <a href="https://www.facebook.com/funjejuair/" target="_blank" class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../../..//user/lib/images//icon-header-app-facebook.png"
                                        alt="https://www.facebook.com/funjejuair/">
                                </a>
                                <a href="https://www.youtube.com/user/funjejuair" target="_blank"
                                    class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../../..//user/lib/images//icon-header-app-youtube.png"
                                        alt="https://www.youtube.com/user/funjejuair">
                                </a>
                                <a href="https://instagram.com/jejuair_official" target="_blank" class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../../..//user/lib/images//icon-header-app-instagram.png"
                                        alt="https://instagram.com/jejuair_official">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //사이트 맵 메뉴 끝 -->

            </div>
        </header>
        <!-- //pc용 공통 헤더 끝 -->
    </div>
    <!-- //header 끝 -->


    <div id="body">

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2BQQ4" height="0" width="0"
                style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <div class="wrap wrap--booking NA NA_1_6" hide-to-scroll=[&#034;.toast&#034;]
            hide-to-bottom=[&#034;.booking-sticky--reservation&#034;]>




            <div class="content" id="content">
                <main id="main" class="main ">



            <form id="frmNext" name="frmNext" method="post">
                <input type="hidden" id="pnrData" name="pnrData" value="">
                <input type="hidden" id="rpnr" name="rpnr" value="">
                <input type="hidden" id="payType" name="payType" value="">
                <input type="hidden" id="bookType" name="bookType" value="">
                <input type="hidden" id="tripType" name="tripType" value="">
                <input type="hidden" id="inflType" name="inflType" value="">
                <input type="hidden" id="domIntType" name="domIntType" value="">
                <input type="hidden" id="cultureCode" name="cultureCode" value="">
                <input type="hidden" id="seatData" name="seatData" value="">
                <input type="hidden" id="saleTypeCd" name="saleTypeCd" value="">
                <input type="hidden" id="productTypeCode" name="productTypeCode" value="">
                <input type="hidden" id="GAProducts" name="GAProducts" value="">
                <input type="hidden" id="originData" name="originData" value="" />
                <input type="hidden" id="selectedJourneys" name="selectedJourneys" value="">
                <input type="hidden" id="exchangePnrData" name="exchangePnrData" value="">
                <input type="hidden" id="totalPoint" name="totalPoint" value="" />
                <input type="hidden" id="resvDetailReq" name="resvDetailReq" value="" />
                <input type="hidden" id="isBizLiteClass" name="isBizLiteClass" value="" />
                <input type="hidden" id="bundleMaintain" name="bundleMaintain" value="" />
                <input type="hidden" id="ssrAgentId" name="ssrAgentId" value="" />
            </form>



                    <div id="sectionName" class="title__section-service">
                        가는 편
                        <!-- 가는 편 -->
                        <div id="divTrip" class="trip" style="display: none">
                            <span class="from"></span>
                            <span class="mark oneway" aria-label="oneway"></span>
                            <span class="to"></span>
                        </div>
                    </div>

                    <div class="sub-box">

                        <div class="tab tab--scroll tab--icon tab--seat tab__scroll line2" data-element="tab"
                            data-options='{"tabType": "scroll"}'>


                            <div class="sticky-wrap">
                                <div class="sticky__inner pc-large" data-sticky>
                                    <div class="tab__inner">
                                        <div id="divArrow" style="display: none">
                                            <button id="btnLeft" class="button tab__scroll-left"
                                                data-tab-direction="prev" onclick="btnArrowClick(this);">
                                                <span class="hidden">왼쪽 탭으로 이동</span>
                                            </button>
                                            <button id="btnRight" class="button tab__scroll-right"
                                                data-tab-direction="next" onclick="btnArrowClick(this);">
                                                <span class="hidden">오른쪽 탭으로 이동</span>
                                            </button>
                                        </div>
                                        <div class="tab__scroll-wrap tab__scroll-wrap--full"
                                            data-element="tab__scroll-wrap">
                                            <div id="divMember" class="tab__buttons" data-element="tab__scroll"></div>
                                        </div>
                                    </div>
                                    <div class="select-seat">
                                        <div id="priceTagList" class="select-seat__tag-list"></div>
                                        <!-- 쿠키 메세지 -->
                                        <!-- 					<div class="default-message" data-default-message> -->
                                        <!-- 						<span class="default-message__arrow"></span> -->
                                        <!-- 						<p class="default-message__text">정상 가격에서 10% 할인된 가격이에요!</p> -->
                                        <!-- 						<button type="button" class="default-message__close" aria-label="닫기"></button> -->
                                        <!-- 					</div> -->
                                    </div>
                                </div>
                            </div>


                            <div class="tab__panel tab__panel--no-pat is-active">


                                <div class="select-seat js-seat-value narrow">
                                    <div id="divSeatMap" class="select-seat__map" data-seat-map="">


                                        <div id="divBusinessLite" style="display: none">
                                            <h3 class="select-seat__title">
                                                <span>비즈니스 라이트</span><!-- 비지니스 라이트 -->
                                            </h3>
                                            <div class="select-seat__premium">
                                                <div class="select-seat__columns">
                                                    <div class="column" data-column="A"></div>
                                                    <div class="column" data-column="B" style="display: none"></div>
                                                    <div class="column" data-column="C"></div>

                                                    <div class="column column--numbers"></div>

                                                    <div class="column" data-column="D"></div>
                                                    <div class="column" data-column="E" style="display: none"></div>
                                                    <div class="column" data-column="F"></div>
                                                </div>
                                            </div>
                                        </div>


                                        <h3 class="select-seat__title">이코노미</h3><!-- 이코노미 -->
                                        <div class="select-seat__economy">
                                            <div class="select-seat__columns">
                                                <div class="column" data-column="A"></div>
                                                <div class="column" data-column="B"></div>
                                                <div class="column" data-column="C"></div>

                                                <div class="column column--numbers"></div>

                                                <div class="column" data-column="D"></div>
                                                <div class="column" data-column="E"></div>
                                                <div class="column" data-column="F"></div>
                                            </div>
                                        </div>

                                        <div class="select-seat__exit">
                                            <span class="exit">EXIT</span> <span class="exit">EXIT</span>
                                        </div>


                                        <div class="select-seat__economy">
                                            <div class="select-seat__columns">
                                                <div class="column" data-column="A"></div>
                                                <div class="column" data-column="B"></div>
                                                <div class="column" data-column="C"></div>

                                                <div class="column column--numbers"></div>

                                                <div class="column" data-column="D"></div>
                                                <div class="column" data-column="E"></div>
                                                <div class="column" data-column="F"></div>
                                            </div>
                                        </div>

                                        <div class="select-seat__exit">
                                            <span class="exit">EXIT</span> <span class="exit">EXIT</span>
                                        </div>


                                        <div class="select-seat__economy">
                                            <div class="select-seat__columns">
                                                <div class="column" data-column="A"></div>
                                                <div class="column" data-column="B"></div>
                                                <div class="column" data-column="C"></div>

                                                <div class="column column--numbers"></div>

                                                <div class="column" data-column="D"></div>
                                                <div class="column" data-column="E"></div>
                                                <div class="column" data-column="F"></div>
                                            </div>
                                        </div>

                                        <div class="seat-nav">
                                            <div class="seat-img">
                                                <img src="https://static.jejuair.net/hpgg/resources/images/seat/seat_exam01.png"
                                                    alt="" aria-hidden="true">
                                                <div class="seat-pos"
                                                    style="background-image: url(https://static.jejuair.net/hpgg/resources/images/seat/seat_exam01.png);">
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="section-wrap">
                        <div class="service-information" data-element="toggle" data-options='{"mode": "move scroll"}'>
                            <div class="service-information__title">
                                <button id="btnServieInfo" type="button" class="service-information__anchor"
                                    data-element="toggle__anchor">좌석 선택 시 유의사항</button><!-- 좌석 선택 시 유의사항 -->
                            </div>
                            <div class="service-information__content" data-element="toggle__panel"></div>
                        </div>
                    </div>


                    <div id="divBottomSheet" class="booking-sticky booking-sticky--reservation" data-element="toggle"
                        data-options='{"mode": "slide"}'>
                        <div class="reservation-container">
                            <div class="booking-sticky__top">
                                <div class="toggle-wrap toggle-wrap--button">
                                    <div class="label">
                                        <span>예상 결제금액</span>
                                    </div>

                                    <button id="btnSummary" type="button" class="summary" data-element="toggle__anchor">
                                        <span id="spanCost" class="cost"></span>
                                        <span id="spanPoint" class="point" style="display: none">+</span>
                                    </button>
                                </div>

                                <button type="button" class="button button--primary button--black pc-only"
                                    id="btnPrevPC" style="display: none">
                                    <span class="button__text">이전</span><!-- 이전 -->
                                </button>

                                <button type="button" class="button button--primary pc-only button--active pc-only"
                                    id="btnNextPC">
                                    <span id="spanNextPC" class="button__text"><a href="../seat_select/seat_select.html">오는 편 좌석 선택하기</a></span><!-- 오는 편 좌석 선택하기 -->
                                </button>
                            </div>

                            <div class="booking-sticky__bottom line -limitH" data-element="toggle__panel">
                                <div class="title">
                                    <h3 class="title__section title__section--small">항목별 운임 상세</h3><!-- 항목별 운임 상세 -->
                                </div>
                                <h4 class="text__default text--bold">항공 운송료</h4><!-- 항공 운송료 -->
                                <div id="airFreightCharges" class="itemize__item">
                                    <div class="flex-text" id="divFare">
                                        <div class="flex-text__title">항공운임</div><!-- 항공운임 -->
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div class="flex-text" id="divDA">
                                        <div class="flex-text__title">공항시설 사용료</div><!-- 공항시설 사용료 -->
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div class="flex-text" id="divYQ">
                                        <div class="flex-text__title">유류할증료</div><!-- 유류할증료 -->
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div class="flex-text" id="divDiscount" style="display: none">
                                        <div class="flex-text__title color-org">개인 신분 할인</div><!-- 개인 신분 할인 -->
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                    <div class="flex-text" id="divPromotion">
                                        <div class="flex-text__title color-org">프로모션 할인</div><!-- 프로모션 할인 -->
                                        <div class="flex-text__additional color-org">미적용</div><!-- 미적용 -->
                                    </div>
                                    <div class="flex-text" id="divGifTicket" style="display: none">
                                        <div class="flex-text__title color-org">기프티켓 할인</div><!-- 기프티켓 할인 -->
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                </div>

                                <div id="extraServiceFee" class="conatinaer--default pc-20" style="display: none">
                                    <h4 class="text__default text--bold">부가서비스</h4><!-- 부가서비스 -->
                                    <div class="itemize__item">
                                        <div class="flex-text" id="divSeat" style="display: none">
                                            <div class="flex-text__title">좌석 선택</div><!-- 좌석 선택 -->
                                            <div class="flex-text__additional" id="divSeatFee"></div>
                                        </div>
                                    </div>
                                </div>

                                <ul class="guide-info guide-info--gray">
                                    <li class="guide-info__text">한국출발 세금(BP)에는 국제 여객항공이용료(인천/김포공항 17,000원, 기타 12,000원),
                                        출국납부금 10,000, 국제 빈곤퇴치기여금 1,000원이 포함되어 있습니다.</li>
                                    <!-- 한국출발 세금(BP)에는 국제
                                여객항공이용료(인천/김포공항 17,000원, 기타 12,000원), 출국납부금 10,000, 국제 빈곤퇴치기여금
                                1,000원이 포함되어 있습니다. -->
                                    <li class="guide-info__text">공항이용료의 경우 선택하신 여정 종류(TRANSFER/TRANSIT)에 따라 금액이 변동 될 수
                                        있습니다.</li>
                                    <!-- 공항이용료의 경우 선택하신 여정
                                종류(TRANSFER/TRANSIT)에 따라 금액이 변동 될 수 있습니다. -->
                                </ul>

                            </div>
                            <div class="button-wrap mobile-only">
                                <button type="button" class="button button--primary button--black" id="btnPrevMobile"
                                    style="display: none">
                                    <span class="button__text">이전</span><!-- 이전 -->
                                </button>

                                <button type="button" class="button button--primary button--active" id="btnNextMobile">
                                    <span id="spanNextMobile" class="button__text"><a href="../seat_select/seat_select.html">오는 편 좌석 선택하기</a></span>
                                    <!-- 오는 편 좌석 선택하기 -->
                                </button>
                            </div>
                        </div>
                    </div>
            </div>


            <!--좌석선택 건너뛰기-->

            <div id="divSkip" class="skip-wrap seat_skip is-active" style="display: none">
                <div class="skip-box">
                    <p class="skip__text">다음에 구매할게요!</p><!-- 다음에 구매할게요! -->
                    <a href="javascript:void(0)" class="skip__link" onclick="btnSkip_Click();">건너뛰기</a><!-- 건너뛰기 -->
                </div>
            </div>

            <!--//좌석선택 건너뛰기-->



            <!-- 추가 요금 좌석 선택 팝업 -->
            <div id="addChargeSeatLayer" class="modal modal-full modal-scroll modal--fixed-multi"
                style="display: none;">
                <div class="modal-header">
                    <div class="modal-header__title">이 좌석을 선택하시겠어요?</div><!-- 이 좌석을 선택하시겠어요? -->
                </div>
                <div class="modal-content">
                    <div class="select-seat select-seat--layer seat-align mt0">
                        <div class="select-seat__tag">
                            <i id="seatNo" class="select-seat__seat"></i>
                            <span class="select-seat__tag-price">더 넓고 안락해요.</span><!-- 더 넓고 안락해요 -->
                        </div>
                    </div>

                    <div id="divSelectText" class="select-text small mt-15"></div>
                </div>
                <div class="fixed-wrap fixed-wrap--multi-line border-none ">
                    <div class="button-wrap pc-center">
                        <button type="button" class="button button--primary button--black width_155"
                            onclick="$.modal.close();">
                            <span class="button__text">다른 좌석 선택</span><!-- 다른 좌석 선택 -->
                        </button>
                        <button type="button" class="button button--primary button--active width_155"
                            onclick="btnSelect_Click();">
                            <span class="button__text">선택</span><!-- 선택 -->
                        </button>
                    </div>
                </div>
                <a href="javascript:void(0)" rel="modal:close" class="modal__close"><span class="blind">닫기</span></a>
            </div>

            <!-- 좌석 선택화면 진입시 안내 팝업 S -->
            <div id="modalSeatCheck" class="modal modal--simple">
                <div class="modal-header">
                    <div class="alert-title" text="원하시는 좌석을 미리 선택하세요">원하시는 좌석을 미리 <br>선택하세요
                    </div>
                </div>
                <!-- 컨텐츠 시작 타이틀 추가 -->
                <div class="modal-content">
                    <h2 class="alert-text" text="선호하시는 좌석을 유료로 구매하시고출발 당일 수속 시간을 절약하세요">선호하시는 좌석을 유료로 구매하시고 출발 당일 수속 시간을
                        절약하세요</h2>
                    <p class="alert-text mt20 color--org"
                        text="사전에 좌석을 미리 예약하지 않으시면 탑승 당일 상황에 따라 랜덤으로 좌석이 배정되며 동반 승객과 떨어진 좌석이 제공될 수 있습니다.">사전에 좌석을 미리
                        예약하지 않으시면 탑승 당일 상황에 따라 랜덤으로 좌석이 배정되며 동반 승객과 떨어진 좌석이 제공될 수 있습니다.</p>
                    <p class="alert-text mt20"
                        text="지금 좌석을 선택하지 않으셔도 예약후 마이페이지를 통해 유료 좌석 구매가 가능하고, 탑승 24시간 전 부터 모바일 탑승권 발급시 무료 좌석 선택이 가능합니다.">
                        지금 좌석을 선택하지 않으셔도 예약후 마이페이지를 통해 유료 좌석 구매가 가능하고, 탑승 24시간 전 부터 모바일 탑승권 발급시 무료 좌석 선택이 가능합니다.</p>
                </div>
                <!-- 컨텐츠 끝 -->
                <div class="modal__button-area button-wrap">
                    <button type="button" class="button button--secondary" onclick="btnSkip_Click();">
                        <span class="button__text">건너뛰기</span> <!-- 건너뛰기 -->
                    </button>
                    <button type="button" class="button button--secondary button--active"
                        onclick="closeCurrentModal(this)">
                        <span class="button__text">확인</span>
                    </button>
                    <!-- button 활성화 시 button--active class 추가 -->
                </div>
                <a href="javascript:void(0)" onclick="closeCurrentModal(this)" class="modal__close"><span
                        class="blind">닫기</span></a>
            </div>
            <!-- 좌석 선택화면 진입시 안내 팝업 E -->

            <!-- 비상구 좌석 안내 팝업 -->
            <div id="exitSeatInfoLayer" class="modal modal-full modal--fixed-multi modal-scroll NA_1_63"></div>
            <!-- 제휴카드 할인 레이어 -->
            <div id="partnerCardDiscountLayer" class="modal modal-full modal-scroll NA_1_31"></div>

            <button type="button" id="btnModalOpen" data-element="modal_anchor" style="display: none;"></button>

            <a href="javascript:void(0)" id="sameSeatInfo" data-target-open="sameSeatsheet" style="display: none">
                가는 편과 같은 좌석 선택 바텀시트
            </a>

            <!-- alert 팝업 -->
            <div id="divAlertModalLayer" name="divAlert" class="modal modal--simple">
                <div class="modal-content">
                    <p id="alertText" class="alert-text"></p>
                </div>
                <div class="modal__button-area button-wrap"><button id="btnAlert" type="button"
                        class="button button--secondary button--active" rel="modal:close"
                        onclick="javascript:closeCurrentModal(this);"><span class="button__text">확인</span></button>
                </div><!-- 확인 -->
            </div>
            <div style="display: none;"><a href="#" data-element="modal_anchor" id="sessionLayer"
                    data-target="#sessionLayerForm" data-modal-type="default"></a></div>

            <div id="sessionLayerForm" class="modal modal--simple modal-layer NA_1_23"></div>
            </main>
        </div>
    </div>
    </div>


    <!-- footer -->
    <div id="footer" class="footer pc-only">
        <!-- pc -->
        <footer class="footer__inner">
            <!-- 상단 푸터 -->
            <div class="footer__top">
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="about">제주항공 소개</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="irNotice">투자정보</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="incruit">채용안내</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="carriageTemrs">여객운송약관</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="homepageTerms">홈페이지 이용약관</a>
                </div>
                <div class="footer__top-item footer__top-item--privacy">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="personalTerms">개인정보처리방침</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="sitemap">사이트맵</a>
                </div>

                <!-- family site -->
                <div class="footer__top-item footer__top-item--family">
                    <div class="family-wrap" data-element="toggle"
                        data-options='{"mode": "slide", "speed": 100, "clickToClose": true}'>
                        <button type="button" class="button-family" data-element="toggle__anchor">Family Site</button>
                        <div class="family-list" data-element="toggle__panel">
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyung">㈜애경산업</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAtecltd">㈜에이텍</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyngst">애경S.T</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkis">에이케이아이에스㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAdmission">애드미션</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyNeopharm">네오팜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkp">애경유화㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkc">애경화학㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkchemtech">에이케이켐텍</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyKospa">코스파</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkplaza">AK PLAZA</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyunggroup">AK홀딩스</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkdjbcc">애경개발</a>
                        </div>
                    </div>
                </div>
                <!-- / family site 끝 -->
            </div>
            <!-- / 상단 푸터 끝 -->


            <hr class="footer__spacer">

            <!-- 하단 푸터 -->
            <div class="footer__bottom">
                <a href="#" class="footer__logo" data-action="menu" data-menu-name="main">
                    <img src="../../../../../../..//user/lib/images//JAJUair-Logo-gray.png" alt="제주항공로고"
                        loading="lazy" />
                </a>

                <div class="footer__bottom-contents">
                    <div class="footer__bottom-info">
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('/terms/page/transportationServicePlan.do');"
                                class="link">항공교통이용자 서비스 계획</a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://www.avsec365.or.kr/');" class="link">항공위험물안내
                            </a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://static.jejuair.net/hpgg/resources/pdf/Application_for_Damage_Redress.pdf');"
                                class="link">항공교통이용자 피해구제 계획</a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://static.jejuair.net/cms/images/file_upload/20211119133243857.pdf');"
                                class="link">항공안전투자공시</a>
                        </div>
                    </div>


                    <div class="footer__bottom-util">
                        <a href="javascript:void(0);" class="util-app-ios" data-action="menu"
                            data-menu-name="iOSBtn"><img
                                src="../../../../../../..//user/lib/images//icon-footer-app-ios.png" alt=""
                                loading="lazy"> IOS</a>
                        <a href="javascript:void(0);" class="util-app-aos" data-action="menu"
                            data-menu-name="AndroidBtn"><img
                                src="../../../../../../..//user/lib/images//icon-footer-app-aos.png" alt=""
                                loading="lazy"> Android</a>
                    </div>


                    <p class="footer__bottom-address"><span>사업자등록번호 : 616-81-50527</span><span>대표이사 : 김이배</span><br>
                        제주특별자치도 제주시 신대로 64(연동, 건설공제회관 3층)
                    </p>
                    <p class="footer__bottom-copy">Copyright ⓒ JEJUAIR. All Rights Reserved.</p>
                </div>
            </div>
            <!-- / 하단 푸터 끝 -->
        </footer>
        <!-- //pc 끝 -->
    </div>
    <!-- / footer 끝 -->


    <!-- 공통 스크립트 선언 -->
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/admin/lib/admin/lib.min.js"></script>

    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/admin/lib/moment-with-locales.min.js"></script>

    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/admin/lib/jquery.i18n.js"></script>
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/admin/lib/jquery.i18n.messagestore.js"></script>
    <!-- 메인페이지 스크립트 에러 발생으로 이전 소스로 변경합니다. 
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/booking/plugin.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/booking/common.js"></script>
    -->
    <script>
        $(document).ready(function () {

            $.ajaxSetup({
                beforeSend: function (xhr) {
                    xhr.setRequestHeader('tcode', '0000000343');
                    xhr.setRequestHeader('cname', USER_DEVICE.getName());
                }
            });


            //BOOKING LAYOUT상태서 sub로 바뀔경우  
            $(document).off('changeLayout').on('changeLayout', function (e, type) {
                if (type === 'sub') {
                    $('.bookingType').hide();
                    $('.subType').show();
                } else if (type === 'booking') {
                    $('.subType').hide();
                    $('.bookingType').show();
                }
            });

            //breadcrumbs cursor default
            $('.breadcrumb__item > a').css('cursor', 'default');
        });

        //타이틀 설정
        $('header.mobile-only h2.header__page-name').text($('#main div.page-title').eq(0).text());
    </script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/plugin.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/common.js"></script>

    <!--필요시만 로드-->
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/vendor/lodash.min.js"></script>
    <!--사용되지 않음-->
    <!--<script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/vendor/localforage.min.js"></script>-->
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/vendor/handlebars.min-v4.7.6.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/handlebars.helpers.js"></script>

    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/sUtil.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/dUtil.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/utils.js"></script>

    <!--필요시만 로드-->
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/amcharts/amcharts.core.js"></script>


    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/bizjs/commons/bizCommons.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/jj.helpers.js"></script>







    <!-- 가는 편과 같은 좌석 추천 팝업 -->
    <div data-target="sameSeatsheet" class="bottom-sheet modal-full NA_1_71" data-element="bottomSheet">
        <div class="bottom-sheet__top">
            <div class="title">
                <h2 class="title__main">


                    가는 편과 같은 좌석이 있어요! <br class="mobile-only">선택하시겠어요?
                    <!-- 가는 편과 같은 좌석이 있어요! 선택 하시겠어요? -->


                </h2>
            </div>
        </div>
        <div class="bottom-sheet__bot">
            <p id="pMTText" class="text__default"></p>
            <div class="container--small pc-20">
                <div id="divSameSeat" class="select-seat select-seat--layer"></div>
            </div>
        </div>
        <div class="button-wrap button-wrap-stick pc-center pc-10">
            <button type="button" class="button button--primary button--black half" onclick="layerClose();">
                <span class="button__text">다른 좌석 선택</span> <!-- 다른 좌석 선택 -->
            </button>
            <button type="button" class="button button--primary button--active half" onclick="btnSameSeat_Click();">
                <span class="button__text">선택</span> <!-- 선택 -->
            </button>
        </div>
        <button id="btnSameClose" type="button" class="bottom-sheet__button-close"
            data-element="bottomSheet__button-close" aria-label="하단시트 닫기"></button>
    </div>
    <script src="https://static.jejuair.net/hpgg/resources/js/booking/ssTimeout.js"></script>
    <script src="https://static.jejuair.net/hpgg/resources/js/booking/jquery.countdown.js"></script>
    <script>


        sessionStorage.removeItem('cartData');


        const payType = 'G';
        const bookType = 'Common';
        const tripType = 'RT';
        const domIntType = 'I';
        const cultureCode = 'ko-KR' !== '' ? 'ko-KR' : I18N.language + "-" + I18N.country;
        let segmentKey = 'N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_';
        const pnrData = { "receivedBy": { "receivedBy": "dmsql0486", "latestReceivedBy": "dmsql0486" }, "passengers": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "fees": [], "addresses": [], "travelDocuments": [], "bags": [], "passengerTypeCode": "ADT", "program": { "levelCode": "S", "number": "060007812", "code": "7C" }, "customerNumber": "060007812", "emdCoupons": [], "passengerAlternateKey": "MTQ1NjA5NjE-", "weightCategory": "Female", "name": { "last": "KIM", "first": "EUNBI" }, "info": { "gender": "Female", "dateOfBirth": "1995-02-14T00:00:00" }, "order": "0!ADT" } }, "journeys": [{ "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "move": { "maxMoveBackDays": 365, "maxMoveOutDays": 365 }, "notForGeneralUser": false, "flightType": "NonStop", "stops": 0, "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_", "segments": [{ "identifier": { "identifier": "1106", "carrierCode": "7C" }, "passengerSegment": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "tickets": [], "bags": [], "scores": [], "seatPreferences": { "seat": "None", "advancedPreferences": [], "travelClass": "None" }, "seats": [], "activityDate": "2022-06-29T12:19:06.623Z", "createdDate": "2022-06-29T12:19:06.623Z", "referenceNumber": 0, "overBookIndicator": "NormalSell", "liftStatus": "Default", "ssrs": [{ "market": { "identifier": { "identifier": "1106", "carrierCode": "7C" }, "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departureDate": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "passengerKey": "MCFBRFQ-", "ssrNumber": 1, "isConfirmingUnheld": false, "ssrDuration": "Leg", "count": 1, "ssrName": "디지털마케팅팀", "isConfirmed": true, "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhTlJUITdDITYzNzkyNzg2OTAwMDAwMDAwMCFJQ04hMTEwNiEg", "inBundle": false, "ssrCode": "SILV" }], "modifiedDate": "2022-06-29T12:08:12.3064224Z", "priorityDate": "2022-06-29T12:19:06.6134465Z", "timeChanged": false, "hasInfant": false } }, "salesDate": "2022-06-29T12:19:06.623Z", "isHosted": true, "isBlocked": false, "channelType": "DigitalApi", "flightReference": "20220707 7C1106 ICNNRT", "isSeatmapViewable": true, "isConfirming": false, "fares": [{ "classOfService": "M", "fareSequence": 1, "inboundOutBound": "None", "productClass": "V", "fareClassOfService": "M", "fareKey": "MH5Nfn43Q35NT1dLSn5LSTAzfn41fjF_TklDTk5SVDAwNTAwMTB_WA--", "fareBasisCode": "MOWKJ", "isAllotmentMarketFare": false, "originalClassOfService": "M", "ruleNumber": "KI03", "fareApplicationType": "Route", "travelClassCode": "Y", "downgradeAvailable": false, "carrierCode": "7C", "fareLink": 5, "passengerFares": [{ "serviceCharges": [{ "amount": 149000, "collectType": "SellerChargeable", "foreignCurrencyCode": "KRW", "type": "FarePrice", "currencyCode": "KRW", "foreignAmount": 149000 }, { "amount": 28000, "collectType": "SellerChargeable", "code": "BP", "feeName": "INTL PSC DEP TAX &amp; GLOBAL DISEASE ERADICATION", "foreignCurrencyCode": "KRW", "detail": "ICN-NRT", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "BP", "foreignAmount": 28000 }, { "amount": 49700, "collectType": "SellerChargeable", "code": "YQ7", "feeName": "FUEL SURCHARGE", "foreignCurrencyCode": "USD", "detail": "ICN-NRT", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "YQ", "foreignAmount": 37.99 }], "passengerType": "ADT" }], "isGoverning": true, "fareStatus": "Default" }], "cabinOfService": "Y", "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "isConfirmingExternal": false, "changeReasonCode": "NoChange", "isChangeOfGauge": false, "segmentKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_", "legs": [{ "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "legInfo": { "departureTime": "2022-07-07T10:35:00", "changeOfDirection": false, "lid": 174, "prbcCode": "INTBIZ", "backMoveDays": 365, "equipmentType": "738", "capacity": 174, "scheduleServiceType": "J", "arrivalTimeVariant": 540, "marketingOverride": false, "arrivalTime": "2022-07-07T12:55:00", "codeShareIndicator": "NonCodeShare", "outMoveDays": 365, "sold": 119, "departureTerminal": "1", "departureTimeVariant": 540, "arrivalTimeUtc": "2022-07-07T03:55:00Z", "marketingCode": "C12Y162", "adjustedCapacity": 174, "equipmentTypeSuffix": "C", "eTicket": true, "subjectToGovtApproval": false, "irop": false, "departureTimeUtc": "2022-07-07T01:35:00Z", "arrivalTerminal": "3", "status": "Normal" }, "nests": [{ "lid": 12, "legClasses": [{ "classOfService": "C", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 12, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 4, "status": "Active" }, { "classOfService": "D", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 3, "status": "Active" }, { "classOfService": "I", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 2, "status": "Active" }, { "classOfService": "CU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 1, "adjustedCapacity": 12, "nestType": "Serial", "travelClassCode": "C" }, { "lid": 162, "legClasses": [{ "classOfService": "Y", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 162, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 25, "status": "Active" }, { "classOfService": "B", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 24, "status": "Active" }, { "classOfService": "K", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 23, "status": "Active" }, { "classOfService": "N", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 22, "status": "Active" }, { "classOfService": "Q", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 130, "classSold": 23, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 21, "status": "Active" }, { "classOfService": "M", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 110, "classSold": 59, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 20, "status": "Active" }, { "classOfService": "T", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 29, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 19, "status": "Active" }, { "classOfService": "W", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 6, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 18, "status": "Active" }, { "classOfService": "O", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 17, "status": "Active" }, { "classOfService": "R", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 16, "status": "Active" }, { "classOfService": "X", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 15, "status": "Active" }, { "classOfService": "S", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 14, "status": "Active" }, { "classOfService": "Z", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 13, "status": "Active" }, { "classOfService": "L", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 12, "status": "Active" }, { "classOfService": "H", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 11, "status": "Active" }, { "classOfService": "E", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 10, "status": "Active" }, { "classOfService": "F", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 9, "status": "Active" }, { "classOfService": "V", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 30, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 8, "status": "Active" }, { "classOfService": "G", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 7, "status": "Active" }, { "classOfService": "P", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 6, "status": "Active" }, { "classOfService": "J", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 5, "status": "Active" }, { "classOfService": "A", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 4, "status": "Active" }, { "classOfService": "U", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 4, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 3, "status": "Active" }, { "classOfService": "UU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 2, "status": "Active" }, { "classOfService": "AA", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 160, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 2, "adjustedCapacity": 162, "nestType": "Serial", "travelClassCode": "Y" }], "ssrs": [{ "sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0 }, { "sold": 1, "ssrNestCode": "INFT", "unitSold": 1, "lid": 15, "available": 14 }, { "sold": 4, "ssrNestCode": "MEAL", "unitSold": 4, "lid": 999, "available": 995 }, { "sold": 0, "ssrNestCode": "PETC", "unitSold": 0, "lid": 6, "available": 6 }], "flightReference": "20220707 7C1106 ICNNRT", "legKey": "NjM3OTI3ODY5MDAwMDAwMDAwITdDITExMDYhICFJQ04hTlJUITI1Nzc5NQ--", "seatmapReference": "N0MhMTEwNiEgITYzNzkyNzg2OTAwMDAwMDAwMCFJQ04hTlJU" }], "isStandby": false, "international": true, "segmentType": "Normal", "status": "HeldConfirmed" }] }, { "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "move": { "maxMoveBackDays": 365, "maxMoveOutDays": 365 }, "notForGeneralUser": false, "flightType": "NonStop", "stops": 0, "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_", "segments": [{ "identifier": { "identifier": "1105", "carrierCode": "7C" }, "passengerSegment": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "tickets": [], "bags": [], "scores": [], "seatPreferences": { "seat": "None", "advancedPreferences": [], "travelClass": "None" }, "seats": [], "activityDate": "2022-06-29T12:19:06.623Z", "createdDate": "2022-06-29T12:19:06.623Z", "referenceNumber": 0, "overBookIndicator": "NormalSell", "liftStatus": "Default", "ssrs": [{ "market": { "identifier": { "identifier": "1105", "carrierCode": "7C" }, "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departureDate": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "passengerKey": "MCFBRFQ-", "ssrNumber": 1, "isConfirmingUnheld": false, "ssrDuration": "Leg", "count": 1, "ssrName": "디지털마케팅팀", "isConfirmed": true, "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhSUNOITdDITYzNzk0MDA4NTAwMDAwMDAwMCFOUlQhMTEwNSEg", "inBundle": false, "ssrCode": "SILV" }], "modifiedDate": "2022-06-29T12:08:12.3064224Z", "priorityDate": "2022-06-29T12:19:06.6134465Z", "timeChanged": false, "hasInfant": false } }, "salesDate": "2022-06-29T12:19:06.623Z", "isHosted": true, "isBlocked": false, "channelType": "DigitalApi", "flightReference": "20220721 7C1105 NRTICN", "isSeatmapViewable": true, "isConfirming": false, "fares": [{ "classOfService": "W", "fareSequence": 1, "inboundOutBound": "None", "productClass": "V", "fareClassOfService": "W", "fareKey": "MH5Xfn43Q35XT1dLSn5LSTAzfn4zfjF_TklDTk5SVDAwMzAwMTB_WA--", "fareBasisCode": "WOWKJ", "isAllotmentMarketFare": false, "originalClassOfService": "W", "ruleNumber": "KI03", "fareApplicationType": "Route", "travelClassCode": "Y", "downgradeAvailable": false, "carrierCode": "7C", "fareLink": 3, "passengerFares": [{ "serviceCharges": [{ "amount": 119000, "collectType": "SellerChargeable", "foreignCurrencyCode": "KRW", "type": "FarePrice", "currencyCode": "KRW", "foreignAmount": 119000 }, { "amount": 5100, "collectType": "SellerChargeable", "code": "OI", "feeName": "PASSENGER SECURITY SERVICE CHARGE", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "OI", "foreignAmount": 530 }, { "amount": 10100, "collectType": "SellerChargeable", "code": "SW", "feeName": "PASSENGER SERVICE FACILITIES CHARGE", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "SW", "foreignAmount": 1050 }, { "amount": 9700, "collectType": "SellerChargeable", "code": "TK", "feeName": "INTERNATIONAL TOURIST TAX", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "TK", "foreignAmount": 1000 }, { "amount": 49700, "collectType": "SellerChargeable", "code": "YQ7", "feeName": "FUEL SURCHARGE", "foreignCurrencyCode": "USD", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "YQ", "foreignAmount": 37.99 }], "passengerType": "ADT" }], "isGoverning": true, "fareStatus": "Default" }], "cabinOfService": "Y", "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "isConfirmingExternal": false, "changeReasonCode": "NoChange", "isChangeOfGauge": false, "segmentKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_", "legs": [{ "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "legInfo": { "departureTime": "2022-07-21T13:55:00", "changeOfDirection": false, "lid": 174, "prbcCode": "INTBIZ", "backMoveDays": 365, "equipmentType": "738", "capacity": 174, "scheduleServiceType": "J", "arrivalTimeVariant": 540, "marketingOverride": false, "arrivalTime": "2022-07-21T16:35:00", "codeShareIndicator": "NonCodeShare", "outMoveDays": 365, "sold": 109, "departureTerminal": "3", "departureTimeVariant": 540, "arrivalTimeUtc": "2022-07-21T07:35:00Z", "marketingCode": "C12Y162", "adjustedCapacity": 174, "equipmentTypeSuffix": "C", "eTicket": true, "subjectToGovtApproval": false, "irop": false, "departureTimeUtc": "2022-07-21T04:55:00Z", "arrivalTerminal": "1", "status": "Normal" }, "nests": [{ "lid": 12, "legClasses": [{ "classOfService": "C", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 12, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 4, "status": "Active" }, { "classOfService": "D", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 3, "status": "Active" }, { "classOfService": "I", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 2, "status": "Active" }, { "classOfService": "CU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 1, "adjustedCapacity": 12, "nestType": "Serial", "travelClassCode": "C" }, { "lid": 162, "legClasses": [{ "classOfService": "Y", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 162, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 25, "status": "Active" }, { "classOfService": "B", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 24, "status": "Active" }, { "classOfService": "K", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 23, "status": "Active" }, { "classOfService": "N", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 22, "status": "Active" }, { "classOfService": "Q", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 135, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 21, "status": "Active" }, { "classOfService": "M", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 125, "classSold": 6, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 20, "status": "Active" }, { "classOfService": "T", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 115, "classSold": 43, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 19, "status": "Active" }, { "classOfService": "W", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 65, "classSold": 45, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 18, "status": "Active" }, { "classOfService": "O", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 10, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 17, "status": "Active" }, { "classOfService": "R", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 16, "status": "Active" }, { "classOfService": "X", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 15, "status": "Active" }, { "classOfService": "S", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 14, "status": "Active" }, { "classOfService": "Z", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 13, "status": "Active" }, { "classOfService": "L", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 12, "status": "Active" }, { "classOfService": "H", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 11, "status": "Active" }, { "classOfService": "E", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 10, "status": "Active" }, { "classOfService": "F", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 9, "status": "Active" }, { "classOfService": "V", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 30, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 8, "status": "Active" }, { "classOfService": "G", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 4, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 7, "status": "Active" }, { "classOfService": "P", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 6, "status": "Active" }, { "classOfService": "J", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 5, "status": "Active" }, { "classOfService": "A", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 4, "status": "Active" }, { "classOfService": "U", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 4, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 3, "status": "Active" }, { "classOfService": "UU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 2, "status": "Active" }, { "classOfService": "AA", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 160, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 2, "adjustedCapacity": 162, "nestType": "Serial", "travelClassCode": "Y" }], "ssrs": [{ "sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0 }, { "sold": 0, "ssrNestCode": "INFT", "unitSold": 0, "lid": 15, "available": 15 }, { "sold": 1, "ssrNestCode": "MEAL", "unitSold": 1, "lid": 999, "available": 998 }, { "sold": 0, "ssrNestCode": "PETC", "unitSold": 0, "lid": 6, "available": 6 }], "flightReference": "20220721 7C1105 NRTICN", "legKey": "NjM3OTQwMDg1MDAwMDAwMDAwITdDITExMDUhICFOUlQhSUNOITI1Nzk0Mg--", "seatmapReference": "N0MhMTEwNSEgITYzNzk0MDA4NTAwMDAwMDAwMCFOUlQhSUNO" }], "isStandby": false, "international": true, "segmentType": "Normal", "status": "HeldConfirmed" }] }], "comments": [], "selfServiceMoveAvailable": false, "addOns": {}, "breakdown": { "passengerTotals": {}, "totalPointsToCollect": 0, "passengers": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-" } }, "journeys": { "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_": { "totalTax": 74600, "totalAmount": 119000, "totalPoints": 0, "totalDiscount": 0, "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_" }, "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_": { "totalTax": 77700, "totalAmount": 149000, "totalPoints": 0, "totalDiscount": 0, "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_" } }, "balanceDue": 420300, "addOnTotals": {}, "totalCharged": 420300, "totalAmount": 420300, "totalToCollect": 420300, "journeyTotals": { "totalTax": 152300, "totalAmount": 268000, "totalPoints": 0, "totalDiscount": 0 }, "authorizedBalanceDue": 420300, "pointsBalanceDue": 0, "totalPoints": 0 }, "payments": [], "history": [], "recordLocator": "H9L3XD", "sales": { "created": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" }, "modified": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" }, "source": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" } }, "hold": { "expiration": "2022-06-29T21:59:06.000", "gmtExpiration": "2022-06-29T12:59:06Z" }, "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVbmtub3duIiwianRpIjoiMWRlNTdkZjAtZDE4Ny03Y2E1LTU1NjMtYTQ2NzViYjZjMGM4IiwiaXNzIjoiZG90UkVaIEFQSSJ9.gbj4tXlOdVIs3ULyX4a-H91c4Y0vFt0mmmCDtg8XoqA", "locators": { "numericRecordLocator": "153623241207", "recordLocators": [{ "recordLocatorKey": "NTQ2MzA2NDEhN0M-", "owningSystemCode": "7C", "recordCode": "54630641", "bookingSystemCode": "7C" }], "parentId": 0 }, "workingBatchYn": "N", "typeOfSale": { "fareTypes": [], "residentCountry": "KR" }, "voucherInfo": {}, "queues": [], "bookingKey": "MTEyNzcyOTchSDlMM1hEIWZhbHNl", "orders": [], "currencyCode": "KRW", "contacts": { "P": { "cultureCode": "ko-KR", "emailAddress": "dmsql0486@naver.com", "distributionOption": "None", "contactTypeCode": "P", "name": { "last": "KIM", "first": "EUNBI" }, "notificationPreference": "None", "customerNumber": "060007812", "phoneNumbers": [{ "number": "82-010-9619-0014", "type": "Home" }] } }, "info": { "modifiedAgentId": 12749847, "profileStatus": "Default", "channelType": "DigitalApi", "changeAllowed": true, "priceStatus": "Valid", "createdAgentId": 12749847, "paidStatus": "UnderPaid", "createdDate": "2022-06-29T12:19:06.623Z", "bookedDate": "2022-06-29T21:19:06.623", "modifiedDate": "2022-06-29T12:19:06.623Z", "owningCarrierCode": "7C", "status": "Hold", "expirationDate": "2022-07-22T13:55:00.000" } };
        const exchangePnrData = { "receivedBy": { "receivedBy": "dmsql0486", "latestReceivedBy": "dmsql0486" }, "passengers": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "fees": [], "addresses": [], "travelDocuments": [], "bags": [], "passengerTypeCode": "ADT", "program": { "levelCode": "S", "number": "060007812", "code": "7C" }, "customerNumber": "060007812", "emdCoupons": [], "passengerAlternateKey": "MTQ1NjA5NjE-", "weightCategory": "Female", "name": { "last": "KIM", "first": "EUNBI" }, "info": { "gender": "Female", "dateOfBirth": "1995-02-14T00:00:00" }, "order": "0!ADT" } }, "journeys": [{ "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "move": { "maxMoveBackDays": 365, "maxMoveOutDays": 365 }, "notForGeneralUser": false, "flightType": "NonStop", "stops": 0, "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_", "segments": [{ "identifier": { "identifier": "1106", "carrierCode": "7C" }, "passengerSegment": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "tickets": [], "bags": [], "scores": [], "seatPreferences": { "seat": "None", "advancedPreferences": [], "travelClass": "None" }, "seats": [], "activityDate": "2022-06-29T12:19:06.623Z", "createdDate": "2022-06-29T12:19:06.623Z", "referenceNumber": 0, "overBookIndicator": "NormalSell", "liftStatus": "Default", "ssrs": [{ "market": { "identifier": { "identifier": "1106", "carrierCode": "7C" }, "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departureDate": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "passengerKey": "MCFBRFQ-", "ssrNumber": 1, "isConfirmingUnheld": false, "ssrDuration": "Leg", "count": 1, "ssrName": "디지털마케팅팀", "isConfirmed": true, "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhTlJUITdDITYzNzkyNzg2OTAwMDAwMDAwMCFJQ04hMTEwNiEg", "inBundle": false, "ssrCode": "SILV" }], "modifiedDate": "2022-06-29T12:08:12.3064224Z", "priorityDate": "2022-06-29T12:19:06.6134465Z", "timeChanged": false, "hasInfant": false } }, "salesDate": "2022-06-29T12:19:06.623Z", "isHosted": true, "isBlocked": false, "channelType": "DigitalApi", "flightReference": "20220707 7C1106 ICNNRT", "isSeatmapViewable": true, "isConfirming": false, "fares": [{ "classOfService": "M", "fareSequence": 1, "inboundOutBound": "None", "productClass": "V", "fareClassOfService": "M", "fareKey": "MH5Nfn43Q35NT1dLSn5LSTAzfn41fjF_TklDTk5SVDAwNTAwMTB_WA--", "fareBasisCode": "MOWKJ", "isAllotmentMarketFare": false, "originalClassOfService": "M", "ruleNumber": "KI03", "fareApplicationType": "Route", "travelClassCode": "Y", "downgradeAvailable": false, "carrierCode": "7C", "fareLink": 5, "passengerFares": [{ "serviceCharges": [{ "amount": 149000, "collectType": "SellerChargeable", "foreignCurrencyCode": "KRW", "type": "FarePrice", "currencyCode": "KRW", "foreignAmount": 149000 }, { "amount": 28000, "collectType": "SellerChargeable", "code": "BP", "feeName": "INTL PSC DEP TAX &amp; GLOBAL DISEASE ERADICATION", "foreignCurrencyCode": "KRW", "detail": "ICN-NRT", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "BP", "foreignAmount": 28000 }, { "amount": 49700, "collectType": "SellerChargeable", "code": "YQ7", "feeName": "FUEL SURCHARGE", "foreignCurrencyCode": "USD", "detail": "ICN-NRT", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "YQ", "foreignAmount": 37.99 }], "passengerType": "ADT" }], "isGoverning": true, "fareStatus": "Default" }], "cabinOfService": "Y", "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "isConfirmingExternal": false, "changeReasonCode": "NoChange", "isChangeOfGauge": false, "segmentKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_", "legs": [{ "designator": { "arrival": "2022-07-07T12:55:00", "origin": "ICN", "destinationName": "도쿄(나리타)", "destination": "NRT", "departure": "2022-07-07T10:35:00", "originName": "서울(인천)" }, "legInfo": { "departureTime": "2022-07-07T10:35:00", "changeOfDirection": false, "lid": 174, "prbcCode": "INTBIZ", "backMoveDays": 365, "equipmentType": "738", "capacity": 174, "scheduleServiceType": "J", "arrivalTimeVariant": 540, "marketingOverride": false, "arrivalTime": "2022-07-07T12:55:00", "codeShareIndicator": "NonCodeShare", "outMoveDays": 365, "sold": 119, "departureTerminal": "1", "departureTimeVariant": 540, "arrivalTimeUtc": "2022-07-07T03:55:00Z", "marketingCode": "C12Y162", "adjustedCapacity": 174, "equipmentTypeSuffix": "C", "eTicket": true, "subjectToGovtApproval": false, "irop": false, "departureTimeUtc": "2022-07-07T01:35:00Z", "arrivalTerminal": "3", "status": "Normal" }, "nests": [{ "lid": 12, "legClasses": [{ "classOfService": "C", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 12, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 4, "status": "Active" }, { "classOfService": "D", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 3, "status": "Active" }, { "classOfService": "I", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 2, "status": "Active" }, { "classOfService": "CU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 1, "adjustedCapacity": 12, "nestType": "Serial", "travelClassCode": "C" }, { "lid": 162, "legClasses": [{ "classOfService": "Y", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 162, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 25, "status": "Active" }, { "classOfService": "B", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 24, "status": "Active" }, { "classOfService": "K", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 23, "status": "Active" }, { "classOfService": "N", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 22, "status": "Active" }, { "classOfService": "Q", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 130, "classSold": 23, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 21, "status": "Active" }, { "classOfService": "M", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 110, "classSold": 59, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 20, "status": "Active" }, { "classOfService": "T", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 29, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 19, "status": "Active" }, { "classOfService": "W", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 6, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 18, "status": "Active" }, { "classOfService": "O", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 17, "status": "Active" }, { "classOfService": "R", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 16, "status": "Active" }, { "classOfService": "X", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 15, "status": "Active" }, { "classOfService": "S", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 14, "status": "Active" }, { "classOfService": "Z", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 13, "status": "Active" }, { "classOfService": "L", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 12, "status": "Active" }, { "classOfService": "H", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 11, "status": "Active" }, { "classOfService": "E", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 10, "status": "Active" }, { "classOfService": "F", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 9, "status": "Active" }, { "classOfService": "V", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 30, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 8, "status": "Active" }, { "classOfService": "G", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 7, "status": "Active" }, { "classOfService": "P", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 6, "status": "Active" }, { "classOfService": "J", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 5, "status": "Active" }, { "classOfService": "A", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 4, "status": "Active" }, { "classOfService": "U", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 4, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 3, "status": "Active" }, { "classOfService": "UU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 2, "status": "Active" }, { "classOfService": "AA", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 160, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 2, "adjustedCapacity": 162, "nestType": "Serial", "travelClassCode": "Y" }], "ssrs": [{ "sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0 }, { "sold": 1, "ssrNestCode": "INFT", "unitSold": 1, "lid": 15, "available": 14 }, { "sold": 4, "ssrNestCode": "MEAL", "unitSold": 4, "lid": 999, "available": 995 }, { "sold": 0, "ssrNestCode": "PETC", "unitSold": 0, "lid": 6, "available": 6 }], "flightReference": "20220707 7C1106 ICNNRT", "legKey": "NjM3OTI3ODY5MDAwMDAwMDAwITdDITExMDYhICFJQ04hTlJUITI1Nzc5NQ--", "seatmapReference": "N0MhMTEwNiEgITYzNzkyNzg2OTAwMDAwMDAwMCFJQ04hTlJU" }], "isStandby": false, "international": true, "segmentType": "Normal", "status": "HeldConfirmed" }] }, { "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "move": { "maxMoveBackDays": 365, "maxMoveOutDays": 365 }, "notForGeneralUser": false, "flightType": "NonStop", "stops": 0, "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_", "segments": [{ "identifier": { "identifier": "1105", "carrierCode": "7C" }, "passengerSegment": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-", "tickets": [], "bags": [], "scores": [], "seatPreferences": { "seat": "None", "advancedPreferences": [], "travelClass": "None" }, "seats": [], "activityDate": "2022-06-29T12:19:06.623Z", "createdDate": "2022-06-29T12:19:06.623Z", "referenceNumber": 0, "overBookIndicator": "NormalSell", "liftStatus": "Default", "ssrs": [{ "market": { "identifier": { "identifier": "1105", "carrierCode": "7C" }, "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departureDate": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "passengerKey": "MCFBRFQ-", "ssrNumber": 1, "isConfirmingUnheld": false, "ssrDuration": "Leg", "count": 1, "ssrName": "디지털마케팅팀", "isConfirmed": true, "ssrKey": "MCFNQ0ZCUkZRLSFTSUxWITEhSUNOITdDITYzNzk0MDA4NTAwMDAwMDAwMCFOUlQhMTEwNSEg", "inBundle": false, "ssrCode": "SILV" }], "modifiedDate": "2022-06-29T12:08:12.3064224Z", "priorityDate": "2022-06-29T12:19:06.6134465Z", "timeChanged": false, "hasInfant": false } }, "salesDate": "2022-06-29T12:19:06.623Z", "isHosted": true, "isBlocked": false, "channelType": "DigitalApi", "flightReference": "20220721 7C1105 NRTICN", "isSeatmapViewable": true, "isConfirming": false, "fares": [{ "classOfService": "W", "fareSequence": 1, "inboundOutBound": "None", "productClass": "V", "fareClassOfService": "W", "fareKey": "MH5Xfn43Q35XT1dLSn5LSTAzfn4zfjF_TklDTk5SVDAwMzAwMTB_WA--", "fareBasisCode": "WOWKJ", "isAllotmentMarketFare": false, "originalClassOfService": "W", "ruleNumber": "KI03", "fareApplicationType": "Route", "travelClassCode": "Y", "downgradeAvailable": false, "carrierCode": "7C", "fareLink": 3, "passengerFares": [{ "serviceCharges": [{ "amount": 119000, "collectType": "SellerChargeable", "foreignCurrencyCode": "KRW", "type": "FarePrice", "currencyCode": "KRW", "foreignAmount": 119000 }, { "amount": 5100, "collectType": "SellerChargeable", "code": "OI", "feeName": "PASSENGER SECURITY SERVICE CHARGE", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "OI", "foreignAmount": 530 }, { "amount": 10100, "collectType": "SellerChargeable", "code": "SW", "feeName": "PASSENGER SERVICE FACILITIES CHARGE", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "SW", "foreignAmount": 1050 }, { "amount": 9700, "collectType": "SellerChargeable", "code": "TK", "feeName": "INTERNATIONAL TOURIST TAX", "foreignCurrencyCode": "JPY", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "TK", "foreignAmount": 1000 }, { "amount": 49700, "collectType": "SellerChargeable", "code": "YQ7", "feeName": "FUEL SURCHARGE", "foreignCurrencyCode": "USD", "detail": "NRT-ICN", "type": "TravelFee", "currencyCode": "KRW", "ticketCode": "YQ", "foreignAmount": 37.99 }], "passengerType": "ADT" }], "isGoverning": true, "fareStatus": "Default" }], "cabinOfService": "Y", "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "isConfirmingExternal": false, "changeReasonCode": "NoChange", "isChangeOfGauge": false, "segmentKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_", "legs": [{ "designator": { "arrival": "2022-07-21T16:35:00", "origin": "NRT", "destinationName": "서울(인천)", "destination": "ICN", "departure": "2022-07-21T13:55:00", "originName": "도쿄(나리타)" }, "legInfo": { "departureTime": "2022-07-21T13:55:00", "changeOfDirection": false, "lid": 174, "prbcCode": "INTBIZ", "backMoveDays": 365, "equipmentType": "738", "capacity": 174, "scheduleServiceType": "J", "arrivalTimeVariant": 540, "marketingOverride": false, "arrivalTime": "2022-07-21T16:35:00", "codeShareIndicator": "NonCodeShare", "outMoveDays": 365, "sold": 109, "departureTerminal": "3", "departureTimeVariant": 540, "arrivalTimeUtc": "2022-07-21T07:35:00Z", "marketingCode": "C12Y162", "adjustedCapacity": 174, "equipmentTypeSuffix": "C", "eTicket": true, "subjectToGovtApproval": false, "irop": false, "departureTimeUtc": "2022-07-21T04:55:00Z", "arrivalTerminal": "1", "status": "Normal" }, "nests": [{ "lid": 12, "legClasses": [{ "classOfService": "C", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 12, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 4, "status": "Active" }, { "classOfService": "D", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 3, "status": "Active" }, { "classOfService": "I", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 8, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classRank": 2, "status": "Active" }, { "classOfService": "CU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 1, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 1, "adjustedCapacity": 12, "nestType": "Serial", "travelClassCode": "C" }, { "lid": 162, "legClasses": [{ "classOfService": "Y", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 162, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 25, "status": "Active" }, { "classOfService": "B", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 24, "status": "Active" }, { "classOfService": "K", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 1, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 23, "status": "Active" }, { "classOfService": "N", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 140, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 22, "status": "Active" }, { "classOfService": "Q", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 135, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 21, "status": "Active" }, { "classOfService": "M", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 125, "classSold": 6, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 20, "status": "Active" }, { "classOfService": "T", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 115, "classSold": 43, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 19, "status": "Active" }, { "classOfService": "W", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 65, "classSold": 45, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 18, "status": "Active" }, { "classOfService": "O", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 10, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 17, "status": "Active" }, { "classOfService": "R", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 16, "status": "Active" }, { "classOfService": "X", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 15, "status": "Active" }, { "classOfService": "S", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 14, "status": "Active" }, { "classOfService": "Z", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 13, "status": "Active" }, { "classOfService": "L", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 12, "status": "Active" }, { "classOfService": "H", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 11, "status": "Active" }, { "classOfService": "E", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classRank": 10, "status": "Active" }, { "classOfService": "F", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 9, "status": "Active" }, { "classOfService": "V", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 30, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 8, "status": "Active" }, { "classOfService": "G", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 10, "classSold": 4, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 7, "status": "Active" }, { "classOfService": "P", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 6, "status": "Active" }, { "classOfService": "J", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 5, "status": "Active" }, { "classOfService": "A", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 4, "status": "Active" }, { "classOfService": "U", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 4, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 3, "status": "Active" }, { "classOfService": "UU", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 0, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 2, "status": "Active" }, { "classOfService": "AA", "cnxSold": 0, "latestAdvancedReservation": 0, "classAuthorizedUnits": 160, "classSold": 0, "classNest": 2, "classAllotted": 0, "thruSold": 0, "classType": "T", "classRank": 1, "status": "Active" }], "classNest": 2, "adjustedCapacity": 162, "nestType": "Serial", "travelClassCode": "Y" }], "ssrs": [{ "sold": 0, "ssrNestCode": "CRDS", "unitSold": 0, "lid": 0, "available": 0 }, { "sold": 0, "ssrNestCode": "INFT", "unitSold": 0, "lid": 15, "available": 15 }, { "sold": 1, "ssrNestCode": "MEAL", "unitSold": 1, "lid": 999, "available": 998 }, { "sold": 0, "ssrNestCode": "PETC", "unitSold": 0, "lid": 6, "available": 6 }], "flightReference": "20220721 7C1105 NRTICN", "legKey": "NjM3OTQwMDg1MDAwMDAwMDAwITdDITExMDUhICFOUlQhSUNOITI1Nzk0Mg--", "seatmapReference": "N0MhMTEwNSEgITYzNzk0MDA4NTAwMDAwMDAwMCFOUlQhSUNO" }], "isStandby": false, "international": true, "segmentType": "Normal", "status": "HeldConfirmed" }] }], "comments": [], "selfServiceMoveAvailable": false, "addOns": {}, "breakdown": { "passengerTotals": {}, "totalPointsToCollect": 0, "passengers": { "MCFBRFQ-": { "passengerKey": "MCFBRFQ-" } }, "journeys": { "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_": { "totalTax": 74600, "totalAmount": 119000, "totalPoints": 0, "totalDiscount": 0, "journeyKey": "N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_" }, "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_": { "totalTax": 77700, "totalAmount": 149000, "totalPoints": 0, "totalDiscount": 0, "journeyKey": "N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_" } }, "balanceDue": 420300, "addOnTotals": {}, "totalCharged": 420300, "totalAmount": 420300, "totalToCollect": 420300, "journeyTotals": { "totalTax": 152300, "totalAmount": 268000, "totalPoints": 0, "totalDiscount": 0 }, "authorizedBalanceDue": 420300, "pointsBalanceDue": 0, "totalPoints": 0 }, "payments": [], "history": [], "recordLocator": "H9L3XD", "sales": { "created": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" }, "modified": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" }, "source": { "domainCode": "WWW", "organizationCode": "7C", "agentCode": "sys_web.kr", "locationCode": "WWW" } }, "hold": { "expiration": "2022-06-29T21:59:06.000", "gmtExpiration": "2022-06-29T12:59:06Z" }, "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVbmtub3duIiwianRpIjoiMWRlNTdkZjAtZDE4Ny03Y2E1LTU1NjMtYTQ2NzViYjZjMGM4IiwiaXNzIjoiZG90UkVaIEFQSSJ9.gbj4tXlOdVIs3ULyX4a-H91c4Y0vFt0mmmCDtg8XoqA", "locators": { "numericRecordLocator": "153623241207", "recordLocators": [{ "recordLocatorKey": "NTQ2MzA2NDEhN0M-", "owningSystemCode": "7C", "recordCode": "54630641", "bookingSystemCode": "7C" }], "parentId": 0 }, "workingBatchYn": "N", "typeOfSale": { "fareTypes": [], "residentCountry": "KR" }, "voucherInfo": {}, "queues": [], "bookingKey": "MTEyNzcyOTchSDlMM1hEIWZhbHNl", "orders": [], "currencyCode": "KRW", "contacts": { "P": { "cultureCode": "ko-KR", "emailAddress": "dmsql0486@naver.com", "distributionOption": "None", "contactTypeCode": "P", "name": { "last": "KIM", "first": "EUNBI" }, "notificationPreference": "None", "customerNumber": "060007812", "phoneNumbers": [{ "number": "82-010-9619-0014", "type": "Home" }] } }, "info": { "modifiedAgentId": 12749847, "profileStatus": "Default", "channelType": "DigitalApi", "changeAllowed": true, "priceStatus": "Valid", "createdAgentId": 12749847, "paidStatus": "UnderPaid", "createdDate": "2022-06-29T12:19:06.623Z", "bookedDate": "2022-06-29T21:19:06.623", "modifiedDate": "2022-06-29T12:19:06.623Z", "owningCarrierCode": "7C", "status": "Hold", "expirationDate": "2022-07-22T13:55:00.000" } };
        const PssToken = pnrData.token;
        const currencyCode = payType === 'P' ? 'PNT' : pnrData.currencyCode;
        const paxInfo = pnrData.passengers;
        const paxInfoLength = Object.keys(paxInfo).length;
        const passengerObjKeyArr = Object.keys(paxInfo).sort(function (a, b) {
            return sUtil.getInt(paxInfo[a].order) - sUtil.getInt(paxInfo[b].order);
        });
        let journeysNum = sUtil.getNumber('0');
        let segmentsNum = sUtil.getNumber('0');
        let petcFlag = false;


        const inflType = 'B';


        const ssrAgentId = '';


        const originData = '' !== '' ? JSON.parse('') : '';
        const selectedJourneys = '' !== '' ? JSON.parse('') : [];
        const bundleMaintain = '';

        const depDate = inflType !== 'E' ? pnrData.journeys[0].segments[0].designator.departure.substring(0, 10) : originData.journeys[0].segments[0].designator.departure.substring(0, 10);
        let ssTimeoutRecordLocator = '';
        let ssTimeoutBookingKey = '';
        let ssTimeoutPssToken = '';
        if (inflType === 'B') {
            ssTimeoutRecordLocator = pnrData.recordLocator;
            ssTimeoutBookingKey = pnrData.bookingKey;
            ssTimeoutPssToken = pnrData.token;
        } else if (inflType === 'M') {
            _tl_processType = 'AncillaryPurchase';
        } else if (inflType === 'E') {
            _tl_processType = 'Exchange';
        }

        if (selectedJourneys.length !== 0 && pnrData.journeys.length !== selectedJourneys.length) {
            pnrData.journeys = [pnrData.journeys[selectedJourneys[0].journeyNumber - 1]];
        }
        if (pnrData.bookingKind === 'GDS' && inflType === 'M') {
            for (let i = 0; i < pnrData.journeys.length; i++) {
                pnrData.journeys[i].segments = pnrData.journeys[i].segments.filter(function (element) {
                    return element.segmentType !== 'Passive' && element.segmentType !== 'CodShareMarketing';
                });
            }
            pnrData.journeys = pnrData.journeys.filter(function (element) {
                return element.segments.length !== 0;
            });

            if (pnrData.journeys.length !== exchangePnrData.journeys.length) {
                for (let i = 0; i < exchangePnrData.journeys.length; i++) {
                    if (selectedJourneys.length === 0) {
                        for (let j = 0; j < exchangePnrData.journeys[i].segments.length; j++) {
                            if (exchangePnrData.journeys[i].segments[j].segmentType !== 'Passive' && exchangePnrData.journeys[i].segments[j].segmentType !== 'CodShareMarketing') {
                                segmentKey = exchangePnrData.journeys[i].segments[j].segmentKey;
                                let tempObj = {};
                                tempObj.journeyNumber = i + 1;
                                selectedJourneys.push(tempObj);
                                break;
                            }
                        }
                    }
                }
            }
        }

        $("#rpnr").val(pnrData.recordLocator);
        const journeys = pnrData.journeys;
        const journeysLength = journeys.length;


        let sameSeatFlag = true;
        let selectedSameSeat = false;


        let seatFlag = true;


        let seatMapData = '';
        let seatMapName = '';
        let seatMapDataArr = [];
        let nextCount = 0;
        const businessLiteColArr = ['A', 'C', 'D', 'F'];
        const economyColArr = ['A', 'B', 'C', 'D', 'E', 'F'];
        const seatClassArr = ['master', 'purple', 'diamond', 'platinum', 'gold', 'silver', 'bronze'];
        let groupsArr = [];
        let seatReqArr = [];
        let prevFlag = false;


        let modalSeat = '';
        let modalMemberNo = '';
        let modalSeatNo = '';
        let modalSeatKey = '';
        let modalAriaLabel = '';
        let modalUnitKey = '';
        let modalCost = '';
        let modalPect = '';
        let modalInfant = '';
        let modalExitRow = '';
        let modalVariant = '';

        if (inflType === 'M') {

            const GACurrencyCode = payType === 'P' ? pnrData.breakdown.journeyTotals.totalTaxCurrency : currencyCode;
            const GATripType = tripType === 'MT' ? 'MC' : tripType;
            const GAID = pnrData.journeys[0].designator.origin + '-' + pnrData.journeys[0].designator.destination + '-' + GATripType + '^A-SEAT';

            const agent = navigator.userAgent.toLowerCase();
            if (navigator.appName === 'Netscape' && navigator.userAgent.search('Trident') !== -1 || (agent.indexOf('msie') !== -1)) {
                window.addEventListener('popstate', function (event) {
                    $('#pnrData').val(JSON.stringify(pnrData));
                    $('#bookType').val(bookType);
                    $('#payType').val('G');
                    $('#cultureCode').val(cultureCode);
                    $('#tripType').val('RT');
                    $('#inflType').val('M');
                    $('#domIntType').val('I');
                    $('#ssrAgentId').val(ssrAgentId);
                    const formObj = $('#frmNext');
                    formObj.attr('action', '../ancillary/AncillaryGate.do');
                    formObj.submit();
                }, false);
                window.history.pushState({}, '', window.location.toString());
            }


            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'ee-productView-부가서비스',
                'ecommerce': {
                    'currencyCode': GACurrencyCode, //현지 통화
                    'detail': {
                        'products': [{
                            'id': GAID,
                            'name': 'Seat',
                            'price': 0,
                            'variant': '', //상품 옵션 (비즈니스 라이트석, 앞좌석, 비상구석, 세미 프론트석, 일반석)
                            'brand': GATripType, // 여정 타입  
                            'category': 'Ancillary'
                        }]
                    }
                }
            });
        }

        if (inflType === 'B') {

            termTLLayerShow = dUtil.diffTime(pnrData.hold.gmtExpiration.replace(/[^0-9]/g, ''), '202206291219', "MIN") * 1000 * 60
            TLLayerTimeOut = setTimeout(function () { showTLLayer(); }, termTLLayerShow);
        }


        const btnSkip_Click = function () {
            $('#pnrData').val(JSON.stringify(pnrData));
            $('#payType').val(payType);
            $('#bookType').val(bookType);
            $('#tripType').val(tripType);
            $('#inflType').val(inflType);
            $('#domIntType').val(domIntType);
            $('#cultureCode').val(cultureCode);

            let saleTypeCd = bookType === 'Promotion' ? 'PRM' : (bookType === 'Voucher' ? 'VCH' : (bookType === 'FOC' ? 'FOC' : (bookType === 'Point' ? 'PNT' : 'NOR')));
            $('#saleTypeCd').val(saleTypeCd);

            const productTypeCode = inflType === 'B' ? 'RSV' : 'EMD';
            $('#productTypeCode').val(productTypeCode);
            if (inflType === 'E') {
                $('#originData').val(JSON.stringify(originData));
                $('#selectedJourneys').val(JSON.stringify(selectedJourneys));
                $('#exchangePnrData').val(JSON.stringify(exchangePnrData));
                if (!seatFlag) {
                    findBookingPnr();
                    return;
                }
            }

            const url = '' !== '24' ? 'BaggageSelect.do' : '../booking/viewConfirm.do';
            seatFlag = true;
            $('#frmNext').attr({
                'method': 'post',
                'onsubmit': 'return true',
                'action': url
            }).submit();
        }


        const sameSeatSearch = function (segmentKey, currencyCode, payType) {
            $.ajax({
                url: 'getSeatMap.json',
                type: 'POST',
                async: false,
                beforeSend: function (request) {
                    request.setRequestHeader('PssToken', pnrData.token);
                    if (inflType === 'M') {
                        request.setRequestHeader('AgentId', ssrAgentId);
                    } else {
                        request.setRequestHeader('AgentId', pnrData.sales.created.organizationCode === '7C' ? '' : pnrData.sales.created.agentCode);
                    }
                },
                data: {
                    segmentKey: segmentKey,
                    currencyCode: currencyCode,
                    payType: payType
                },
                success: function (data) {
                    if (sUtil.isEmpty(data.data)) {
                        seatFlag = false;
                        const datas = { title: data.code, message: data.message };
                        $.JJAlert(datas);
                    } else {
                        if (data.data.code === '0000') {
                            seatMapData = data.data.data.seatMaps[0];
                        } else {
                            seatFlag = false;
                            const datas = { title: data.data.code, message: data.data.message };
                            $.JJAlert(datas);
                        }
                    }
                }
            });
        }


        const sameSeatRecommend = function () {
            if (sameSeatFlag && seatMapName === seatMapData.seatMap.name && $('#divSameSeat').children().length !== 0 && $('span[name=seat]').text() === '') {
                let sameSeatOpen = sameSeatCheck();

                let tempJourneysNum = journeysNum;
                let tempSegmentsNum = segmentsNum;
                let nextSection = '';
                if (journeys[journeysNum].segments.length > 1 && segmentsNum === 0) {
                    nextSection = journeys[journeysNum].segments[segmentsNum + 1];
                } else if (typeof (journeys[journeysNum + 1]) !== 'undefined') {
                    nextSection = journeys[journeysNum + 1].segments[0];
                }

                let seatMapCount = 0;
                if (nextSection !== '') {
                    do {
                        seatMapCount++;
                        sameSeatSearch(nextSection.segmentKey, currencyCode, payType);
                        if (seatMapCount > 1) {
                            seatMapDataArr.push(seatMapData);
                        }
                        if (seatMapName !== seatMapData.seatMap.name) {
                            sameSeatOpen = false;
                            break;
                        }
                        makeSeatMap(seatMapData);
                        sameSeatOpen = sameSeatCheck();
                        if (!sameSeatOpen) {
                            sameSeatFlag = false;
                            break;
                        }

                        if (journeys[tempJourneysNum].segments.length === 1) {
                            if (typeof (journeys[++tempJourneysNum]) === 'undefined') {
                                break;
                            }
                            tempSegmentsNum = 0;
                            nextSection = journeys[tempJourneysNum].segments[tempSegmentsNum];
                        } else {
                            if (tempSegmentsNum === 0 && journeys[tempJourneysNum].segments[0].identifier.identifier !== journeys[tempJourneysNum].segments[1].identifier.identifier) {
                                nextSection = journeys[tempJourneysNum].segments[++tempSegmentsNum];
                            } else {
                                if (typeof (journeys[++tempJourneysNum]) === 'undefined') {
                                    break;
                                }
                                tempSegmentsNum = 0;
                                nextSection = journeys[tempJourneysNum].segments[tempSegmentsNum];
                            }
                        }
                    } while (typeof (nextSection) !== 'undefined');
                }

                if (seatMapDataArr.length > 1) {
                    seatMapData = seatMapDataArr[1];
                    makePriceTag(seatMapData);
                    makeSeatMap(seatMapData);
                    seatMap();
                    tooltip.init('[data-element="tooltip"]');
                }
                if (sameSeatOpen) {
                    if (seatMapCount > 1) {
                        $('#pMTText').html('(모든 구간 적용)');
                    }

                    if ($('#divAlertModalLayer').css('display') !== 'none') {
                        $('#btnAlert').one('click', function (e) {
                            e.stopImmediatePropagation();
                            $('#sameSeatInfo').trigger('click');
                        });
                    } else {
                        $('#sameSeatInfo').trigger('click');
                    }
                }
            }
            sameSeatFlag = false;
        }


        const getSeatMap = function (segmentKey, currencyCode, payType, initFlag) {
            $.ajax({
                url: 'getSeatMap.json',
                type: 'POST',
                beforeSend: function (request) {
                    request.setRequestHeader('PssToken', pnrData.token);
                    if (inflType === 'M') {
                        request.setRequestHeader('AgentId', ssrAgentId);
                    } else {
                        request.setRequestHeader('AgentId', pnrData.sales.created.organizationCode === '7C' ? '' : pnrData.sales.created.agentCode);
                    }
                    Progress.show();
                },
                complete: function () {
                    Progress.hide();
                },
                data: {
                    segmentKey: segmentKey,
                    currencyCode: currencyCode,
                    payType: payType
                },
                success: function (data) {
                    if (sUtil.isEmpty(data.data)) {
                        seatFlag = false;
                        const datas = { title: data.code, message: data.message };
                        $.JJAlert(datas);
                    } else {
                        if (data.data.code === '0000') {
                            seatMapData = data.data.data.seatMaps[0];

                            if (typeof (seatMapDataArr[nextCount]) === 'undefined') {
                                seatMapDataArr.push(seatMapData);
                            }

                            if (initFlag) {
                                seatMapName = seatMapData.seatMap.name;
                            } else {
                                $('[id^=btnPrev]').show();
                            }

                            petcFlag = false;
                            petcAlert();
                            setSectionName(initFlag);
                            makePriceTag(seatMapData);
                            makeSeatMap(seatMapData);
                            seatMap();
                            tooltip.init('[data-element="tooltip"]');

                            if (initFlag) {
                                // plugin.js
                                $('.js-seat-value').displaySeatValue();
                            }

                            if (initFlag && (inflType === 'B' || inflType === 'E')) {
                                $('#divSkip').show();

                                $(document).on('click', 'button.select-seat__seat', function () {
                                    if ($('button.select-seat__seat.selected').length > 0) {
                                        $('#divSkip').hide();
                                    } else {
                                        $('#divSkip').show();
                                    }
                                });
                            }

                            if (inflType === 'M' || inflType === 'E') {
                                if (inflType === 'E') {
                                    if (bundleMaintain === 'Y' && selectedJourneys[journeysNum].bundleFlag) {
                                        occupiedSeatMark();
                                        purchasePossiblePax();
                                    }
                                } else {
                                    occupiedSeatMark();
                                    purchasePossiblePax();
                                }
                            }


                            if (!initFlag) {
                                let petcCount = 0;
                                $('.passenger').each(function () {
                                    if ($(this).children('span[name=petc]').text() === 'true') {
                                        petcCount += 1;
                                    }
                                });
                                if (petcCount < 2) {
                                    sameSeatRecommend();
                                }
                            }

                        } else {
                            seatFlag = false;
                            const datas = { title: data.data.code, message: data.data.message };
                            $.JJAlert(datas);
                        }
                    }
                }
            });
        }


        const petcAlert = function (alertFlag) {
            alertFlag = typeof (alertFlag) === 'undefined' ? false : alertFlag;
            const passengerSegment = journeys[journeysNum].segments[0].passengerSegment;
            const psObjectKey = Object.keys(passengerSegment);
            const psObjectKeyLen = psObjectKey.length;
            for (let i = 0; i < psObjectKeyLen; i++) {
                const ssrs = passengerSegment[psObjectKey[i]].ssrs;
                const ssrsLen = ssrs.length;
                for (let j = 0; j < ssrsLen; j++) {
                    if (ssrs[j].ssrCode === 'PETC') {
                        petcFlag = true;
                        $('.passenger').each(function () {
                            if ($(this).children('span[name=passengerKey]').text() === psObjectKey[i]) {
                                $(this).children('span[name=petc]').text('true');
                                return false;
                            }
                        });

                        if (!alertFlag) {
                            alertFlag = true;
                            $('#alertText').html('반려동물 동반 고객은 안전상 앞좌석, 비상구석을 선택하실 수 없습니다.');
                            alertModalOpen('divAlertModalLayer');
                        }
                    }
                }
            }
        }


        const makePassengerTab = function () {
            let paxHTML = '';
            let index = 1;
            for (let i = 0; i < paxInfoLength; i++) {
                paxHTML += '<div class="tab__button" data-element="tab__list">';
                const paxClass = i === 0 ? 'tab__anchor selected is-active' : 'tab__anchor selected';
                paxHTML += '	<button class="' + paxClass + '"type="button" data-element="tab__anchor" onclick="btnMember_Click(this);">';
                paxHTML += '		<span class="passenger">';
                paxHTML += '			<span class="num">' + index++ + '</span>';
                paxHTML += '			<strong class="name">' + paxInfo[passengerObjKeyArr[i]].name.last + '/' + paxInfo[passengerObjKeyArr[i]].name.first + '</strong>';
                paxHTML += '			<span name="passengerTypeCode" style="display: none">' + paxInfo[passengerObjKeyArr[i]].passengerTypeCode + '</span>';

                const infant = typeof (paxInfo[passengerObjKeyArr[i]].infant) !== 'undefined' ? true : false;

                paxHTML += '			<span name="petc" style="display: none"></span>';
                paxHTML += '			<span name="infant" style="display: none">' + infant + '</span>';
                paxHTML += '       		<span name="passengerKey" style="display: none">' + paxInfo[passengerObjKeyArr[i]].passengerKey + '</span>';
                paxHTML += '       		<span name="unitKey" style="display: none"></span>';
                paxHTML += '			<span name="seat" class="seat"></span>';
                paxHTML += '			<span name="variant" style="display: none"></span>';
                paxHTML += '		</span>';
                paxHTML += '	</button>';
                paxHTML += '</div>';
            }
            $('#divMember').html(paxHTML);

            if (paxInfoLength > 4) {
                $('#divArrow').removeAttr('style');
            }
        }
        makePassengerTab();


        const bizLiteBundleCheck = function () {
            for (let i = journeysNum; i < journeysLength; i++) {
                const segments = journeys[i].segments[0];
                const bundleCode = segments.passengerSegment[passengerObjKeyArr[0]].bundleCode;
                if (segments.fares[0].productClass === 'N' || (typeof (bundleCode) !== 'undefined' && bundleCode !== 'XXDL') || bundleMaintain === 'Y') {
                    $('#divSkip').remove();
                    return;
                }
            }
        }


        const conSectionDisplay = function (journeysName) {
            const fromName = journeys[journeysNum].segments[segmentsNum].designator.originName;
            const toName = journeys[journeysNum].segments[segmentsNum].designator.destinationName;

            let conSectionHTML = journeysName;
            conSectionHTML += '<div id="divTrip" class="trip">';
            conSectionHTML += '   <span class="from">' + fromName + '</span>';
            conSectionHTML += '   <span class="mark oneway" aria-label="oneway"></span>';
            conSectionHTML += '   <span class="to">' + toName + '</span>';
            conSectionHTML += '</div>';

            $('#sectionName').html(conSectionHTML);
        }


        const setSectionName = function (alertFlag) {
            let buttonText = '';
            const segments = journeys[journeysNum].segments;
            const segmentsLen = segments.length;
            const identifier1 = segmentsLen > 1 ? journeys[journeysNum].segments[0].identifier.identifier : '';
            const identifier2 = segmentsLen > 1 ? journeys[journeysNum].segments[1].identifier.identifier : '';

            if (journeysLength === 1) {
                let journeysName = tripType === 'MT' ? '구간1' : '가는 편';
                if (selectedJourneys.length !== 0 && selectedJourneys[0].journeyNumber === 2) {
                    journeysName = tripType === 'MT' ? '구간2' : '오는 편';
                }
                $('#sectionName').html(journeysName);
                if (segmentsLen > 1 && identifier1 !== identifier2) {
                    conSectionDisplay(journeysName);
                    if (segmentsNum === 0) {
                        buttonText = '환승 후 좌석 선택하기';
                    } else {
                        if (alertFlag) {
                            if ($('html').hasClass('open-modal--full')) {
                                $('#btnAlert').one('click', function () {
                                    $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>환승 후 구간만 구매 가능합니다.');
                                    alertModalOpen('divAlertModalLayer');
                                });
                            } else {
                                $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>환승 후 구간만 구매 가능합니다.');
                                alertModalOpen('divAlertModalLayer');
                            }
                        }
                        buttonText = inflType === 'B' || inflType === 'E' ? '다음' : '결제하기';
                    }
                } else {
                    buttonText = inflType === 'B' || inflType === 'E' ? '다음' : '결제하기';
                }
            } else {
                let journeysName = '가는 편';
                if (tripType === 'MT') {
                    $('#sectionName').text('구간1');
                    journeysName = '구간1';
                    buttonText = '구간2 좌석 선택하기';
                } else {
                    buttonText = '오는 편 좌석 선택하기';
                }
                if (journeysNum === 0) {
                    if (segmentsLen > 1 && identifier1 !== identifier2) {
                        if (segmentsNum === 0) {
                            buttonText = '환승 후 좌석 선택하기';
                            conSectionDisplay(journeysName);
                        } else {
                            if (alertFlag) {
                                if ($('html').hasClass('open-modal--full')) {
                                    $('#btnAlert').one('click', function () {
                                        $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>가는 편 환승 후 구간부터 구매 가능합니다.');
                                        alertModalOpen('divAlertModalLayer');
                                    });
                                } else {
                                    $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>가는 편 환승 후 구간부터 구매 가능합니다.');
                                    alertModalOpen('divAlertModalLayer');
                                }
                            }
                            conSectionDisplay(journeysName);
                            buttonText = '오는 편 좌석 선택하기';
                        }
                    } else {
                        $('#sectionName').html(journeysName);
                    }
                } else {
                    let journeysName = '오는 편';
                    let alertText = '' + journeysName + ' 구간만 구매 가능합니다.';
                    if (tripType === 'MT') {
                        $('#sectionName').text('구간2');
                        journeysName = '구간2';
                        alertText = '' + journeysName + ' 구간만 구매 가능합니다.';
                    }
                    if (segmentsLen > 1 && identifier1 !== identifier2) {
                        if (segmentsNum === 0) {
                            if (alertFlag) {
                                if ($('html').hasClass('open-modal--full')) {
                                    $('#btnAlert').one('click', function () {
                                        $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>오는 편 구간부터 구매 가능합니다.');
                                        alertModalOpen('divAlertModalLayer');
                                    });
                                } else {
                                    $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>오는 편 구간부터 구매 가능합니다.');
                                    alertModalOpen('divAlertModalLayer');
                                }
                            }
                            conSectionDisplay(journeysName);
                            buttonText = '환승 후 좌석 선택하기';
                        } else {
                            if (alertFlag) {
                                if ($('html').hasClass('open-modal--full')) {
                                    $('#btnAlert').one('click', function () {
                                        $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>오는 편 환승 후 구간만 구매 가능합니다.');
                                        alertModalOpen('divAlertModalLayer');
                                    });
                                } else {
                                    $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>오는 편 환승 후 구간만 구매 가능합니다.');
                                    alertModalOpen('divAlertModalLayer');
                                }
                            }
                            buttonText = inflType === 'B' || inflType === 'E' ? '다음' : '다음';
                        }
                    } else {
                        if (alertFlag) {
                            if ($('html').hasClass('open-modal--full')) {
                                $('#btnAlert').one('click', function () {
                                    $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>' + alertText);
                                    alertModalOpen('divAlertModalLayer');
                                });
                            } else {
                                $('#alertText').html('일부 구간은 출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>' + alertText);
                                alertModalOpen('divAlertModalLayer');
                            }
                        }
                        $('#sectionName').html(journeysName);
                        buttonText = inflType === 'B' || inflType === 'E' ? '다음' : '결제하기';
                    }
                }
            }
            $('[id^=spanNext]').html(buttonText);
        }


        const makePriceTag = function (seatMapData, member) {

            member = typeof (member) === 'undefined' ? $('.tab__anchor.selected.is-active') : member;
            const passengerKey = member.find('span[name=passengerKey]').text();
            const orginGroups = seatMapData.fees[passengerKey].groups;
            let groups = [];
            for (let idx in orginGroups) {
                groups.push(orginGroups[idx])
            };

            let priceHTML = '';
            let price = [];
            groupsArr = [];

            const groupsLength = Object.keys(groups).length;
            for (let i = 0; i < groupsLength; i++) {
                let groupsObj = {};
                groupsObj.group = groups[i].group;
                groupsObj.price = payType === 'P' ? groups[i].fees[0].serviceCharges[0].foreignAmount : groups[i].fees[0].serviceCharges[0].amount;
                groupsArr.push(groupsObj);
                price.push(groupsObj.price);
            }

            let uniquePrice = [];
            for (let i = 0; i < price.length; i++) {
                if (!uniquePrice.includes(price[i])) {
                    uniquePrice.push(price[i]);
                }
            }

            uniquePrice.sort(function (a, b) {
                return b - a;
            });

            const bookingClassArr = Object.keys(seatMapData.seatMap.decks[1].compartments);
            const arrLength = bookingClassArr.length;
            const currencyCode = payType === 'P' ? 'PNT' : groups[0].fees[0].serviceCharges[0].currencyCode;
            const priceLength = uniquePrice.length;
            const groupsArrLength = groupsArr.length;
            const bundleName = inflType === 'B' ? journeys[journeysNum].segments[0].passengerSegment[passengerKey].bundleName : journeys[journeysNum].segments[0].passengerSegment[passengerKey].bundleCodeDesc;
            const productclass = journeys[journeysNum].segments[segmentsNum].fares[0].productClass;
            const vipMember = groups[0].fees[0].detail === 'VPON::' ? true : false;

            for (let i = 0; i < priceLength; i++) {
                priceHTML += '<div class="select-seat__tag group-a group-b group-c">';
                if (uniquePrice[i] === 0 && (productclass === 'N' || bookingClassArr.includes('C') && typeof (bundleName) === 'undefined' && !vipMember)) {
                    priceHTML += '	<i class="select-seat__seat seat-challenger"></i>';
                } else {
                    priceHTML += '	<i class="select-seat__seat seat-' + seatClassArr[i] + '"></i>';
                }
                priceHTML += '	<span class="select-seat__tag-price">' + sUtil.setComma(uniquePrice[i]) + '</span>';
                priceHTML += '</div>';
                for (let j = 0; j < groupsArrLength; j++) {
                    if (uniquePrice[i] === groupsArr[j].price) {
                        if (uniquePrice[i] === 0 && (productclass === 'N' || bookingClassArr.includes('C') && typeof (bundleName) === 'undefined' && !vipMember)) {
                            groupsArr[j].seatClass = 'challenger';
                        } else {
                            groupsArr[j].seatClass = seatClassArr[i];
                        }
                    }
                }
            }

            if (typeof (bundleName) !== 'undefined') {
                priceHTML += '<p class="select-seat__tag-notice mg">' + '' + bundleName + '의 일부 좌석은 추가 금액이 없습니다.</p>';
            }
            $('#priceTagList').html(priceHTML);
            if (productclass === 'N') {
                $('#priceTagList').children().each(function () {
                    if (!$(this).children('.select-seat__seat').hasClass('seat-challenger')) {
                        $(this).remove();
                    }
                });
            } else {
                $('#priceTagList').find('.select-seat__seat.seat-challenger').parent().remove();
            }

            if (petcFlag && $('#priceTagList').children('.select-seat__tag').length !== 1) {
                $('#priceTagList').find('.select-seat__seat.seat-master').parent().remove();
            }

        }


        const makeSeatMap = function (seatMapData, passengerKey, rowNo) {

            if (typeof (passengerKey) === 'undefined') {
                passengerKey = $('.tab__anchor.selected.is-active').find('span[name=passengerKey]').text();
            }

            $('#divBusinessLite').hide();
            for (let i = 0; i < 6; i++) {
                $('div[data-column=' + economyColArr[i] + ']').html('');
            }

            let seatMapHTML = '';
            let assignable = '';
            const bookingClassArr = Object.keys(seatMapData.seatMap.decks[1].compartments);
            const arrLength = bookingClassArr.length;
            for (let i = 0; i < arrLength; i++) {
                const units = seatMapData.seatMap.decks[1].compartments[bookingClassArr[i]].units;
                const unitsLength = units.length;
                let l = 0;

                if (arrLength > 1) {

                    if (bookingClassArr[i] === 'C') {
                        for (let j = 0; j < unitsLength; j++) {
                            if (units[j].assignable) {
                                assignable = '';
                                seatMapHTML = '';

                                switch (j) {
                                    case 0: seatMapHTML = '<strong class="row-name">A</strong>';
                                        break;
                                    case 1: seatMapHTML = '<strong class="row-name">C</strong>';
                                        break;
                                    case 2: seatMapHTML = '<strong class="row-name">D</strong>';
                                        break;
                                    case 3: seatMapHTML = '<strong class="row-name">F</strong>';
                                        break;
                                    default: break;
                                }

                                if (units[j].availabilityPerPassenger[passengerKey].toLowerCase() !== 'open') {
                                    assignable = 'disabled';
                                }

                                let seatClass = '';
                                for (let k = 0; k < groupsArr.length; k++) {
                                    if (groupsArr[k].group === units[j].group) {
                                        seatClass = groupsArr[k].seatClass;
                                        break;
                                    }
                                }

                                let exitRow = false;
                                let bulkHead = false;
                                for (let z = 0; z < units[j].properties.length; z++) {
                                    if (units[j].properties[z].code.toLowerCase() === 'exitrow' && units[j].properties[z].value.toLowerCase() === 'true') {
                                        exitRow = true
                                        break;
                                    } else if (units[j].properties[z].code.toLowerCase() === 'bulkhead' && units[j].properties[z].value.toLowerCase() === 'true') {
                                        bulkHead = true
                                        break;
                                    }
                                }

                                seatMapHTML += '<button type="button" class="select-seat__seat seat-' + seatClass + '" data-seat="name" unitKey="' + units[j].unitKey + '" designator=' + units[j].designator;
                                seatMapHTML += ' bulkHead="' + bulkHead + '" exitRow="' + exitRow + '" group="' + units[j].group + '" onclick="btnSeat_Click(this);"' + assignable + '>';
                                seatMapHTML += '	<span class="selected"></span>';
                                seatMapHTML += '</button>';

                                $('div[data-column=' + businessLiteColArr[l++ % 4] + ']').eq(0).append(seatMapHTML);
                            }
                        }
                        $('#divBusinessLite').removeAttr('style');

                    } else {
                        for (let j = 0; j < unitsLength; j++) {
                            if (units[j].assignable) {
                                assignable = '';
                                seatMapHTML = '';

                                switch (j) {
                                    case 0: seatMapHTML = '<strong class="row-name">A</strong>';
                                        break;
                                    case 1: seatMapHTML = '<strong class="row-name">B</strong>';
                                        break;
                                    case 2: seatMapHTML = '<strong class="row-name">C</strong>';
                                        break;
                                    case 3: seatMapHTML = '<strong class="row-name">D</strong>';
                                        break;
                                    case 4: seatMapHTML = '<strong class="row-name">E</strong>';
                                        break;
                                    case 5: seatMapHTML = '<strong class="row-name">F</strong>';
                                        break;
                                    default: break;
                                }

                                if (units[j].availabilityPerPassenger[passengerKey].toLowerCase() !== 'open') {
                                    assignable = 'disabled';
                                }

                                let seatClass = '';
                                for (let k = 0; k < groupsArr.length; k++) {
                                    if (groupsArr[k].group === units[j].group) {
                                        seatClass = groupsArr[k].seatClass;
                                        break;
                                    }
                                }

                                let exitRow = false;
                                let bulkHead = false;
                                for (let z = 0; z < units[j].properties.length; z++) {
                                    if (units[j].properties[z].code.toLowerCase() === 'exitrow' && units[j].properties[z].value.toLowerCase() === 'true') {
                                        exitRow = true
                                        break;
                                    } else if (units[j].properties[z].code.toLowerCase() === 'bulkhead' && units[j].properties[z].value.toLowerCase() === 'true') {
                                        bulkHead = true
                                        break;
                                    }
                                }

                                seatMapHTML += '<button type="button" class="select-seat__seat seat-' + seatClass + '" data-seat="name" unitKey="' + units[j].unitKey + '" designator=' + units[j].designator;
                                seatMapHTML += ' bulkHead="' + bulkHead + '" exitRow="' + exitRow + '" group="' + units[j].group + '" onclick="btnSeat_Click(this);"' + assignable + '>';
                                seatMapHTML += '	<span class="selected"></span>';
                                seatMapHTML += '</button>';

                                if (j < 54) {
                                    $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(1).append(seatMapHTML);
                                } else if (j > 53 && j < 60) {
                                    $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(2).append(seatMapHTML);
                                } else {
                                    $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(3).append(seatMapHTML);
                                }
                            }
                        }
                    }

                } else {
                    for (let j = 0; j < unitsLength; j++) {
                        if (units[j].assignable) {
                            assignable = '';
                            seatMapHTML = '';

                            switch (j) {
                                case 0: seatMapHTML = '<strong class="row-name">A</strong>';
                                    break;
                                case 1: seatMapHTML = '<strong class="row-name">B</strong>';
                                    break;
                                case 2: seatMapHTML = '<strong class="row-name">C</strong>';
                                    break;
                                case 6: seatMapHTML = '<strong class="row-name">D</strong>';
                                    seatMapHTML += '<button type="button" class="select-seat__seat seat-" data-seat="name" emptied="true" style="visibility:hidden"></button>';
                                    break;
                                case 7: seatMapHTML = '<strong class="row-name">E</strong>';
                                    seatMapHTML += '<button type="button" class="select-seat__seat seat-" data-seat="name" emptied="true" style="visibility:hidden"></button>';
                                    break;
                                case 8: seatMapHTML = '<strong class="row-name">F</strong>';
                                    seatMapHTML += '<button type="button" class="select-seat__seat seat-" data-seat="name" emptied="true" style="visibility:hidden"></button>';
                                    break;
                                default: break;
                            }

                            if (units[j].availabilityPerPassenger[passengerKey].toLowerCase() !== 'open') {
                                assignable = 'disabled';
                            }

                            let seatClass = '';
                            for (let k = 0; k < groupsArr.length; k++) {
                                if (groupsArr[k].group === units[j].group) {
                                    seatClass = groupsArr[k].seatClass;
                                    break;
                                }
                            }

                            let exitRow = false;
                            let bulkHead = false;
                            for (let z = 0; z < units[j].properties.length; z++) {
                                if (units[j].properties[z].code.toLowerCase() === 'exitrow' && units[j].properties[z].value.toLowerCase() === 'true') {
                                    exitRow = true
                                    break;
                                } else if (units[j].properties[z].code.toLowerCase() === 'bulkhead' && units[j].properties[z].value.toLowerCase() === 'true') {
                                    bulkHead = true
                                    break;
                                }
                            }

                            seatMapHTML += '<button type="button" class="select-seat__seat seat-' + seatClass + '" data-seat="name" unitKey="' + units[j].unitKey + '" designator=' + units[j].designator;
                            seatMapHTML += ' bulkHead="' + bulkHead + '" exitRow="' + exitRow + '" group="' + units[j].group + '" onclick="btnSeat_Click(this);"' + assignable + '>';
                            seatMapHTML += '	<span class="selected"></span>';
                            seatMapHTML += '</button>';

                            if (j === 3) {
                                l = 0;
                            }
                            if (j < 81) {
                                $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(1).append(seatMapHTML);
                            } else if (j > 80 && j < 87) {
                                $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(2).append(seatMapHTML);
                            } else {
                                $('div[data-column=' + economyColArr[l++ % 6] + ']').eq(3).append(seatMapHTML);
                            }
                        }
                    }
                }
            }


            if (typeof (rowNo) === 'undefined') {
                let seatRowHTML = '<div class="number-wrap">';
                seatRowHTML += '	<span class="number"> <span data-seat="row">01</span>';
                seatRowHTML += '		<span data-element="tooltip" role="tooltip" class="tooltip" data-set="{"width": "300", "left":"-160", "arrow": "160"}">';
                seatRowHTML += '			<button type="button" aria-label="$title 툴팁 열기" data-element="tooltip__anchor" class="tooltip__button"></button>';
                seatRowHTML += '			<span data-element="tooltip__panel" class="tooltip__panel">';
                seatRowHTML += '				<span aria-hidden="true" class="tooltip-arrow"></span>';
                if (arrLength > 1) {
                    seatRowHTML += '			<span class="tooltip-desc">더 넓고 안락해요.</span>';
                } else {
                    seatRowHTML += '			<span class="tooltip-desc">앞에 좌석이 없어요.</span>';
                }
                seatRowHTML += '			</span>';
                seatRowHTML += '		</span>';
                seatRowHTML += '	</span>';
                seatRowHTML += '</div>';

                const colunmNo = $('.column.column--numbers');
                const columnNoLength = colunmNo.length;
                let toolTipDes = '';
                for (let i = 2; i < 33; i++) {
                    if (arrLength > 1) {
                        if (i === 4 || i === 5) {
                            continue;
                        }
                    }
                    const rowNo = i < 10 ? '0' + i : i;
                    seatRowHTML += '<div class="number-wrap">';
                    seatRowHTML += '	<span class="number">';
                    seatRowHTML += '		<span data-seat="row">' + rowNo + '</span>';
                    if ((arrLength > 1 && (i === 2 || i === 3)) || i === 14 || i === 15 || i === 16 || i === 32) {
                        if ((i === 2 || i === 3)) {
                            toolTipDes = '더 넓고 안락해요.';
                        } else if (i === 14 || i === 32) {
                            toolTipDes = '등받이가 고정되어 있어요.';
                        } else if (i === 15 || i === 16) {
                            toolTipDes = '비상구랑 가까워요';
                        }
                        seatRowHTML += '	<span data-element="tooltip" role="tooltip" class="tooltip" data-set="{"width": "300", "left":"-160", "arrow": "160"}">';
                        seatRowHTML += '		<button type="button" aria-label="$title 툴팁 열기" data-element="tooltip__anchor" class="tooltip__button"></button>';
                        seatRowHTML += '		<span data-element="tooltip__panel" class="tooltip__panel">';
                        seatRowHTML += '			<span aria-hidden="true" class="tooltip-arrow"></span>';
                        seatRowHTML += '			<span class="tooltip-desc">' + toolTipDes + '</span>';
                        seatRowHTML += '		</span>';
                        seatRowHTML += '	</span>';
                    }
                    seatRowHTML += '	</span>';
                    seatRowHTML += '</div>';

                    switch (i) {
                        case 3: if (arrLength > 1) {
                            $(colunmNo[columnNoLength - 4]).html(seatRowHTML);
                            seatRowHTML = '';
                        }
                            break;
                        case 14: $(colunmNo[columnNoLength - 3]).html(seatRowHTML);
                            seatRowHTML = '';
                            break;
                        case 15: $(colunmNo[columnNoLength - 2]).html(seatRowHTML);
                            seatRowHTML = '';
                            break;
                        case 32: $(colunmNo[columnNoLength - 1]).html(seatRowHTML);
                            seatRowHTML = '';
                            break;
                        default: break;
                    }
                }
            }
        }


        const occupiedSeatMark = function () {
            let curJourneys = journeys;
            if (inflType === 'E') {
                if ($('span[name=seat]').text() !== '') {
                    return;
                }

                curJourneys = originData.journeys;
                if (journeys.length !== originData.journeys.length) {
                    curJourneys = [originData.journeys[selectedJourneys[0].journeyNumber - 1]];
                }
                if (journeys[journeysNum].segments[segmentsNum].legs[0].legInfo.adjustedCapacity !== curJourneys[journeysNum].segments[segmentsNum].legs[0].legInfo.adjustedCapacity) {
                    if (!prevFlag) {
                        $('#alertText').html('여정 변경으로 인해 선택하셨던 좌석과 동일한 좌석이 없습니다.좌석을 다시 선택해 주세요.');
                        alertModalOpen('divAlertModalLayer');
                    }
                    return;
                }
            }
            let occupiedSeatArr = [];
            let seatDisabled = false;
            for (let i = 0; i < paxInfoLength; i++) {
                if (seatDisabled) {
                    break;
                }
                const occupiedSeat = curJourneys[journeysNum].segments[segmentsNum].passengerSegment[paxInfo[passengerObjKeyArr[i]].passengerKey].seats;
                if (occupiedSeat.length > 0) {
                    $('.passenger').each(function (idx) {
                        const passengerKey = $(this).find('span[name=passengerKey]').text();
                        if (passengerKey === paxInfo[passengerObjKeyArr[i]].passengerKey) {

                            const unitDesignator = occupiedSeat[0].unitDesignator;

                            if (inflType === 'M') {
                                $(this).find('span[name=seat]').text(unitDesignator);
                                $(this).find('span[name=unitKey]').text(occupiedSeat[0].unitKey);
                            }

                            if (inflType === 'E') {
                                const completedSeat = $('button[designator=' + unitDesignator + ']');
                                const productclass = journeys[journeysNum].segments[segmentsNum].fares[0].productClass;
                                const seatMapClass = productclass === 'N' ? 'C' : 'Y';
                                const units = seatMapData.seatMap.decks[1].compartments[seatMapClass].units;
                                const checkUnit = units.filter(function (element) {
                                    return element.designator === unitDesignator;
                                });

                                if (checkUnit.length > 0 && checkUnit[0].availabilityPerPassenger[passengerKey].toLowerCase() === 'open') {
                                    $(this).find('span[name=seat]').text(unitDesignator);
                                    $(this).find('span[name=unitKey]').text(completedSeat.attr('unitKey'));
                                    if (idx === 0) {
                                        completedSeat.addClass('on');
                                    } else {
                                        completedSeat.attr('readonly', '');
                                    }
                                    completedSeat.addClass('completed').children().text(unitDesignator);
                                    occupiedSeatArr.push(completedSeat);
                                } else {
                                    for (let j = 0; j < occupiedSeatArr.length; j++) {
                                        $('.tab__anchor').each(function () {
                                            if ($(this).find('span[name=seat]').text() === occupiedSeatArr[j].attr('designator')) {
                                                $(this).removeClass('is-checked').removeAttr('disabled');
                                                $(this).find('span[name=seat]').text('');
                                                $(this).find('span[name=unitKey]').text('');

                                                return false;
                                            }
                                        });
                                        occupiedSeatArr[j].removeAttr('readonly').removeClass('completed').removeClass('on').children().text('');
                                    }

                                    if (!prevFlag) {
                                        $('#alertText').html('여정 변경으로 인해 선택하셨던 좌석과 동일한 좌석이 없습니다.좌석을 다시 선택해 주세요.');
                                        alertModalOpen('divAlertModalLayer');
                                    }
                                    seatDisabled = true;
                                    return false;
                                }
                            } else {
                                const completedSeat = $('button[unitKey=' + occupiedSeat[0].unitKey + ']');
                                completedSeat.removeClass('selected').addClass('completed').children().text(occupiedSeat[0].unitDesignator);
                            }
                            $(this).parent().addClass('is-checked').attr('disabled', true);

                            return false;
                        }
                    });
                }
            }
        }


        const setBottomSheet = function () {

            let bottomSheetData = {
                fare: 0,
                tax: 0,
                fuelCharge: 0,
                discount: 0,
                promotion: 0,
                bundle: 0,
                pdumf: 0
            };

            let bundleHTML = '';

            for (let i = 0; i < journeysLength; i++) {
                const segments = journeys[i].segments;
                const segmentsLength = segments.length;
                for (let j = 0; j < segmentsLength; j++) {
                    const passengerFares = segments[j].fares[0].passengerFares;
                    const passengerFaresLength = passengerFares.length;

                    for (let k = 0; k < passengerFaresLength; k++) {
                        let count = 0;
                        for (let z = 0; z < paxInfoLength; z++) {
                            const discountCode = passengerFares[k].discountCode;
                            const passengerType = passengerFares[k].passengerType;
                            const paxDiscountCode = paxInfo[passengerObjKeyArr[z]].discountCode;
                            let passengerTypeCode = paxInfo[passengerObjKeyArr[z]].passengerTypeCode;

                            if (passengerType === 'INF' && typeof (paxInfo[passengerObjKeyArr[z]].infant) !== 'undefined') {
                                passengerTypeCode = 'INF';
                            }
                            if (paxDiscountCode === discountCode && passengerTypeCode === passengerType) {
                                count++;
                            }
                        }

                        const serviceCharges = segments[j].fares[0].passengerFares[k].serviceCharges;
                        const serviceChargesLength = serviceCharges.length;

                        for (let z = 0; z < serviceChargesLength; z++) {
                            const type = serviceCharges[z].type;
                            const amount = serviceCharges[z].amount * count;
                            const code = serviceCharges[z].code;

                            switch (type) {
                                case 'FarePrice': bottomSheetData.fare += amount;
                                    break;
                                case 'TravelFee': if (code.substring(0, 2) === 'YQ') {
                                    bottomSheetData.fuelCharge += amount;
                                } else {
                                    bottomSheetData.tax += amount;
                                }
                                    break;
                                case 'Discount': if (typeof (segments[j].fares[0].passengerFares[k].discountCode) !== 'undefined') {
                                    if (typeof (code) !== 'undefined') {
                                        bottomSheetData.discount += amount;
                                    } else {
                                        bottomSheetData.fare -= amount;
                                    }
                                } else {
                                    if (typeof (code) !== 'undefined' || bookType === 'Voucher') {
                                        bottomSheetData.fare -= amount;
                                    } else {
                                        bottomSheetData.discount += amount;
                                    }
                                }
                                    break;
                                case 'PromotionDiscount': bottomSheetData.promotion += amount;
                                    break;
                                default: bottomSheetData.tax += amount;
                                    break;
                            }
                        }
                    }

                    if (Object.keys(pnrData.breakdown.passengerTotals).length > 0) {
                        let bundleName = '';
                        let bundleCost = 0;
                        const passengerSegment = segments[j].passengerSegment;
                        const psObjectKey = Object.keys(passengerSegment);
                        const passengerSegmentLen = psObjectKey.length;

                        for (let k = 0; k < passengerSegmentLen; k++) {
                            bundleName = passengerSegment[psObjectKey[k]].bundleName;
                            if (typeof (bundleName) === 'undefined') {
                                break;
                            }
                            const ssrs = passengerSegment[psObjectKey[k]].ssrs;
                            const ssrsLength = ssrs.length;

                            for (let z = 0; z < ssrsLength; z++) {
                                if (ssrs[z].inBundle) {
                                    const passengers = pnrData.passengers;
                                    const pObjectKey = Object.keys(passengers);
                                    const passengersLen = pObjectKey.length;
                                    for (let n = 0; n < passengersLen; n++) {
                                        if (passengerSegment[psObjectKey[k]].passengerKey === passengers[pObjectKey[n]].passengerKey) {
                                            const fees = passengers[pObjectKey[n]].fees;
                                            const feesLen = fees.length;
                                            for (let m = 0; m < feesLen; m++) {
                                                if (ssrs[z].feeCode === fees[m].code && segments[j].flightReference === fees[m].flightReference) {
                                                    const serviceCharges = fees[m].serviceCharges;
                                                    const serviceChargesLen = serviceCharges.length;
                                                    for (let x = 0; x < serviceChargesLen; x++) {
                                                        if (serviceCharges[x].type === 'ServiceCharge') {
                                                            bottomSheetData.bundle += serviceCharges[x].amount;
                                                            bundleCost += serviceCharges[x].amount;
                                                        } else if (serviceCharges[x].type === 'Discount') {
                                                            bottomSheetData.bundle -= serviceCharges[x].amount;
                                                            bundleCost -= serviceCharges[x].amount;
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        if (typeof (bundleName) !== 'undefined') {
                            bundleHTML += '<div class="flex-text" name="divBundle">';
                            bundleHTML += '		<div class="flex-text__title">' + bundleName + '</div>';
                            bundleHTML += '		<div class="flex-text__additional">' + sUtil.FmtcurrencyCvt(I18N.language, currencyCode, bundleCost) + '</div>';
                            bundleHTML += '</div>';
                        }
                    }
                }
            }

            if (paxInfoLength === 1 && paxInfo[passengerObjKeyArr[0]].passengerTypeCode === 'CHD') {
                let feesHTML = '';
                let ssrName = '';
                const fees = paxInfo[passengerObjKeyArr[0]].fees;
                for (let i = 0; i < fees.length; i++) {
                    if (fees[i].code === 'PDUMF') {
                        ssrName = fees[i].ssrName;
                        bottomSheetData.pdumf += payType === 'P' ? fees[i].serviceCharges[0].foreignAmount : fees[i].serviceCharges[0].amount;
                    }
                }
                feesHTML += '<div class="flex-text" id="divPDUM">';
                feesHTML += '	<div class="flex-text__title">' + ssrName + '</div>';
                feesHTML += '	<div class="flex-text__additional">' + sUtil.FmtcurrencyCvt(I18N.language, currencyCode, bottomSheetData.pdumf) + '</div>';
                feesHTML += '</div>';

                $('#extraServiceFee').show().children('.itemize__item').prepend(feesHTML);
            }

            let totalAmount = bottomSheetData.fare + bottomSheetData.tax + bottomSheetData.fuelCharge + bottomSheetData.bundle + bottomSheetData.pdumf - bottomSheetData.discount - bottomSheetData.promotion;
            let gifTicketDisCount = 0;
            if (bookType === 'Voucher') {
                totalAmount = totalAmount - bottomSheetData.fare;
                gifTicketDisCount = bottomSheetData.fare;
            }

            if (payType === 'P') {
                sUtil.FmtcurrencyCvt(I18N.language, pnrData.breakdown.journeyTotals.totalTaxCurrency, pnrData.breakdown.journeyTotals.totalTax, $('#spanCost'));
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, (totalAmount - pnrData.breakdown.journeyTotals.totalTax), $('#spanPoint'));
                $('#spanPoint').show();
            } else {
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, totalAmount, $('#spanCost'));
            }
            const taxCurrencyCode = payType === 'P' ? pnrData.breakdown.journeyTotals.totalTaxCurrency : currencyCode;

            sUtil.FmtcurrencyCvt(I18N.language, currencyCode, bottomSheetData.fare, $('#divFare').find('.flex-text__additional'));
            sUtil.FmtcurrencyCvt(I18N.language, taxCurrencyCode, bottomSheetData.tax, $('#divDA').find('.flex-text__additional'));
            sUtil.FmtcurrencyCvt(I18N.language, taxCurrencyCode, bottomSheetData.fuelCharge, $('#divYQ').find('.flex-text__additional'));

            if (bottomSheetData.discount !== 0) {
                const discountSelector = $('#divDiscount');
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, '-' + Math.abs(bottomSheetData.discount), discountSelector.find('.flex-text__additional'));
                discountSelector.removeAttr('style');
            }

            if (bottomSheetData.promotion !== 0) {
                const promotionCost = $('#divPromotion').find('.flex-text__additional');
                promotionCost.text('');
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, '-' + Math.abs(bottomSheetData.promotion), promotionCost);
            }

            if (gifTicketDisCount !== 0) {
                const gifTicketSelector = $('#divGifTicket');
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, '-' + gifTicketDisCount, gifTicketSelector.find('.flex-text__additional'));
                gifTicketSelector.removeAttr('style');
            }

            if (bundleHTML !== '') {
                $('#extraServiceFee').show().children('.itemize__item').prepend(bundleHTML);
            }
        }


        const modalOpen = function (seat, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, exitRow, variant, modalId) {
            modalSeat = seat;
            modalMemberNo = memberNo;
            modalSeatNo = seatNo;
            modalSeatKey = seatKey;
            modalAriaLabel = ariaLabel;
            modalUnitKey = unitKey;
            modalCost = cost;
            modalPetc = petc;
            modalInfant = infant;
            modalExitRow = exitRow;
            modalVariant = variant;

            if (modalId === 'exitSeatInfo') {
                exitSeatInfo();
            } else {
                openModal('#addChargeSeatLayer', 'full');
            }
        }


        const selectedSeatMark = function () {
            $('.passenger').each(function () {
                const seatNo = $(this).find('span[name=seat]').text();
                const infant = $(this).find('span[name=infant]').text();
                const petc = $(this).find('span[name=petc]').text();
                if (seatNo !== '') {
                    const memberSeat = $('button[designator=' + seatNo + ']');
                    if ($(this).parent().hasClass('is-checked')) {
                        memberSeat.addClass('completed').children().text(seatNo);
                    } else {
                        memberSeat.addClass('selected').attr('readonly', '').children().text($(this).children('.num').text());
                        if (infant === 'true') {
                            memberSeat.attr('infant', '');
                        }
                        if (petc === 'true') {
                            memberSeat.attr('petc', '');
                        }
                    }
                }
            });
        }


        const btnMember_Click = function (obj) {
            if (seatFlag) {
                if (!$(obj).hasClass('is-active')) {
                    makePriceTag(seatMapData, $(obj));
                    makeSeatMap(seatMapData, $(obj).find('span[name=passengerKey]').text(), false);
                    seatMap();
                    selectedSeatMark();
                }

                $('.passenger').each(function () {
                    if ($(this).parent().hasClass('is-active')) {
                        const seatNo = $(this).find('span[name=seat]').text();
                        if (seatNo !== '') {
                            const memberSeat = $('button[designator=' + seatNo + ']');
                            memberSeat.removeClass('on');
                            memberSeat.attr('readonly', '');
                        }
                        const activePaxSeat = $(obj).find('span[name=seat]').text();
                        if (activePaxSeat !== '') {
                            const seatSelector = $('button[designator=' + activePaxSeat + ']');
                            seatSelector.addClass('on');
                            seatSelector.removeAttr('readonly');
                            return false;
                        }
                    }
                });
            }
        }


        const btnArrowClick = function (obj) {
            if (!$(obj).hasClass('disabled')) {

                const activeTab = $('.tab__anchor.selected.is-active');
                if (activeTab.length === 0) {
                    return;
                }
                const nextActiveTab = $(obj).attr('id') === 'btnRight' ? activeTab.parent().next().children() : activeTab.parent().prev().children();

                makePriceTag(seatMapData, nextActiveTab);
                makeSeatMap(seatMapData, nextActiveTab.find('span[name=passengerKey]').text(), false);
                seatMap();
                selectedSeatMark();

                const seatNo = activeTab.find('span[name=seat]').text();
                if (seatNo !== '') {
                    const memberSeat = $('button[designator=' + seatNo + ']');
                    memberSeat.removeClass('on');
                    memberSeat.attr('readonly', '');
                }
                const nextActivePaxSeat = nextActiveTab.find('span[name=seat]').text();
                if (nextActivePaxSeat !== '') {
                    const seatSelector = $('button[designator=' + nextActivePaxSeat + ']');
                    seatSelector.addClass('on');
                    seatSelector.removeAttr('readonly');
                }
            }
        }




        const seatAutoSelected = function (ariaLabel) {
            let cost = 0;
            let petcCount = 0;
            let infantCount = 0;
            $('.passenger').each(function () {
                if ($(this).children('span[name=petc]').text() === 'true') {
                    petcCount += 1;
                }
                if ($(this).children('span[name=infant]').text() === 'true') {
                    infantCount += 1;
                }
            });

            if (petcCount < 2 && infantCount < 2) {

                const bookingClassArr = Object.keys(seatMapData.seatMap.decks[1].compartments);
                const arrLength = bookingClassArr.length;
                const productclass = journeys[journeysNum].segments[segmentsNum].fares[0].productClass;
                const colArr = productclass === 'N' ? ['A', 'C', 'D', 'F'] : ['A', 'B', 'C', 'D', 'E', 'F'];
                const colArrLength = colArr.length;
                let rowNo = ariaLabel.substring(1, 3);

                let col = -1;
                for (let i = 0; i < colArrLength; i++) {
                    if (colArr[i] === ariaLabel.charAt(0)) {
                        col = i;
                        break;
                    }
                }

                let tempArr = [];
                let autoSeatNoArr = [ariaLabel];
                let isReverse = false;


                if (productclass === 'N') {
                    if (col === 0 || col === 2) {
                        for (let i = 1; i < paxInfoLength; i++) {
                            makeSeatMap(seatMapData, $('.tab__anchor').eq(i).find('span[name=passengerKey]').text(), false);
                            seatMap();
                            selectedSeatMark();


                            if (!isReverse) {
                                col++;
                            } else {
                                col--;
                            }
                            if (col === colArr.length) {

                                isReverse = true;

                                col = col - 3;
                            }

                            let nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');

                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label')) || typeof (nextSeat[0]) === 'undefined') {
                                isReverse = false;
                                for (let j = 0; j < colArrLength; j++) {
                                    if (colArr[j] === ariaLabel.charAt(0)) {
                                        col = j;
                                        break;
                                    }
                                }

                                rowNo = '0' + (sUtil.getNumber(rowNo) + 1);
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }

                            if (nextSeat.attr('disabled') === 'disabled' || typeof (nextSeat[0]) === 'undefined') {

                                break;
                            }
                            let tempObj = {};
                            tempObj.button = nextSeat;
                            tempObj.paxNo = i + 1;

                            tempArr.push(tempObj);
                            autoSeatNoArr.push(nextSeat.attr('aria-label'));
                        }
                    } else {
                        for (let i = 1; i < paxInfoLength; i++) {
                            makeSeatMap(seatMapData, $('.tab__anchor').eq(i).find('span[name=passengerKey]').text(), false);
                            seatMap();
                            selectedSeatMark();


                            if (!isReverse) {
                                col--;
                            } else {
                                col++;
                            }

                            if (col === -1) {

                                isReverse = true;

                                col = col + 3;
                            }

                            let nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');

                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label')) || typeof (nextSeat[0]) === 'undefined') {
                                isReverse = false;
                                for (let j = 0; j < colArrLength; j++) {
                                    if (colArr[j] === ariaLabel.charAt(0)) {
                                        col = j;
                                        break;
                                    }
                                }

                                rowNo = '0' + (sUtil.getNumber(rowNo) + 1);
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }

                            if (nextSeat.attr('disabled') === 'disabled' || typeof (nextSeat[0]) === 'undefined') {

                                break;
                            }

                            let tempObj = {};
                            tempObj.button = nextSeat;
                            tempObj.paxNo = i + 1;

                            tempArr.push(tempObj);
                            autoSeatNoArr.push(nextSeat.attr('aria-label'));
                        }
                    }
                } else {

                    if (col === 0 || col === 3) {
                        for (let i = 1; i < paxInfoLength; i++) {
                            makeSeatMap(seatMapData, $('.tab__anchor').eq(i).find('span[name=passengerKey]').text(), false);
                            seatMap();
                            selectedSeatMark();


                            if (!isReverse) {
                                col++;
                            } else {
                                col--;
                            }
                            if (col === colArr.length) {

                                isReverse = true;

                                col = col - 3;
                            }

                            let nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');

                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label'))) {
                                col--;
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }


                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label')) || typeof (nextSeat[0]) === 'undefined' || nextSeat.attr('emptied') === 'true') {
                                isReverse = false;
                                for (let j = 0; j < colArrLength; j++) {
                                    if (colArr[j] === ariaLabel.charAt(0)) {
                                        col = j;
                                        break;
                                    }
                                }
                                rowNo = sUtil.getNumber(rowNo) + 1 < 10 ? '0' + (sUtil.getNumber(rowNo) + 1) : (sUtil.getNumber(rowNo) + 1) + '';
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }

                            if (nextSeat.attr('disabled') === 'disabled' || typeof (nextSeat[0]) === 'undefined') {

                                break;
                            }
                            let tempObj = {};
                            tempObj.button = nextSeat;
                            tempObj.paxNo = i + 1;

                            tempArr.push(tempObj);
                            autoSeatNoArr.push(nextSeat.attr('aria-label'));
                        }
                    } else {
                        for (let i = 1; i < paxInfoLength; i++) {
                            makeSeatMap(seatMapData, $('.tab__anchor').eq(i).find('span[name=passengerKey]').text(), false);
                            seatMap();
                            selectedSeatMark();


                            if (!isReverse) {
                                col--;
                            } else {
                                col++;
                            }
                            if (col === -1 || (col === 2) && !autoSeatNoArr.includes($('button[aria-label=' + (colArr[5] + rowNo) + ']').attr('aria-label'))) {

                                isReverse = true;

                                col = col + 3;
                                if (col === 5 && autoSeatNoArr.includes($('button[aria-label=' + (colArr[col] + rowNo) + ']'))) {

                                    isReverse = false;

                                    col = col - 3;
                                }
                            }
                            if (col === colArr.length) {

                                isReverse = false;

                                col = col - 4;
                            }

                            let nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');

                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label'))) {
                                col = isReverse ? col + 1 : col - 1;
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }


                            if (autoSeatNoArr.includes(nextSeat.attr('aria-label')) || typeof (nextSeat[0]) === 'undefined' || nextSeat.attr('emptied') === 'true') {
                                isReverse = false;
                                for (let j = 0; j < colArrLength; j++) {
                                    if (colArr[j] === ariaLabel.charAt(0)) {
                                        col = j;
                                        break;
                                    }
                                }
                                rowNo = sUtil.getNumber(rowNo) + 1 < 10 ? '0' + (sUtil.getNumber(rowNo) + 1) : (sUtil.getNumber(rowNo) + 1) + '';
                                nextSeat = $('button[aria-label=' + (colArr[col] + rowNo) + ']');
                            }

                            if (nextSeat.attr('disabled') === 'disabled' || typeof (nextSeat[0]) === 'undefined') {

                                break;
                            }
                            let tempObj = {};
                            tempObj.button = nextSeat;
                            tempObj.paxNo = i + 1;

                            tempArr.push(tempObj);
                            autoSeatNoArr.push(nextSeat.attr('aria-label'));
                        }
                    }
                }

                if (tempArr.length === paxInfoLength - 1) {
                    $.JJToast('나머지 승객의 좌석을 자동으로 배치해 드렸어요.');

                    $('.passenger').each(function (idx) {
                        if (idx !== 0) {
                            const designator = $(this).find('span[name=seat]').text();
                            if (designator !== '') {
                                const seat = $('button[designator=' + designator + ']');
                                seat.removeClass('selected');
                                seat.removeAttr('readonly');
                                seat.find('.selected').text('');
                                $(this).find('span[name=unitKey]').text('');
                                $(this).find('span[name=seat]').text('');
                                $(this).find('span[name=variant]').text('');

                                const passengerKey = $(this).find('span[name=passengerKey]').text();
                                const group = sUtil.getNumber(seat.attr('group'));

                                cost -= payType === 'P' ? seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].foreignAmount : seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].amount;
                            }
                        }
                    });

                    for (let i = 0; i < tempArr.length; i++) {
                        const seat = tempArr[i].button;
                        const paxNo = tempArr[i].paxNo;

                        if (!seat.hasClass('selected')) {
                            seat.addClass('selected');
                            seat.attr('readonly', '');
                        }
                        seat.find('.selected').text(paxNo);

                        const passengerKey = $('.passenger').eq(paxNo - 1).find('span[name=passengerKey]').text();
                        const group = sUtil.getNumber(seat.attr('group'));

                        cost += payType === 'P' ? seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].foreignAmount : seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].amount;

                        $('.passenger').each(function (idx) {
                            if (idx !== 0 && tempArr[i].paxNo === sUtil.getNumber($(this).find('.num').text())) {
                                $(this).find('span[name=unitKey]').text(seat.attr('unitKey'));
                                $(this).find('span[name=seat]').text(seat.attr('designator'));

                                let variantText = '일반석';
                                if ($(seat).attr('exitRow') === 'true') {
                                    variantText = '비상구석';
                                } else if ($(seat).hasClass('seat-challenger')) {
                                    variantText = '비즈니스라이트석 ';
                                } else if ($(seat).attr('bulkHead') === 'true') {
                                    variantText = '앞좌석';
                                } else if ($(seat).hasClass('seat-purple')) {
                                    variantText = '세미프론트석';
                                }

                                $(this).find('span[name=variant]').text(variantText);

                                return false;
                            }
                        });
                    }
                }
                makeSeatMap(seatMapData, $('.tab__anchor').eq(0).find('span[name=passengerKey]').text(), false);
                seatMap();
                selectedSeatMark();

                const seatSelector = $('button[designator=' + $('.tab__anchor').eq(0).find('span[name=seat]').text() + ']');
                seatSelector.addClass('on');
                seatSelector.removeAttr('readonly');
            }
            return cost;
        }


        const activationSeat = function (seat, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, variant) {

            $(seat).toggleClass('selected');
            $(seat).toggleClass('on');
            $(seat).find('.selected').text($(seat).hasClass('on') ? memberNo : '');
            seatKey.parents('.tab__anchor').removeClass('is-checked');

            cost = sUtil.getNumber(cost.replace(/[,]/g, ''));
            const costSelector = (payType === 'P' && inflType === 'B') ? $('#spanPoint') : $('#spanCost');
            const seatFeeSelector = $('#divSeatFee');

            $('button.select-seat__seat').each(function () {
                const preCost = $('#priceTagList').find('.' + $(this).attr('class').split('selected')[0].trim().replace(/\s+/g, '.')).next().text().replace(/[,]/g, '');
                if ($(this).hasClass('selected') && $(this)[0] !== $(seat)[0] && $(this).find('.selected').text() === $(seat).find('.selected').text()) {
                    $(this).find('span.selected').text('');
                    $(this).removeClass('selected');
                    $(this).removeClass('on');
                    $(this).removeAttr('readonly');
                    if (petc) {
                        $(this).removeAttr('petc');
                    }
                    if (infant) {
                        $(this).removeAttr('infant');
                    }
                    const seatFee = sUtil.getNumber(seatFeeSelector.children('.price_txt').text().replace(/[,]/g, '')) - sUtil.getNumber(preCost);
                    sUtil.FmtcurrencyCvt(I18N.language, currencyCode, seatFee, seatFeeSelector);
                    sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(costSelector.children('.price_txt').text().replace(/[,]/g, '')) - sUtil.getNumber(preCost), costSelector);
                    return false;
                }
            });

            if (memberNo === '1' && paxInfoLength > 1 && $(seat).hasClass('selected') && $('span[name=seat]').text() === '') {
                seatNo.text($(seat).attr('designator'));
                cost += seatAutoSelected(ariaLabel);
            }

            let variantText = '일반석';
            if ($(seat).attr('exitRow') === 'true') {
                variantText = '비상구석';
            } else if ($(seat).hasClass('seat-challenger')) {
                variantText = '비즈니스라이트석 ';
            } else if ($(seat).attr('bulkHead') === 'true') {
                variantText = '앞좌석';
            } else if ($(seat).hasClass('seat-purple')) {
                variantText = '세미프론트석';
            }

            if ($(seat).hasClass('on')) {
                const rowNo = ariaLabel.substring(1, 3);
                if (rowNo === '14' || rowNo === '32') {
                    $('#alertText').html('14열과  32열은 등받이 고정 좌석입니다.');
                    alertModalOpen('divAlertModalLayer');
                }

                if (petc) {
                    $(seat).attr('petc', '');
                }
                if (infant) {
                    $(seat).attr('infant', '');
                }
                seatNo.text($(seat).attr('designator'));
                seatKey.text(unitKey);
                variant.text(variantText);
                seatNo.show();
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(seatFeeSelector.children('.price_txt').text().replace(/[,]/g, '')) + cost, seatFeeSelector);
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(costSelector.children('.price_txt').text().replace(/[,]/g, '')) + cost, costSelector);
            } else {
                if (petc) {
                    $(seat).removeAttr('petc');
                }
                if (infant) {
                    $(seat).removeAttr('infant');
                }
                seatNo.text('');
                seatKey.text('');
                variant.text('');
                seatNo.removeAttr('style');
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(seatFeeSelector.children('.price_txt').text().replace(/[,]/g, '')) - cost, seatFeeSelector);
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(costSelector.children('.price_txt').text().replace(/[,]/g, '')) - cost, costSelector);
            }

            if (seatFeeSelector.children('.price_txt').text() !== '0') {
                $('#divSeat').show();
                $('#extraServiceFee').show();
            } else {
                $('#divSeat').hide();
                if ($('div[name=divBundle]').length === 0 && $('#divPDUM').length === 0) {
                    $('#extraServiceFee').hide();
                }
            }
        }


        const seatInfantPetcCheck = function (ariaLabel, memberNo, type) {
            const seatRow = ariaLabel.substring(0, 1);
            const seatNo = ariaLabel.substring(1, 3);
            const leftSideArr = ['A', 'B', 'C'];
            const rightSideArr = ['D', 'E', 'F'];
            const rowArr = leftSideArr.includes(seatRow) ? leftSideArr : rightSideArr;
            for (let i = 0; i < 3; i++) {
                const sameRowSeat = $('button[aria-label=' + rowArr[i] + seatNo);
                const checkType = type === 'I' ? typeof (sameRowSeat.attr('infant')) : typeof (sameRowSeat.attr('petc'));
                if (sameRowSeat !== null && checkType !== 'undefined' && sameRowSeat.find('.selected').text() !== memberNo) {
                    return true;
                }
            }
            return false;
        }


        const btnSeat_Click = function (obj) {

            if (!$('.tab__anchor').hasClass('is-active') || $('.tab__anchor.selected.is-active').hasClass('is-checked')) {
                return;
            }

            const selectedMember = $('.tab__anchor.selected.is-active').find('.passenger');
            const memberNo = selectedMember.find('.num').text();
            const seatNo = selectedMember.find('span[name=seat]');
            const seatKey = selectedMember.find('span[name=unitKey]');
            const variant = selectedMember.find('span[name=variant]');
            const ariaLabel = $(obj).attr('aria-label');
            const exitRow = $(obj).attr('exitRow');
            const unitKey = $(obj).attr('unitKey');
            const seatClassList = $(obj).attr('class').split(/\s+/g);
            const priceClass = '.' + $(obj).attr('class').split('selected')[0].trim().replace(/\s+/g, '.');
            const cost = $('#priceTagList').find(priceClass).next().text().trim();
            const seatNoSelector = $('#seatNo');
            const passengerTypeCode = selectedMember.find('span[name=passengerTypeCode]').text();
            const passengerKey = selectedMember.find('span[name=passengerKey]').text();
            const petc = selectedMember.find('span[name=petc]').text() === 'true' ? true : false;
            const infant = selectedMember.find('span[name=infant]').text() === 'true' ? true : false;
            const bundleCode = journeys[journeysNum].segments[0].passengerSegment[passengerKey].bundleCode;

            if (typeof ($(obj).attr('readonly')) !== 'undefined') {
                $('#alertText').html('다른 탑승객이 선택한 좌석입니다.');
                alertModalOpen('divAlertModalLayer');
                return;
            }

            if ((exitRow === 'true')) {
                if (passengerTypeCode !== 'ADT' || infant) {
                    $('#alertText').html('만 15세 미만 승객 또는 유/소아 보호자 승객에게는 비상구 좌석배정이 제한됩니다.');
                    alertModalOpen('divAlertModalLayer');
                    return;
                }
            }

            if (!$(obj).hasClass('on')) {
                if (infant && seatInfantPetcCheck(ariaLabel, memberNo, 'I')) {
                    $('#alertText').html('유아를 동반하는 성인이 2명 이상인 경우 해당 좌석을 선택할 수 없습니다. 다시 선택해 주세요.');
                    alertModalOpen('divAlertModalLayer');
                    return;
                }
                if (petc && seatInfantPetcCheck(ariaLabel, memberNo, 'P')) {
                    $('#alertText').html('반려동물을 동반하는 성인이 2명 이상인 경우 해당 좌석을 선택할 수 없습니다. 다시 선택해 주세요.');
                    alertModalOpen('divAlertModalLayer');
                    return;
                }
                if (typeof (bundleCode) !== 'undefined' && bundleCode !== 'XXDL') {
                    if (cost !== '0') {
                        while (seatNoSelector.attr('class').split(/\s+/g).length > 1) {
                            seatNoSelector.removeClass(seatNoSelector.attr('class').split(/\s+/g)[1]);
                        }
                        seatNoSelector.addClass(seatClassList[1]);
                        seatNoSelector.text($(obj).attr('designator'));

                        if (cultureCode.substring(0, 2) == 'ko' && currencyCode === 'KRW') {
                            $('#divSelectText').html('<span class="strong text--bold">+' + cost + ' ' + '원' + '</span> 추가요금이 발생합니다. (1인 기준)');
                        } else {
                            $('#divSelectText').html('<span class="strong text--bold">+' + cost + ' ' + currencyCode + '</span> 추가요금이 발생합니다. (1인 기준)');
                        }

                        modalOpen(obj, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, exitRow, variant, 'addChargeSeatLayer');
                        return;
                    } else if (exitRow === 'true') {
                        modalOpen(obj, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, exitRow, variant, 'exitSeatInfo');
                        return;
                    }
                } else if (exitRow === 'true') {
                    modalOpen(obj, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, exitRow, variant, 'exitSeatInfo');
                    return;
                }
            }

            activationSeat(obj, memberNo, seatNo, seatKey, ariaLabel, unitKey, cost, petc, infant, variant);
        }


        const btnSelect_Click = function () {
            if (modalExitRow === 'true') {
                $.modal.close();
                exitSeatInfo();
            } else {
                activationSeat(modalSeat, modalMemberNo, modalSeatNo, modalSeatKey, modalAriaLabel, modalUnitKey, modalCost, modalPetc, modalInfant, modalVariant);
                $.modal.close();
            }
        }


        const seatSelectReqInit = function () {
            let seatReqObj = {};
            seatReqObj.currencyCode = currencyCode;
            seatReqObj.payType = payType;
            seatReqObj.inflCode = inflType;
            seatReqObj.seats = [];

            seatReqArr.push(seatReqObj);
        }


        const bizLiteBundleSeatCheck = function (type) {
            let result = true;
            $('.passenger').each(function () {
                if ($(this).find('span[name=seat]').text() === '') {
                    const option = type === 'N' ? 'BIZ LITE 운임 선택시 좌석을 반드시 선택하셔야 합니다.' : '번들 선택시 좌석을 반드시 선택하셔야 합니다.';
                    $('#alertText').html(option);
                    alertModalOpen('divAlertModalLayer');
                    result = false;
                    return false;
                }
            });
            return result;
        }


        const saveSeatInfo = function () {
            let sameSeatHTML = '';
            let seatPrice = 0;

            seatReqArr[0].seats = seatReqArr[0].seats.filter(function (element) {
                return element.journeysNum !== journeysNum || element.segmentsNum !== segmentsNum;
            });
            $('.passenger').each(function () {
                if (!$(this).parent().prop('disabled') || inflType === 'E') {

                    const paxSeat = $(this).find('span[name=seat]').text();
                    if (paxSeat !== '') {
                        let seatReqObj = {};

                        const passengerKey = $(this).find('span[name=passengerKey]').text();
                        const seatNo = $(this).find('span[name=seat]').text();
                        const group = $('button[designator=' + seatNo + ']').attr('group');
                        const price = payType === 'P' ? seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].foreignAmount : seatMapData.fees[passengerKey].groups[group].fees[0].serviceCharges[0].amount;
                        seatPrice += price;

                        seatReqObj.passengerName = $(this).find('.name').text();
                        seatReqObj.price = sUtil.setComma(price);
                        seatReqObj.journeysNum = selectedJourneys.length === 1 && selectedJourneys[0].journeyNumber === 2 ? 1 : journeysNum;
                        seatReqObj.segmentsNum = segmentsNum;
                        seatReqObj.passengerKey = passengerKey;
                        seatReqObj.unitKey = $(this).find('span[name=unitKey]').text();
                        seatReqObj.journeyKey = journeys[journeysNum].journeyKey;
                        seatReqObj.delYn = 'N';
                        seatReqObj.variant = $(this).find('span[name=variant]').text();
                        seatReqObj.designator = $(this).find('.seat').text();
                        seatReqObj.seatClass = $('button[designator=' + seatNo + ']').hasClass('completed') ? 'completed' : 'selected';

                        seatReqArr[0].seats.push(seatReqObj);

                        if (seatMapDataArr.length === 1 && journeysNum === 0 && segmentsNum === 0) {
                            sameSeatHTML += '<div class="select-seat__tag">';
                            sameSeatHTML += '	<i class="' + $('button[designator=' + paxSeat + ']').attr('class').split('selected')[0].split('completed')[0].trim() + '">' + paxSeat + '</i>';
                            sameSeatHTML += '	<span class="select-seat__tag-price">' + $(this).find('.name').text() + '</span>';
                            sameSeatHTML += '	<span class="passengerKey" style="display: none">' + $(this).find('span[name=passengerKey]').text() + '</span>';
                            sameSeatHTML += '	<span class="num" style="display: none">' + $(this).find('.num').text() + '</span>';
                            sameSeatHTML += '	<span class="petc" style="display: none">' + $(this).find('span[name=petc]').text() + '</span>';
                            sameSeatHTML += '	<span class="infant" style="display: none">' + $(this).find('span[name=infant]').text() + '</span>';
                            sameSeatHTML += '</div>';
                        }
                    }
                }
            });
            if (sameSeatHTML !== '') {
                $('#divSameSeat').append(sameSeatHTML);
            }
        }


        const sameSeatCheck = function () {
            let status = true;

            const productclass = journeys[journeysNum].segments[segmentsNum].fares[0].productClass;
            const seatMapClass = productclass === 'N' ? 'C' : 'Y';
            const units = seatMapData.seatMap.decks[1].compartments[seatMapClass].units;

            $('#divSameSeat').find('.select-seat__tag').each(function () {
                const designator = $(this).find('i').text();
                const passengerKey = $(this).find('.passengerKey').text();
                const checkUnit = units.filter(function (element) {
                    return element.designator === designator;
                });

                if (checkUnit.length === 0 || checkUnit[0].availabilityPerPassenger[passengerKey].toLowerCase() !== 'open') {
                    status = false;
                    return false;
                }
            });

            return status;
        }


        const makeNextSegInfo = function () {

            nextCount++;

            const nextSegments = journeys[journeysNum].segments[segmentsNum];
            const productclass = nextSegments.fares[0].productClass;

            let seatMapCall = false;
            if (typeof (seatMapDataArr[nextCount]) === 'undefined') {
                getSeatMap(nextSegments.segmentKey, currencyCode, payType);
                seatMapCall = true;
            }

            let journeysName = '';
            if (journeysNum === 0) {
                journeysName = tripType === 'MT' ? '구간1' : '가는 편';
            } else {
                journeysName = tripType === 'MT' ? '구간2' : '오는 편';
            }
            if (journeys[journeysNum].segments.length > 1 && journeys[journeysNum].segments[0].identifier.identifier !== journeys[journeysNum].segments[1].identifier.identifier) {
                conSectionDisplay(journeysName);
            }

            $('.tab__anchor').removeAttr('disabled').removeClass('is-checked');
            $('.passenger').eq(0).trigger('click');
            $('span[name=petc]').text('');
            $('span[name=unitKey]').text('');
            $('span[name=seat]').text('');
            $('span[name=variant]').text('');

            if (!seatMapCall) {
                seatMapData = seatMapDataArr[nextCount];
                petcFlag = false;
                petcAlert(true);
                setSectionName();
                makePriceTag(seatMapData);
                makeSeatMap(seatMapData);
                seatMap();
                tooltip.init('[data-element="tooltip"]');
                $('[id^=btnPrev]').show();
                prevSelectedSeatMark();

                if (inflType === 'M' || inflType === 'E') {
                    if (inflType === 'E') {
                        if (bundleMaintain === 'Y' && selectedJourneys[journeysNum].bundleFlag) {
                            occupiedSeatMark();
                            purchasePossiblePax();
                        }
                    } else {
                        occupiedSeatMark();
                        purchasePossiblePax();
                    }
                }
                if (selectedSameSeat) {
                    btnSameSeat_Click();
                }
            }

            if (inflType === 'B' || inflType === 'E') {
                $('#divSkip').remove();
            }

            window.scrollTo(0, 0);
        }


        const sumSeatPrice = function () {
            const seats = seatReqArr[0].seats;
            const seatsLen = seats.length;
            let seatsPrice = 0;
            for (let i = 0; i < seatsLen; i++) {
                seatsPrice += sUtil.getNumber(seats[i].price.replace(/[,]/g, ''));
            }
            if (typeof (seatReqArr[1]) === 'undefined') {
                seatReqArr.push(seatsPrice);
            } else {
                seatReqArr[1] = seatsPrice;
            }
        }


        const addSeat = function () {
            $.ajax({
                type: 'post',
                url: 'addSeat.json',
                beforeSend: function (request) {
                    request.setRequestHeader('PssToken', pnrData.token);
                    if (inflType === 'M') {
                        request.setRequestHeader('AgentId', ssrAgentId);
                    } else {
                        request.setRequestHeader('AgentId', pnrData.sales.created.organizationCode === '7C' ? '' : pnrData.sales.created.agentCode);
                    }
                },
                data: {
                    seatData: JSON.stringify(seatReqArr[0])
                },
                success: function (data) {
                    if (sUtil.isEmpty(data.data)) {
                        const datas = { title: data.code, message: data.message };
                        $.JJAlert(datas);
                    } else {
                        if (data.data.code === '0000') {
                            if (originData.untkYn === 'Y' && bundleMaintain === 'Y') {
                                findBookingPnr();
                            } else {
                                $('#frmNext').attr({
                                    'method': 'post',
                                    'onsubmit': 'return true',
                                    'action': 'BaggageSelect.do'
                                }).submit();
                            }
                        } else {
                            const datas = { title: data.data.code, message: data.data.message };
                            $.JJAlert(datas);
                        }
                    }
                }
            });
        }


        const makeSeatRequset = function (countFlag) {

            if (inflType === 'M') {
                if (journeysNum === journeysLength && seatReqArr[0].seats.length === 0) {
                    $('#alertText').html('좌석을 선택해 주세요.');
                    alertModalOpen('divAlertModalLayer');
                    if (countFlag === 'J') {
                        journeysNum--;
                    } else {
                        segmentsNum--;
                    }
                    return false;
                }
            }

            Progress.show();
            sumSeatPrice();

            if (pnrData.bookingKind === 'GDS' && inflType === 'M') {
                $('#pnrData').val(JSON.stringify(exchangePnrData));
            } else {
                $('#pnrData').val(JSON.stringify(pnrData));
            }
            $('#payType').val(payType);
            $('#bookType').val(bookType);
            $('#tripType').val(tripType);
            $('#inflType').val(inflType);
            $('#domIntType').val(domIntType);
            $('#cultureCode').val(cultureCode);
            if (seatReqArr[0].seats.length !== 0 && inflType !== 'E') {
                $('#seatData').val(JSON.stringify(seatReqArr));
            }

            let saleTypeCd = bookType === 'Promotion' ? 'PRM' : (bookType === 'Voucher' ? 'VCH' : (bookType === 'FOC' ? 'FOC' : (bookType === 'Point' ? 'PNT' : 'NOR')));
            $('#saleTypeCd').val(saleTypeCd);

            let productTypeCode = '';
            let url = '';
            if (inflType === 'B' || inflType === 'E') {
                productTypeCode = 'RSV';
                url = 'BaggageSelect.do';
            } else {
                productTypeCode = 'EMD';
                url = 'AncillaryConfirm.do';
                $('#ssrAgentId').val(ssrAgentId);
                if (bookType === 'Point') {
                    $('#totalPoint').val(seatReqArr[1]);
                }

                let GAProductsArr = [];
                const gaTripType = tripType === 'MT' ? 'MC' : tripType;
                const seatsLength = seatReqArr[0].seats.length;
                for (let i = 0; i < seatsLength; i++) {

                    let GAObj = {};
                    GAObj.id = exchangePnrData.journeys[seatReqArr[0].seats[i].journeysNum].designator.origin + '-' + exchangePnrData.journeys[seatReqArr[0].seats[i].journeysNum].designator.destination + '-' + gaTripType + '^A-SEAT';
                    GAObj.name = 'Seat';
                    GAObj.price = sUtil.getNumber(seatReqArr[0].seats[i].price.replace(/[,]/g, ''));
                    GAObj.variant = seatReqArr[0].seats[i].variant;
                    GAObj.category = 'Seat';
                    GAObj.quantity = 1;

                    GAProductsArr.push(GAObj);
                }

                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                    'event': 'ee-addToCart-부가서비스',
                    'ecommerce': {
                        'currencyCode': currencyCode,
                        'add': {
                            'products': GAProductsArr
                        }
                    }
                });

                $('#GAProducts').val(JSON.stringify(GAProductsArr));
            }

            $('#productTypeCode').val(productTypeCode);

            if (countFlag === 'J') {
                journeysNum--;
            } else {
                segmentsNum--;
            }

            if (inflType === 'E') {
                $('#originData').val(JSON.stringify(originData));
                $('#selectedJourneys').val(JSON.stringify(selectedJourneys));
                $('#exchangePnrData').val(JSON.stringify(exchangePnrData));

                if (seatReqArr[0].seats.length !== 0) {
                    addSeat();
                    return;
                }
            }

            $('#frmNext').attr({
                'method': 'post',
                'onsubmit': 'return true',
                'action': url
            }).submit();
        }


        const btnNext_Click = function () {
            if (journeys[journeysNum].segments[segmentsNum].fares[0].productClass === 'N') {
                if (!bizLiteBundleSeatCheck('N')) {
                    return;
                }
            }
            const bundleCode = journeys[journeysNum].segments[segmentsNum].passengerSegment[passengerObjKeyArr[0]].bundleCode;
            if (typeof (bundleCode) !== 'undefined' && bundleCode !== 'XXDL') {
                if (!bizLiteBundleSeatCheck('B')) {
                    return;
                }
            }
            saveSeatInfo();
            const segments = journeys[journeysNum].segments;
            const segmentsLen = segments.length;

            let countFlag = 'J';
            if (segmentsNum !== segmentsLen - 1 && segments[0].identifier.identifier !== segments[1].identifier.identifier) {
                segmentsNum++;
                countFlag = 'S';
            } else {
                segmentsNum = 0;
                journeysNum++;
            }

            if (typeof (journeys[journeysNum]) === 'undefined' || typeof (journeys[journeysNum].segments[segmentsNum]) === 'undefined') {
                makeSeatRequset(countFlag);
            } else {
                makeNextSegInfo();
            }
        }


        const prevSelectedSeatMark = function () {
            prevFlag = false;

            const seats = seatReqArr[0].seats.filter(function (element) {
                return element.journeysNum === journeysNum && element.segmentsNum === segmentsNum;
            });
            const seatsLength = seats.length;

            if (seatsLength !== 0 && $('#divSameSeat').find('.select-seat__tag').length !== seatsLength) {
                selectedSameSeat = false;
            }

            for (let i = 0; i < seatsLength; i++) {
                prevFlag = true;
                $('.passenger').each(function (idx) {
                    const passengerKey = $(this).children('span[name=passengerKey]').text();
                    if (passengerKey === seats[i].passengerKey) {
                        $(this).children('span[name=unitKey]').text(seats[i].unitKey);
                        $(this).children('span[name=seat]').text(seats[i].designator);
                        $(this).children('span[name=variant]').text(seats[i].variant);

                        const seatButton = $('button[designator = ' + seats[i].designator + ']');

                        if (seats[i].seatClass === 'completed') {
                            seatButton.addClass('completed').attr('readonly', '').children().text(seats[i].designator);
                            $(this).parents().addClass('is-checked').attr('disabled', '');
                        } else {
                            seatButton.addClass('selected').attr('readonly', '').children().text($(this).children('.num').text());
                        }

                        if (idx === 0) {
                            seatButton.addClass('on').removeAttr('readonly');
                        }
                        if ($(this).find('span[name=petc]').text() === 'true') {
                            seatButton.attr('petc', '');
                        }
                        if ($(this).find('span[name=infant]').text() === 'true') {
                            seatButton.attr('infant', '');
                        }

                        if (selectedSameSeat) {
                            $('#divSameSeat').find('.select-seat__tag').each(function () {
                                if ($(this).find('.passengerKey').text() === passengerKey) {
                                    if ($(this).find('i').text() !== seats[i].designator) {
                                        selectedSameSeat = false;
                                        return false;
                                    }
                                }
                            });
                        }

                        return false;
                    }
                });
            }
        }


        const btnPrev_Click = function () {
            nextCount--;
            if (nextCount === 0) {
                $('[id^=btnPrev]').hide();
            }
            saveSeatInfo();

            if (segmentsNum > 0) {
                segmentsNum--;
            } else {
                journeysNum--;
                const segments = journeys[journeysNum].segments;
                const segmentsLen = segments.length;
                if (segmentsLen > 1 && segments[0].identifier.identifier !== segments[1].identifier.identifier) {
                    segmentsNum = 1;
                }
            }

            let journeysName = '';
            if (journeysNum === 0) {
                journeysName = tripType === 'MT' ? '구간1' : '가는 편';
            } else {
                journeysName = tripType === 'MT' ? '구간2' : '오는 편';
            }
            if (journeys[journeysNum].segments.length > 1 && journeys[journeysNum].segments[0].identifier.identifier !== journeys[journeysNum].segments[1].identifier.identifier) {
                conSectionDisplay(journeysName);
            }

            $('.tab__anchor').removeAttr('disabled').removeClass('is-checked');
            $('.passenger').eq(0).trigger('click');
            $('span[name=petc]').text('');
            $('span[name=unitKey]').text('');
            $('span[name=seat]').text('');
            $('span[name=variant]').text('');

            seatMapData = seatMapDataArr[nextCount];
            makePriceTag(seatMapData);
            makeSeatMap(seatMapData);
            seatMap();
            tooltip.init('[data-element="tooltip"]');
            petcFlag = false;
            petcAlert(true);
            setSectionName();
            prevSelectedSeatMark();

            if (inflType === 'M' || inflType === 'E') {
                if (inflType === 'E') {
                    if (bundleMaintain === 'Y' && selectedJourneys[journeysNum].bundleFlag) {
                        occupiedSeatMark();
                        purchasePossiblePax();
                    }
                } else {
                    occupiedSeatMark();
                    purchasePossiblePax();
                }
            }

            window.scrollTo(0, 0);
        }


        const layerClose = function () {
            if ($('body').hasClass('isMobile')) {
                $('#btnSameClose').trigger('click');
            } else {
                $.modal.close();
            }
        }


        const btnSameSeat_Click = function () {
            selectedSameSeat = true;
            let currency = '';
            const divSeatFee = $('#divSeatFee');
            $('#divSameSeat').find('.select-seat__tag').each(function () {
                const seatButton = $('button[designator=' + $(this).find('i').text() + ']');
                const paxNo = $(this).find('.num').text();
                const priceClass = seatButton.attr('class').trim().replace(/\s+/g, '.');

                seatButton.addClass('selected').attr('readonly', '').children().text(paxNo);
                if ($(this).find('.petc').text() === 'true') {
                    seatButton.attr('petc', '');
                }
                if ($(this).find('.infant').text() === 'true') {
                    seatButton.attr('infant', '');
                }

                $('.passenger').each(function () {
                    if ($(this).find('.num').text() === paxNo) {
                        makePriceTag(seatMapData, $(this).parent())

                        const seatFee = $('#priceTagList').find('.' + priceClass).next().text();
                        if (seatFee !== '0') {
                            const costSelector = (payType === 'P' && inflType === 'B') ? $('#spanPoint') : $('#spanCost');
                            const bottomSeatFee = sUtil.getNumber($('#divSeatFee').children('.price_txt').text().replace(/[,]/g, '')) + sUtil.getNumber(seatFee.replace(/[,]/g, ''));
                            sUtil.FmtcurrencyCvt(I18N.language, currencyCode, sUtil.getNumber(costSelector.children('.price_txt').text().replace(/[,]/g, '')) + sUtil.getNumber(seatFee.replace(/[,]/g, '')), costSelector);
                            sUtil.FmtcurrencyCvt(I18N.language, currencyCode, bottomSeatFee, divSeatFee);
                        }

                        $(this).find('span[name=unitKey]').text(seatButton.attr('unitKey'));
                        $(this).find('span[name=seat]').text(seatButton.attr('designator'));

                        let variantText = '일반석';
                        if (seatButton.attr('exitRow') === 'true') {
                            variantText = '비상구석';
                        } else if (seatButton.hasClass('seat-challenger')) {
                            variantText = '비즈니스라이트석 ';
                        } else if (seatButton.attr('bulkHead') === 'true') {
                            variantText = '앞좌석';
                        } else if (seatButton.hasClass('seat-purple')) {
                            variantText = '세미프론트석';
                        }
                        $(this).find('span[name=variant]').text(variantText);

                        return false;
                    }
                });
            });

            $('.passenger').each(function () {
                if (!$(this).prop('disabled')) {
                    makePriceTag(seatMapData, $(this).parent());
                    if ($(this).find('.seat').text() !== '') {
                        $('button[designator=' + $(this).find('.seat').text() + ']').removeAttr('readonly').addClass('on');
                    }
                    return false;
                }
            });
            if (divSeatFee.children('.price_txt').text() !== '0') {
                $('#divSeat').show();
                $('#extraServiceFee').show();
            }
            layerClose();
        }


        const exitSeatInfo = function () {
            if ($('#exitSeatInfoLayer').children().length === 0) {
                $.ajax({
                    url: 'ExitSeatInfo.do',
                    type: 'post',
                    dataType: 'html',
                    async: false,
                    data: {},
                    success: function (data) {
                        $('#exitSeatInfoLayer').html(data);
                    }
                });
            }
            openModal('#exitSeatInfoLayer', 'full');
        }


        const purchasePossiblePax = function () {
            $('.tab__anchor').each(function (idx) {
                if ($(this).prop('disabled')) {
                    $(this).removeClass('is-active');
                } else {
                    $(this).trigger('click');
                    if (idx !== 0) {
                        makePriceTag(seatMapData, $(this));
                        makeSeatMap(seatMapData, $(this).find('span[name=passengerKey]').text(), false);
                        seatMap();
                        selectedSeatMark();
                    }
                    return false;
                }
            });
        }


        const openModal = function (mTarget, mType, mTargetOpen) {
            if ($.modal.isActive()) {
                $.modal.close();
            }
            $('#btnModalOpen').data('target', mTarget);
            $('#btnModalOpen').data('modal-type', mType);
            $('#btnModalOpen').trigger('click');
        };


        const callPartnerCardDiscount = function (_this) {
            if ($('#partnerCardDiscountLayer').children().length === 0) {
                $.ajax({
                    async: false,
                    type: 'post',
                    url: '../layer/viewPartnerDisCount.json',
                    data: {
                        temp: 'temp'
                    },
                    success: function (data) {
                        $('#partnerCardDiscountLayer').html(data);
                        openModal('#partnerCardDiscountLayer', 'full');
                    }
                });
            } else {
                openModal('#partnerCardDiscountLayer', 'full');
            }
        }


        const toastShowHide = function () {
            if (!$('#btnSummary').hasClass('is-active')) {
                $('#divSkip').show();
            } else {
                $('#divSkip').hide();
            }
        }


        const findBookingPnr = function () {
            const bookingReq = {
                cultureCode: cultureCode,
                exchange: true
            };

            $.ajax({
                type: 'post',
                url: '../booking/findBookingPnr.json',
                beforeSend: function (request) {
                    request.setRequestHeader('PssToken', pnrData.token);
                    if (inflType === 'M') {
                        request.setRequestHeader('AgentId', ssrAgentId);
                    } else {
                        request.setRequestHeader('AgentId', pnrData.sales.created.organizationCode === '7C' ? '' : pnrData.sales.created.agentCode);
                    }
                },
                data: {
                    bookingReq: JSON.stringify(bookingReq),
                    bookType: bookType
                },
                success: function (data) {
                    if (sUtil.isEmpty(data.data)) {
                        const datas = { title: data.code, message: data.message };
                        $.JJAlert(datas);
                    } else {
                        if (data.data.code === '0000') {
                            $('#pnrData').val(JSON.stringify(data.data.data));
                            $('#frmNext').attr({
                                'method': 'post',
                                'onsubmit': 'return true',
                                'action': '../mypage/viewExchangeConfirm.do'
                            }).submit();
                        } else {
                            const datas = { title: data.data.code, message: data.data.message };
                            $.JJAlert(datas);
                        }
                    }
                }
            });
        }


        const guideInfo = function () {
            $.ajax({
                url: '/api/common/biz/guideInfo.json',
                type: 'POST',
                async: false,
                data: {
                    langCd: I18N.language,
                    categoryNo: '0000000090'
                },
                success: function (data) {
                    let $wrap = $('.service-information');
                    if (data.data === undefined) {
                        $wraps.remove();
                        return;
                    }
                    $wrap.toggle();
                    $wrap.find('[data-element=toggle__panel]').html(data.data.editorCont);
                    $('#btnServieInfo').trigger('click');
                }
            });
        }


        const alertModalOpen = function (popID) {
            $('div[name=divAlert]').each(function (idx) {
                if (idx !== 0) {
                    $(this).remove();
                }
            });
            fullPopOpen(popID);
        }


        const fnCheckHistoryBack = function () {
            if (inflType === 'B' || inflType === 'M') {

                $.ajax({
                    async: false,
                    type: 'post',
                    url: '../payment/checkHistoryBack.json',
                    data: {
                        sessionKey: 'SS_ACCESS_PAYMENT_' + PssToken
                    },
                    success: function (data) {
                        if (data.data.hasSession) {
                            seatFlag = false;
                            if (inflType === 'B') {
                                $.JJAlert('뒤로가기로 진입해 첫번째 항공권 선택 단계로 이동됩니다.', function () { < !--뒤로가기로 진입해 첫번째 항공권 선택 단계로 이동됩니다. -- >
                                    Progress.show();

                                    const rqCancelPnr = {
                                        recordLocator: ssTimeoutRecordLocator,
                                        bookingKey: ssTimeoutBookingKey,
                                    };
                                    $.ajax({
                                        type: 'post',
                                        url: '../payment/cancelPnr.json',
                                        beforeSend: function (request) {
                                            request.setRequestHeader('PssToken', ssTimeoutPssToken);
                                        },
                                        data: {
                                            rqCancelPnr: JSON.stringify(rqCancelPnr)
                                        },
                                        success: function (data) {
                                        }
                                    });

                                    if (APP_DATA.deviceType !== 'APP') {
                                        const formObj = $('#frmNext');

                                        formObj.attr('action', '../booking/Availability.do');
                                        formObj.submit();
                                    } else {
                                        if (APP_DATA.deviceOs === 'aos') {
                                            window.JejuAir.callBooking();
                                        } else if (APP_DATA.deviceOs === 'ios') {
                                            window.webkit.messageHandlers.callBooking.postMessage({});
                                        }
                                    }
                                });
                            } else {
                                $.JJAlert('뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다.', function () { < !--뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다. -- >
                                    Progress.show();
                                    let resvDetailReq = {
                                        recordLocator: exchangePnrData.recordLocator,
                                        cultureCode: cultureCode,
                                        depDate: exchangePnrData.journeys[0].segments[0].designator.departure.substring(0, 10),
                                        orderSearchType: 'P'
                                    };
                                    $('#resvDetailReq').val(JSON.stringify(resvDetailReq));

                                    const formObj = $('#frmNext');

                                    formObj.attr('action', '../mypage/viewReservationDetail.do');
                                    formObj.submit();
                                });
                            }
                        }
                    }
                });
            } else {

                $.ajax({
                    async: false,
                    type: 'post',
                    url: '../payment/checkHistoryBack.json',
                    data: {
                        sessionKey: 'SS_ACCESS_BAGGAGE_' + PssToken,
                        multiSessionKey: 'SS_ACCESS_CONFIRM_' + PssToken
                    },
                    success: function (data) {
                        if (data.data.hasSession) {
                            seatFlag = false;
                            if (originData.untkYn !== 'Y') {
                                $.JJAlert('뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다.', function () { < !--뒤로가기로 진입해 예약 상세 조회 단계로 이동됩니다. -- >
                                    Progress.show();
                                    let resvDetailReq = {
                                        recordLocator: originData.recordLocator,
                                        cultureCode: cultureCode,
                                        depDate: originData.journeys[0].segments[0].designator.departure.substring(0, 10),
                                        orderSearchType: 'P'
                                    };
                                    $('#resvDetailReq').val(JSON.stringify(resvDetailReq));

                                    const formObj = $('#frmNext');

                                    formObj.attr('action', '../mypage/viewReservationDetail.do');
                                    formObj.submit();
                                });
                            } else {
                                let tmpUrl = '';
                                if (JSON.parse(USER_INFO.get()).ffpNo !== undefined) {
                                    tmpUrl = '../mypage/viewReservationList.do';
                                } else {
                                    tmpUrl = '../mypage/viewOnOffReservationList.do';
                                }

                                $.JJAlert('뒤로가기로 진입해 예약 조회 단계로 이동됩니다.', function () { < !--뒤로가기로 진입해 예약 조회 단계로 이동됩니다. -- >
                                    Progress.show();
                                    const formObj = $('#frmNext');

                                    formObj.attr('action', tmpUrl);
                                    formObj.submit();
                                });
                            }
                        }
                    }
                });
            }
        }


        const fnCheckTime = function () {
            if (seatFlag && '' === '24') {
                seatFlag = false;
                $('#btnAlert').on('click', btnSkip_Click);
                $('#alertText').html('출발이 임박해서 구매할 수 있는 부가서비스가 없어요.<br/>바로  결제  화면으로 넘어갑니다.');
                alertModalOpen('divAlertModalLayer');
            }
        }


        $(window).bind('pageshow', function (e) {
            if (e.originalEvent && e.originalEvent.persisted) {
                fnCheckHistoryBack();
                fnCheckTime();
            }
        });

        $(document).ready(function () {
            if (inflType === 'M') {
                $(document).trigger('changeLayout', 'sub');
            }

            fnCheckHistoryBack();

            $(document).ajaxStart(function () {
                Progress.show();
            });
            $(document).ajaxStop(function () {
                Progress.hide();
            });

            fnCheckTime();
            guideInfo();
            if (seatFlag) {
                getSeatMap(segmentKey, currencyCode, payType, true);
                bizLiteBundleCheck();
                seatSelectReqInit();
                $('#btnSummary').on('click', toastShowHide);
                $('[id^=btnNext]').on('click', btnNext_Click);
                $('[id^=btnPrev]').on('click', btnPrev_Click);
                if (inflType === 'B') {
                    setBottomSheet();
                }
            }

            if (inflType === 'M') {
                sUtil.FmtcurrencyCvt(I18N.language, currencyCode, 0, $('#spanCost'))
            }

            // 예약진행시에만 표출
            if (inflType === 'B') {
                fullPopOpen("modalSeatCheck");
            }
        });

    </script>

    <div id="ifmWrap"
        style="height:100%; display:none; overflow:auto; text-align:center; -webkit-overflow-scrolling:touch;">
        <iframe src="" width="100%" height="100%" name="popupChkApp"></iframe>
    </div>

    <script type="text/javascript" src="/LY0Q/9meI/oJEhh/BTApQ/LYupmw0VVa/RVtxUzcaWgE/GD0hb/GgjOwEB"></script>
</body>

</html>