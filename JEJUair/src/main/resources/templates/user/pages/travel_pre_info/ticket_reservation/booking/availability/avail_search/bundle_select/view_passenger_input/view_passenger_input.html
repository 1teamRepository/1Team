<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1, user-scalable=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <title>제주항공</title>
    <link rel="icon" type="image/png" href="https://static.jejuair.net/hpgg/resources/images/icon/favicon.ico" />
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/global.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/component.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/page.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/responsive.css">
    <link rel="stylesheet" href="https://static.jejuair.net/hpgg/resources/css/lang.css">




    <!-- 다국어 관련 스크립트 변수 -->
    <script type="text/javascript">
        var I18N = {
            language: "ko",
            country: "KR",
            countryAndLanguage: [{ "languages": [{ "cntryCd": "KR", "langNm": "한국어", "cntryNm": "대한민국", "langCd": "ko" }], "cntryCd": "KR", "cntryNm": "대한민국" }, { "languages": [{ "cntryCd": "JP", "langNm": "日本語", "cntryNm": "日本", "langCd": "ja" }], "cntryCd": "JP", "cntryNm": "日本" }, { "languages": [{ "cntryCd": "CN", "langNm": "中文(内地)", "cntryNm": "中国", "langCd": "zh-CN" }], "cntryCd": "CN", "cntryNm": "中国" }, { "languages": [{ "cntryCd": "TW", "langNm": "中文(繁體)", "cntryNm": "台灣", "langCd": "zh-TW" }], "cntryCd": "TW", "cntryNm": "台灣" }, { "languages": [{ "cntryCd": "HK", "langNm": "中文(繁體)", "cntryNm": "香港", "langCd": "zh-HK" }], "cntryCd": "HK", "cntryNm": "香港" }, { "languages": [{ "cntryCd": "MO", "langNm": "中文(繁體)", "cntryNm": "澳門", "langCd": "zh-HK" }], "cntryCd": "MO", "cntryNm": "澳門" }, { "languages": [{ "cntryCd": "US", "langNm": "ENGLISH", "cntryNm": "US", "langCd": "en" }], "cntryCd": "US", "cntryNm": "US" }, { "languages": [{ "cntryCd": "TH", "langNm": "ENGLISH", "cntryNm": "THAILAND", "langCd": "en" }], "cntryCd": "TH", "cntryNm": "THAILAND" }, { "languages": [{ "cntryCd": "VN", "langNm": "ENGLISH", "cntryNm": "VIETNAM", "langCd": "en" }], "cntryCd": "VN", "cntryNm": "VIETNAM" }, { "languages": [{ "cntryCd": "PH", "langNm": "ENGLISH", "cntryNm": "PHILLIPINES", "langCd": "en" }], "cntryCd": "PH", "cntryNm": "PHILLIPINES" }, { "languages": [{ "cntryCd": "MY", "langNm": "ENGLISH", "cntryNm": "MALAYSIA", "langCd": "en" }], "cntryCd": "MY", "cntryNm": "MALAYSIA" }, { "languages": [{ "cntryCd": "LA", "langNm": "ENGLISH", "cntryNm": "LAOS", "langCd": "en" }], "cntryCd": "LA", "cntryNm": "LAOS" }, { "languages": [{ "cntryCd": "RU", "langNm": "ENGLISH", "cntryNm": "RUSSIA", "langCd": "en" }], "cntryCd": "RU", "cntryNm": "RUSSIA" }, { "languages": [{ "cntryCd": "SG", "langNm": "ENGLISH", "cntryNm": "SINGAPORE", "langCd": "en" }], "cntryCd": "SG", "cntryNm": "SINGAPORE" }, { "languages": [{ "cntryCd": "MN", "langNm": "ENGLISH", "cntryNm": "MONGOLIA", "langCd": "en" }], "cntryCd": "MN", "cntryNm": "MONGOLIA" }]
        }
        var APP_DATA = {
            loginSuccessFirstChecker: '', // 값의 유무로만 판단.
            // deviceOs : "",
            // deviceType : ""
            deviceOs: "none",
            deviceType: "PC",
            shortUrl: ""
        }
        var USER_INFO = {
            get: function () {
                var data = JSON.stringify({ "ffpNo": "060007812", "customerNo": "060007812", "userId": "dmsql0486", "email": "dmsql0486@naver.com", "birthDate": "19950214", "nationalityCode": "KR", "engFirstName": "EUNBI", "engLastName": "KIM", "korFirstName": "은비", "korLastName": "김", "gender": "F", "enrollDate": "20180725", "membergrade": "S", "authorities": [{}, {}], "name": "김은비", "mobileNo": "82-010-9619-0014", "availPoint": "0", "snsAccountList": [], "resultCode": "0000", "snsloginFlag": "N", "appToken": "131bb5d7b3881315e3a65c7ec950e5edb6c932bce293080455cfdf6ac12674bds9qm5G359t8Cug8yS40e3b18zg1blyfzehA7u0aggk3Vas34hxmS8Z79hIN379hozCg1at9n1yqVh3S7Oqt94nFP4y4w44vog2ilepx8bDv8t77fe8UV2u55b69ty0Ti36u00dk89sg8tNVJ43029638f7w4j7e7Osw279cp344jx8vwa65K955k4i9mKm6d" });
                return data || "{}";
            }
        }
        var PROP = {
            assetsUrl: "https://static.jejuair.net/hpgg/resources",
            cmsUrl: "https://static.jejuair.net/cms/images",
        }
        var USER_DEVICE = {
            getName: function () {
                return "PC";
            },
            isApp: function () {
                return false;
            },
            isMobile: function () {
                return false;
            },
            isWeb: function () {
                return;
            }
        }
        var APPCALL = {
            setMenu: function () {

                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goMenu.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMenu();
                } else {
                    console.log("PC에서 호출작동됨 :: 메뉴를 개방하라");
                }
            },
            back: function () {
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goBack.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goBack();
                } else {
                    window.history.back();
                }
            },
            close: function () {
                if (APP_DATA.deviceOs == "ios") {
                    if (window.webkit.messageHandlers.goClose) {
                        window.webkit.messageHandlers.goClose.postMessage({});
                    }
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goClose();
                } else {
                    console.log("PC는 닫기가 존재하지 않습니다.");
                }
            },
            afterLogin: function (userInfo) { // 로그인 시, APP은 1번 호출한다.
                if (!userInfo) {
                    userInfo = USER_INFO.get();
                }
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.userInfo.postMessage(userInfo);
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.userInfo(userInfo);
                } else {
                    console.log("호출완료");
                }
            },
            callPassport: function () { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goOCRPassport.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goOCRPassport();
                } else {
                    console.log("호출완료");
                }
            },
            callPastBoardingPass: function () { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goPastBoardingPass.postMessage({})
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goPastBoardingPass()
                } else {
                    console.log("호출완료");
                }
            },
            callBoardingPass: function (jsonString) { // 로그인 시, APP은 1번 호출한다.
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.mobileTicket.postMessage(jsonString)
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.mobileTicket(jsonString)
                } else {
                    console.log("호출완료");
                }
            },
            goMain: function () { //메인화면 이동
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.callMain.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMain();
                } else {
                    location.href = "/" + I18N.language + "/main/base/index.do";
                }
            },
            goLogout: function () {// 로그아웃시 네티이브 호출
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goLogout.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goLogout();
                } else {
                    console.log('logout');
                }
            },
            loginState: function () { //로그인 상태 체크
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.onLoginState.postMessage({})
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.onLoginState();
                }
            },

            goMyCoupon: function () { //쿠폰 이동
                if (APP_DATA.deviceOs == "ios") {
                    window.webkit.messageHandlers.goMyCoupon.postMessage({});
                } else if (APP_DATA.deviceOs == "aos") {
                    window.JejuAir.goMyCoupon();
                } else {
                    URL_LINK.getI18Url('/member/mypage/myCoupon.do');
                }
            },

            goMarket: function () {
                if (APP_DATA.deviceOs !== "ios" && APP_DATA.deviceOs !== "aos") {
                    var infos = getMobileDevice(navigator.userAgent);
                    if (infos.isiOS) {
                        window.open("https://itunes.apple.com/ko/app/jeju-air/id373053637?l=ko&mt=8", "_blank");
                    } else if (infos.isAndroid) {
                        window.open("https://play.google.com/store/apps/details?id=com.parksmt.jejuair.android16", "_blank");
                    }
                }
            }
        }
        var URL_LINK = {
            getI18Url: function (path) {
                /*
                if(path.indexOf('/corpService/') == 0 ) {
                    location.href = path;
                    return;
                } else if(path.indexOf('/member/auth/') == 0 ) {
                    location.href = path;
                    return;
                } else
                */
                if (path.indexOf('/bonusProgram/') == 0) {
                    location.href = path;
                    return;
                } else if (path.indexOf('#') == 0) {
                    location.href = path;
                    return;
                } else if (path.indexOf('http') == 0) {
                    window.open(path, "_blank");
                    return;
                } else if (path.indexOf('/myPage/myBoardingList.do') == 0) {
                    alert("준비중입니다.");
                    return;
                }
                if (path.indexOf('viewCheckin.do') !== -1) {
                    URL_LINK.getHwUrl(path);
                } else {
                    location.href = "/" + I18N.language + path;
                }
            },
            getHwUrl: function (path, params) { //homepage <-> webcheckin
                var vHtml = '';
                if (params) {
                    Object.keys(params).map(function (key) {
                        vHtml += '<input type="hidden" name="' + key + '" value="' + params[key] + '">';
                    });
                }
                $("body").append("<form id='hybdComForm'><input type='hidden' name='targetUrl' value='" + "/" + I18N.language + path + "'/>" + vHtml + "</form>");
                $("#hybdComForm").prop("action", "/" + I18N.language + "/common/connect/index.do").prop("method", "POST").prop("target", "_self").submit();
            }
        }

        if (APP_DATA.loginSuccessFirstChecker != "") {
            APPCALL.afterLogin();
        }

        if (location.href.indexOf('flag=logout') !== -1) {
            APPCALL.goLogout();
        }

        //웹 로그인 상태 확인 콜백
        //true : 로그인 상태
        //false : 비로그인 상태 
        function callbackLoginState(result) {
            var isLogin = "true";//web 로그인여부
            if (!isLogin && result) { //web비로그인 native로그인일경우
                APPCALL.goLogout(); //native로그아웃
            }
        }

        if (USER_DEVICE.isApp) {//앱일경우 native로그인 상태체크
            APPCALL.loginState();
        }

        // 웹뷰 이탈 시 좌석 해제 홈페이지에 없어 에러 발생해 추가함
        function callbackFocusOut() { }

        //스크립 오류 발생으로 인해 빈 메소드 추가
        function _AutofillCallbackHandler() { }

        //안드로이드 modal일경우 back버튼 클릭시 뒤로가기가 아닌 modal닫기
        function goBackBtn() {

            var isOpen1 = false;
            var isOpen2 = false;

            if ($('html').hasClass('open-modal')) {
                $('div.jquery-modal').find('a.modal__close').trigger('click');
                for (var i = 0; i < $('div.modal-wrapper').length; i++) {
                    if ($('div.modal-wrapper:eq(' + i + ')').hasClass('on')) {
                        $('div.modal-wrapper:eq(' + i + ')').find('a.modal__close').trigger('click');

                        if ($('html').hasClass('open-modal')) {
                            $('html').removeClass('open-modal');
                        }
                        break;
                    }
                };

                return false;
            }

            if ($('body > div').hasClass('dim')) {
                //bottomSheet
                for (var i = 0; i < $('div.bottom-sheet').length; i++) {
                    if ($('div.bottom-sheet:eq(' + i + ')').css('display') === 'block') {
                        $('div.bottom-sheet:eq(' + i + ')').find('button[data-element="bottomSheet__button-close"]').trigger('click');
                        break;
                    }
                };
                return false;
            }

            if ($('div.flight-layer').length > 0) {
                for (var i = 0; i < $('div.flight-layer').length; i++) {
                    if ($('div.flight-layer:eq(' + i + ')').css('display') === 'block') {
                        $('div.flight-layer:eq(' + i + ')').find('a.layer-close').trigger('click');
                        isOpen1 = true;
                        break;
                    }
                };
            }

            if ($('div.date-layer').length > 0) {
                for (var i = 0; i < $('div.date-layer').length; i++) {
                    if ($('div.date-layer:eq(' + i + ')').css('display') === 'block') {
                        $('div.date-layer:eq(' + i + ')').find('a.layer-close').trigger('click');
                        isOpen2 = true;
                        break;
                    }
                };
            }

            if (!$('html').hasClass('open-modal') && !$('body > div').hasClass('dim') && !isOpen1 && !isOpen2) {
                try {
                    window.JejuAir.callBackBtn('Y');
                } catch (e) { }
            }

        }

    </script>





    <script>
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'event': 'pageview',
            'dimension2': btoa(JSON.parse(USER_INFO.get()).userId),
            'dimension3': 'PC-WEB',
            'dimension4': JSON.parse(USER_INFO.get()).membergrade
        })
    </script>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PD2BQQ4');</script>
    <!-- End Google Tag Manager -->


    <script>
        var langCdtTag = 'ko';	
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49935507-8"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-49935507-8');
	</script> 종료 N006 -->

    <!-- Global site tag (gtag.js) - Google Ads -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-763115837"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-763115837');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49935507-9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-49935507-9');
    </script>


    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"> </script>
    <script type="text/javascript">
        if (!wcs_add) var wcs_add = {};
        wcs_add["wa"] = "s_29f8dbdc0496";
        if (!_nasa) var _nasa = {};
        if (window.wcs) {
            wcs.inflow();
            wcs_do(_nasa);
        }
    </script>
    <script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/adfit/static/kp.js"></script>
    <script type="text/javascript">kakaoPixel('6788472491368532022').pageView();</script>
    <script src='/tuna_.js'></script>
    <script>!function (a) { var e = "https://s.go-mpulse.net/boomerang/", t = "addEventListener"; if ("False" == "True") a.BOOMR_config = a.BOOMR_config || {}, a.BOOMR_config.PageParams = a.BOOMR_config.PageParams || {}, a.BOOMR_config.PageParams.pci = !0, e = "https://s2.go-mpulse.net/boomerang/"; if (window.BOOMR_API_key = "AYF4Y-8J9XB-2BDC5-23EM3-Q7Z28", function () { function n(e) { a.BOOMR_onload = e && e.timeStamp || (new Date).getTime() } if (!a.BOOMR || !a.BOOMR.version && !a.BOOMR.snippetExecuted) { a.BOOMR = a.BOOMR || {}, a.BOOMR.snippetExecuted = !0; var i, _, o, r = document.createElement("iframe"); if (a[t]) a[t]("load", n, !1); else if (a.attachEvent) a.attachEvent("onload", n); r.src = "javascript:void(0)", r.title = "", r.role = "presentation", (r.frameElement || r).style.cssText = "width:0;height:0;border:0;display:none;", o = document.getElementsByTagName("script")[0], o.parentNode.insertBefore(r, o); try { _ = r.contentWindow.document } catch (O) { i = document.domain, r.src = "javascript:var d=document.open();d.domain='" + i + "';void(0);", _ = r.contentWindow.document } _.open()._l = function () { var a = this.createElement("script"); if (i) this.domain = i; a.id = "boomr-if-as", a.src = e + "AYF4Y-8J9XB-2BDC5-23EM3-Q7Z28", BOOMR_lstart = (new Date).getTime(), this.body.appendChild(a) }, _.write("<bo" + 'dy onload="document._l();">'), _.close() } }(), "".length > 0) if (a && "performance" in a && a.performance && "function" == typeof a.performance.setResourceTimingBufferSize) a.performance.setResourceTimingBufferSize(); !function () { if (BOOMR = a.BOOMR || {}, BOOMR.plugins = BOOMR.plugins || {}, !BOOMR.plugins.AK) { var e = "" == "true" ? 1 : 0, t = "", n = "3r2ryoax3cpzeyv4ihka-f-3f8eb4a73-clientnsv4-s.akamaihd.net", i = "false" == "true" ? 2 : 1, _ = { "ak.v": "32", "ak.cp": "881439", "ak.ai": parseInt("562947", 10), "ak.ol": "0", "ak.cr": 6, "ak.ipv": 4, "ak.proto": "h2", "ak.rid": "614dee6a", "ak.r": 44964, "ak.a2": e, "ak.m": "b", "ak.n": "essl", "ak.bpcip": "220.117.28.0", "ak.cport": 53511, "ak.gh": "23.216.159.142", "ak.quicv": "", "ak.tlsv": "tls1.3", "ak.0rtt": "", "ak.csrc": "-", "ak.acc": "", "ak.t": "1656504788", "ak.ak": "hOBiQwZUYzCg5VSAfCLimQ==Pqa5DPpLWeh/GcZryvWJs+93Ncy1+AFmcp29PiX1UGH/ohJt8pVJBFo5EQgBQ8mBy3RNhkXsBCmgh3RUw75vKIlgTB5jHCK3Z7m2kO+eUV8jg2hq0CumLeUViGGUWQNvmpHORj7zguKgsCvVqCEzENixsvWe7WsHotFVmIAqPel6R9BFS+HKtAYVdx/8C/5MVvoBcR3eTCHjZ06GFdUBMTaRdlKIoDxLaOXMU7DpLx4vFim3mWyT9mj4B1Oaz/5iXnNmsQJzJkYKDjETarAjzsv1xKa2k4kz1K2mLa9CHSHjYu4JpkvXQNSlQZd78YGTES0nF1kiZXnpFGfas0anfpQ6dqfubPgysaJo71enJHezbwupvcqJoFvsCzNu4jkjhTOhWXa2NeBYfRL+JrXPMYiCqLnaCphDOv/pz0iPi54=", "ak.pv": "78", "ak.dpoabenc": "", "ak.tf": i }; if ("" !== t) _["ak.ruds"] = t; var o = { i: !1, av: function (e) { var t = "http.initiator"; if (e && (!e[t] || "spa_hard" === e[t])) _["ak.feo"] = void 0 !== a.aFeoApplied ? 1 : 0, BOOMR.addVar(_) }, rv: function () { var a = ["ak.bpcip", "ak.cport", "ak.cr", "ak.csrc", "ak.gh", "ak.ipv", "ak.m", "ak.n", "ak.ol", "ak.proto", "ak.quicv", "ak.tlsv", "ak.0rtt", "ak.r", "ak.acc", "ak.t", "ak.tf"]; BOOMR.removeVar(a) } }; BOOMR.plugins.AK = { akVars: _, akDNSPreFetchDomain: n, init: function () { if (!o.i) { var a = BOOMR.subscribe; a("before_beacon", o.av, null, null), a("onbeacon", o.rv, null, null), o.i = !0 } return this }, is_complete: function () { return !0 } } } }() }(window);</script>
</head>

<body id="bookingLayoutBody">

    <!-- 개선 #1271286440
<div id="skipNav" class="skip-nav">
	<a href="#content" class="skip-nav__item">본문 바로가기</a>
</div>
-->
    <!-- 상단 띠배너 공지사항은 메인페이지만 표시합니다. -->



    <!-- 앱설치알림 -->
    <!-- 남은시간 연장 및 공지바 노출-->
    <div class="top-custom-banner ticketing_top_bar">
        <!--활성화시 .on 추가-->
        <div class="top-custom-banner__inner">
            <dl class="time_bar">
                <dt>이용 가능시간 : </dt>
                <dd><strong></strong></dd>
            </dl>
            <div class="link-wrap--arrow">
                <button type="button" class="link-wrap__text"
                    onclick="javascript:sendExtTripsell();"><span>연장하기</span></button>
            </div>
            <button type="button" class="top-custom-banner__close" aria-label="닫기"></button>
        </div>
    </div>
    <!-- 앱설치알림 끝-->
    <!-- header -->
    <div id="header" class="header">

        <!-- mobile -->
        <header class="header__inner mobile-only">
            <div class="header__button-wrap subType" data-element="gnbToggle">
            </div>
            <!-- 스크롤시 스티키 상단 -->

            <!-- 전체메뉴 -->
            <div class="gnb" id="gnb">
                <div class="gnb__header">
                    <div class="gnb__header-top" data-absolute-sticky>
                        <div class="additional">
                        </div>
                    </div>
                    <div class="gnb__header-bot">
                        <div class="before">
                            <div class="title">
                                로그인 하시고<br>더 풍부한 혜택을 누리세요!
                            </div>
                            <!-- fixed 영역 -->
                            <div class="sticky-wrap">
                                <div class="button-wrap button-flex sticky__inner gnb-sticky1">
                                </div>
                            </div>
                            <!-- //fixed 영역 -->
                            <div class="title">
                                <div class="title__section title__section--additional">제주항공에서 예약하지 않으셨다면?
                                    <div class="additional">
                                        <div class="link-wrap">
                                            <a href="javascript:;" class="link-wrap__underline" data-action="menu"
                                                data-menu-name="bookingSearch"><span>예약조회</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="icon-link">
                            </div>
                        </div>
                        <!-- //로그인 후 -->
                    </div>
                </div>
                <hr class="section-spacer">
                <div class="gnb-wrap">
                    <div class="gnb__footer">
                    </div>
                </div>
            </div>
            <!-- //전체메뉴 -->
        </header>
        <!-- //mobile -->

        <!-- pc용 공통 헤더 -->

        <!--  상단 헤더  -->
        <div class="header__util util pc-only">
            <div class="util__inner">
                <div class="util__benefit">
                    <!-- 기업우대 여행자우대 사이트 한국어만 표출   , 기업우대서비스 오픈이 11월 8일,  오픈 시기  -->
                    <a href="javascript:;" class="util__link company" data-action="menu" data-menu-name="company">기업
                        우대</a>
                    <div class="util__link-wrap" data-element="toggle"
                        data-options='{"mode": "slide", "speed": 0, "clickToClose": true}'>
                        <button type="button" class="util__link arrow__link" data-element="toggle__anchor">여행사
                            우대</button>
                        <div class="util__link-panel" data-element="toggle__panel">
                            <a href="javascript:;" class="item" data-action="menu"
                                data-menu-name="travelAgencyD">국내선</a>
                            <a href="javascript:;" class="item" data-action="menu"
                                data-menu-name="travelAgencyF">국제선</a>
                        </div>
                    </div>
                    <a href="https://cargo.jejuair.net" target="_black" class="util__link2" data-action="menu"
                        data-menu-name="Cargo">Cargo</a>
                </div>


                <div class="util__link-list" data-custom-toggle="wrap">
                    <!--  로그인 전 노출 -->
                    <a href="javascript:;" class="util__link" data-action="menu" data-menu-name="login">로그인</a>
                    <a href="javascript:;" class="util__link" data-action="menu" data-menu-name="join">회원가입</a>
                    <!-- / 로그인 전 노출 끝 -->

                    <!--  로그인 후 노출 -->
                    <!--
                    <span class="util__personal">
                        <a href="javascript:;" onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointSearch.do');"><span class="text">나의 포인트</span> <strong class="point" data-user-info-box="availPoint">1,000P</strong></a>
                    </span>
                    <a href="javascript:;" class="util__link" id="logout" >로그아웃</a>
                    -->
                    <!-- / 로그인 후 노출 끝 -->

                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/main.do')"
                        class="util__link">리프레시 포인트</a>
                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/customerService/csCenter/faqList.do')"
                        class="util__link">고객센터</a>
                    <a href="javascript:;" onclick="URL_LINK.getI18Url('/customerServiceCenter/notice.do')"
                        class="util__link">공지사항</a>


                    <!--  언어 설정  -->
                    <!-- 일단 주석으로 처리할게요 -->
                    <button type="button" class="util__country" data-custom-toggle="button">
                        <span class="text">대한민국</span>
                    </button>
                    <!--
                    <div class="header-country__layer" data-custom-toggle="panel">
                        <div class="country__title">
                            지역 및 언어 설정
                        </div>
                        <div class="country__input">
                            <div class="select-wrap select-wrap--line">
                                <select title="국가 선택" class="select-wrap__select" name="countryChoice" id="countryChoice">
                                    <option value="KR" selected>대한민국</option>
                                    <option value="JP" >日本</option>
                                    <option value="CN" >中国</option>
                                    <option value="TW" >台灣</option>
                                    <option value="HK" >香港</option>
                                    <option value="MO" >澳門</option>
                                    <option value="US" >US</option>
                                    <option value="TH" >THAILAND</option>
                                    <option value="VN" >VIETNAM</option>
                                    <option value="PH" >PHILLIPINES</option>
                                    <option value="MY" >MALAYSIA</option>
                                    <option value="LA" >LAOS</option>
                                    <option value="RU" >RUSSIA</option>
                                    <option value="SG" >SINGAPORE</option>
                                    <option value="MN" >MONGOLIA</option>
                                </select>
                            </div>
                            <div class="select-wrap select-wrap--line">
                                <select class="select-wrap__select" title="언어 선택" name="languageChoice" id="languageChoice">
                                    <option value="ko" selected>한국어</option>
                                </select>
                            </div>
                            <button class="country__button" id="countryAndLanguageChoiceBtn" data-flag="base">확인</button>
                        </div>
                        <button class="button-close" data-custom-toggle="close">
                            <span class="hidden">닫기</span>
                        </button>
                    </div>
					-->
                    <!-- / 언어 설정 끝 -->
                </div>
            </div>
        </div>
        <!-- / 상단 헤더 끝 -->



        <!-- / 하단 헤더  -->
        <header class="header__inner  pc-only">
            <div class="sticky-header" data-sticky>

                <!-- 헤더 보이는 부분 -->
                <div class="header__box">
                    <!-- header__box 추가 -->
                    <h1 class="header__logo">
                        <a href="javascript:;" data-action="menu" data-menu-name="main">
                            <img src="../../../../../..//user/lib/images//JEJUair-Logo.png" alt="jejuairlogo"
                                loading="lazy" />
                        </a>
                    </h1>
                    <h2 class="header__page-name"></h2>

                    <!-- 대표 메뉴 -->
                    <div class="header__link-list">
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/ibe/booking/Availability.do')">항공권 예매</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/member/mypage/main.do')">마이페이지</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/additionalService/service/main.do')">부가서비스 안내</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/ibe/checkin/viewCheckin.do')">모바일 탑승권</a>
                        <a href="javascript:void(0);" class="header__link"
                            onclick="URL_LINK.getI18Url('/event/event.do')">이벤트</a>
                    </div>
                    <!-- / 대표 메뉴 끝 -->

                    <div class="header__search-wrap header-search subType" data-custom-toggle="wrap">
                        <!-- <button type="button" class="header__button-ticket">
						<span class="hidden">티켓보기</span>
						</button> -->
                        <button type="button" class="header__button-search" data-custom-toggle="button">
                            <img loading="lazy"
                                src="https://static.jejuair.net/hpgg/resources/images/icon/icon-header-search.png"
                                alt="검색">
                        </button>
                        <div class="header-search__layer" data-custom-toggle="panel">
                            <div class="header-search__form" data-element="form">
                                <input type="search" class="search__text" placeholder="검색어를 입력해 주세요"
                                    data-element="input">
                                <button type="button" data-element="remove" class="input__remove-button">삭제</button>
                                <div class="search-button">
                                    <button class="button" type="button">검색</button>
                                </div>
                            </div>
                            <!-- <button type="button" class="search__close" data-custom-toggle="button">
								<span class="hidden">검색창 닫기</span>
							</button> -->
                        </div>
                    </div>

                    <!-- 사이트 맵 버튼 -->
                    <div class="header__button-wrap subType" data-element="gnbToggle">
                        <button type="button" class="gnb__button">
                            <img loading="lazy"
                                src="../../../../../..//user/lib/images//icon-hamburger-header.png" alt="전체메뉴 열기"
                                class="open">
                            <!-- 2021.06.08 메인페이지는 스크롤 시, 배경이 주황색으로 변하며 대비를 이루기 위해 흰색을 매치한다. -->
                            <!--2021-04-13 이미지로 변경 // 전체메뉴 버튼-->
                        </button>
                    </div>
                    <!-- / 사이트 맵 버튼 끝 -->


                    <!-- goto-quick-booking : 스티키 클릭용 -->
                    <!-- 스크롤 아래로 내릴시 나옴 -->
                    <div class="goto-quick-booking">
                        <a href="javascript:;">
                            <span>어디로 여행가세요?</span>
                            <div class="goto-btn">
                                <span>항공권 검색</span>
                            </div>
                        </a>
                    </div>
                    <!-- //goto-quick-booking 끝 -->


                </div>
                <!-- / 헤더 보이는 부분 끝 -->

                <!-- 사이트 맵메뉴 -->
                <div class="gnb" id="gnb">
                    <div class="gnb__header">
                        <div class="gnb__header-top" data-absolute-sticky>
                            <a href="javascript:;" class="button-home" title="홈으로 이동" data-action="menu"
                                data-menu-name="main">
                                <img loading="lazy"
                                    src="https://static.jejuair.net/hpgg/resources/images/upload/icon_bottombar_home_on_56x2.png"
                                    alt="홈">
                            </a>
                            <a class="select-wrap select-wrap--inline lang-type" id="btnCountrySelector"
                                data-modal-type="full">대한민국</a>
                            <div class="additional">
                                <!-- D : '웹'일경우 APP다운로드 버튼 -->
                                <button type="button" class="button button--small" onclick="APPCALL.goMarket()"><span
                                        class="button__text button__icon">APP</span></button>
                                <a href="javascript:;" class="button-search" title="통합검색이동">
                                    <img loading="lazy"
                                        src="https://static.jejuair.net/hpgg/resources/images/icon/icon-header-search.png"
                                        alt="통합 검색 이동">
                                </a>
                                <a href="javascript:;" class="gnb-close" aria-label="닫기">
                                    <img loading="lazy"
                                        src="../../../../../..//user/lib/images//icon-header-gnb-close.png"
                                        alt="전체메뉴 닫기" class="close">
                                </a>
                            </div>
                        </div>
                    </div>
                    <hr class="section-spacer">
                    <div class="gnb-wrap">
                        <div class="gnb__box">
                            <div class="gnb__title">회원 혜택 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/memberBenefit.do?param=newMember ')">신규회원
                                    혜택</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/memberBenefit.do?param=promotion')">프로모션
                                    코드</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/main.do')">리프레시 포인트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointBuy.do')">포인트 구매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/memberBenefit/refreshPoint/pointSearch.do')">포인트
                                    조회</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/gifticket.do')">기프티켓</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">여행준비 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/booking/Availability.do')">항공권 예매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/fare/domesticBenefit.do')">국내선 운임</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/fare/internationalBenefit.do')">국제선 운임</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/prepare/flight/viewScheduleInfo.do')">운항 정보</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/booking/viewMilitaryInput.do')">민항공후급증 예약</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">부가서비스 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/main.do')">부가서비스 소개</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedBaggage.do')">사전
                                    수하물</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedSeat.do')">사전
                                    좌석</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/preorderedMeal.do')">사전
                                    기내식</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/insurance.do')">보험 상품</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/bundleGuide.do')">번들 묶음
                                    구매</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/afterPayGuide.do')">나중에
                                    결제</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/carringBagGuide.do')">자전거
                                    캐링백 서비스</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">프리미엄 혜택 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/premium/businesslite/main.do')">비즈니스 라이트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/premium/sportsMembership/main.do')">스포츠 멤버십</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/additionalService/service/allianceService.do')">제휴서비스</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('https://www.jejuairshop.com?jjout=Y')">온라인몰 제이샵</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">마이페이지</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/main.do')">마이페이지 메인</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/mypage/viewOnOffReservationList.do')">예약 조회</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/mypage/viewReservationList.do')">나의 예약 현황</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/myFlightList.do')">나의 탑승 내역</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/viewMyGiftTicketList.do')">나의 기프티켓</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/member/mypage/memberInfoModify.do')">회원정보 수정</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">탑승 수속 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/ibe/checkin/viewCheckin.do')">모바일 탑승권</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/boardingProcessGuide/baggageGuide.do')">수하물</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/fastProcedure/guide.do')">빠른 수속</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/airport/info.do')">공항 정보</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/linkService/help/main.do')">도움이 필요한 고객</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">기내 서비스 안내</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/service/airCafe.do')">에어카페</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('http://jejuair.granddfs.com/?jjout=Y')">기내 면세</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/service/funService.do')">기내 FUN 서비스</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/cabinService/immigration/etcFormGuide.do')">출입국 신고서
                                    작성방법</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">이벤트</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/event/event.do')">진행중인 이벤트</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/event/pastEvent.do')">지난 이벤트</a>
                            </div>
                        </div>

                        <div class="gnb__box">
                            <div class="gnb__title">고객센터</div>
                            <div class="gnb__list">
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerService/csCenter/faqList.do')">고객센터</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerService/cabinLost/cabinLost.do')">기내 유실물
                                    센터</a>
                                <a href="javascript:void(0);" class="gnb__list-item"
                                    onclick="URL_LINK.getI18Url('/customerServiceCenter/notice.do')">공지사항</a>
                            </div>
                        </div>

                        <div class="gnb__footer">
                            <div class="gnb__title">SNS</div>
                            <div class="sns-wrap">
                                <a href="https://www.facebook.com/funjejuair/" target="_blank" class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../..//user/lib/images//icon-header-app-facebook.png"
                                        alt="https://www.facebook.com/funjejuair/">
                                </a>
                                <a href="https://www.youtube.com/user/funjejuair" target="_blank"
                                    class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../..//user/lib/images//icon-header-app-youtube.png"
                                        alt="https://www.youtube.com/user/funjejuair">
                                </a>
                                <a href="https://instagram.com/jejuair_official" target="_blank" class="sns-wrap__item">
                                    <img loading="lazy"
                                        src="../../../../../..//user/lib/images//icon-header-app-instagram.png"
                                        alt="https://instagram.com/jejuair_official">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //사이트 맵 메뉴 끝 -->

            </div>
        </header>
        <!-- //pc용 공통 헤더 끝 -->
    </div>
    <!-- //header 끝 -->


    <div id="body">

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2BQQ4" height="0" width="0"
                style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <div class="wrap wrap--booking NA_1_51 step-ui">




            <div class="content" id="content">
                <main id="main" class="main ">

                    <form id="frmSkip" name="frmSkip" method="post">
                        <input type="hidden" id="pnrData" name="pnrData" value="">
                        <input type="hidden" id="payType" name="payType" value="">
                        <input type="hidden" id="bookType" name="bookType" value="">
                        <input type="hidden" id="tripType" name="tripType" value="">
                        <input type="hidden" id="domIntType" name="domIntType" value="">
                        <input type="hidden" id="saleTypeCd" name="saleTypeCd" value="">
                        <input type="hidden" id="productTypeCode" name="productTypeCode" value="">
                        <input type="hidden" name="rpnr" value="">
                    </form>
                    <form id="frmForAncillary" name="frmForAncillary" method="post">
                        <input type="hidden" name="pnrData" value="">
                        <input type="hidden" name="rpnr" value="">
                        <input type="hidden" name="payType" value="">
                        <input type="hidden" name="bookType" value="">
                        <input type="hidden" name="tripType" value="">
                        <input type="hidden" name="inflType" value="B">
                        <input type="hidden" name="domIntType" value="">
                        <input type="hidden" name="cultureCode" value="">
                    </form>
                    <form id="frmForPayment" name="frmForPayment" method="post">
                        <input type="hidden" name="pnrData" value="">
                        <input type="hidden" name="tlAmount" value="">
                        <input type="hidden" name="tlType" value="">
                        <input type="hidden" name="tlCode" value="">
                        <input type="hidden" name="paymentData" value="">
                        <input type="hidden" name="domIntType" value="">
                        <input type="hidden" name="tripType" value="">
                        <input type="hidden" name="saleTypeCd" value="NOR">
                        <input type="hidden" name="productTypeCode" value="LAT">
                        <input type="hidden" name="bookType" value="">
                    </form>
                    <div class="page-title-wrap">
                        <div id="divSubTitle" class="page-sub-title">여권 정보와 동일하게 <br class="mobile-only">입력해 주세요.</div>
                    </div>

                    <div class="section-wrap">
                        <div id="divPsgr" class="tab tab--scroll tab--icon tab--icon-large tab__scroll"
                            data-element="tab" data-options='{"tabType": "scroll"}'>
                            <div class="sticky-wrap">
                                <div class="sticky__inner" data-sticky>
                                    <div class="tab__inner">
                                        <button class="button tab__scroll-left" data-tab-direction="prev">
                                            <span class="hidden">왼쪽 탭으로 이동</span>
                                        </button>
                                        <button class="button tab__scroll-right" data-tab-direction="next">
                                            <span class="hidden">오른쪽 탭으로 이동</span>
                                        </button>
                                        <div class="tab__scroll-wrap tab__scroll-wrap--full"
                                            data-element="tab__scroll-wrap">
                                            <div id="divTabs" class="tab__buttons" data-element="tab__scroll">
                                                <div id="psgrTab0" class="tab__button" data-element="tab__list">
                                                    <button id="psgrBtn0" class="tab__anchor" type="button"
                                                        data-element="tab__anchor">
                                                        <span class="passenger">
                                                            <span class="type">성인1</span><strong id="tabName0"
                                                                class="name"></strong>
                                                        </span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="psgrContainer0" class="tab__panel" data-element="tab__panel"
                                data-passengerkey="MCFBRFQ-" data-passenger-type="ADT">
                                <div class="booking-check-box h-auto">
                                    <div id="divChkSelf" class="checkbox checkbox--small pb30">
                                        <input type="checkbox" id="chkSelf" class="checkbox__input none-check"
                                            data-toggle="toggle__anchor">
                                        <label for="chkSelf" class="checkbox__label">
                                            <i aria-hidden="true" class="checkbox__ico"></i>
                                            <span>본인이 탑승하지 않을 경우 체크해 주세요.</span></label>
                                    </div>
                                    <div class="passenger-info-box">
                                        <div class="passenger-info">탑승객 정보</div>
                                        <div class="button-wrap right">
                                            <button type="button" class="button button--small container--small"
                                                id="btnFindFriends0" name="btnFindFriends">
                                                <span class="button__text">최근 탑승객</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="sub-section">
                                    <input type="hidden" id="hidMemberGrade0" name="hidMemberGrade">
                                    <input type="hidden" id="hidEnrollDate0" name="hidEnrollDate">
                                    <input type="hidden" id="hidMemberId0" name="hidMemberId">
                                    <input type="hidden" id="hidFriendNo0" name="hidFriendNo">
                                    <input type="hidden" id="hidFfpNo0" name="hidFfpNo">
                                    <div class="input-wrap input--line pc-col pc-col-2">
                                        <div id="divName0" class="input-row pc-row-100">
                                            <div id="txtLastName0_div" class="input-item">
                                                <div class="input-box">
                                                    <label for="txtLastName0" class="input__label">
                                                        성 (영문)<span title="required"
                                                            class="input__label-asterisk">*</span>
                                                    </label>
                                                    <div data-element="form" class="input">
                                                        <input type="text" data-element="input" id="txtLastName0"
                                                            name="txtLastName" class="input__text input_required"
                                                            style="text-transform :uppercase;">
                                                        <button type="button" data-element="remove"
                                                            class="input__remove-button"><span
                                                                class="hidden">삭제</span></button>
                                                    </div>
                                                </div>
                                                <p tabindex="0" class="input__error">성을 입력해 주세요.</p>
                                            </div>
                                            <div id="txtFirstName0_div" class="input-item">
                                                <div class="input-box">
                                                    <label for="txtFirstName0" class="input__label">
                                                        이름 (영문)<span title="required"
                                                            class="input__label-asterisk">*</span>
                                                    </label>
                                                    <div data-element="form" class="input">
                                                        <input type="text" data-element="input" id="txtFirstName0"
                                                            name="txtFirstName" class="input__text input_required"
                                                            style="text-transform :uppercase;">
                                                        <button type="button" data-element="remove"
                                                            class="input__remove-button"><span
                                                                class="hidden">삭제</span></button>
                                                    </div>
                                                </div>
                                                <p tabindex="0" class="input__error">이름을 입력해 주세요.</p>
                                            </div>
                                        </div>
                                        <div class="input-row pc-mgl-0 boarding__gender">
                                            <div class="radio-wrapper">
                                                <p class="radio__text">성별<span title="required"
                                                        class="input__label-asterisk">*</span></p>
                                                <div class="radio-wrap">
                                                    <span class="radio">
                                                        <input type="radio" id="rdoGenderM0" name="rdoGender0" value="1"
                                                            class="radio__input" checked>
                                                        <label for="rdoGenderM0" class="radio__label"> <i
                                                                aria-hidden="true" class="radio__ico"></i>
                                                            <span>남자</span>
                                                        </label>
                                                    </span>
                                                    <span class="radio">
                                                        <input type="radio" id="rdoGenderW0" name="rdoGender0" value="2"
                                                            class="radio__input">
                                                        <label for="rdoGenderW0" class="radio__label"> <i
                                                                aria-hidden="true" class="radio__ico"></i>
                                                            <span>여자</span>
                                                        </label>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="divBirth0" class="input-row input-row--label boarding__column">
                                            <div id="birth0_div" class="boarding__birth">
                                                <div class="input-label label-top">생년월일<span title="required"
                                                        class="input__label-asterisk">*</span></div>
                                                <div class="input-item" data-element="form">
                                                    <div class="input-flex">
                                                        <div class="input-box label-active">
                                                            <div class="input" data-element="form">
                                                                <input type="text"
                                                                    class="input__text input__text--placeholder input_required"
                                                                    id="txtYear0" name="txtYear" maxlength="4"
                                                                    data-element="input" title="연도 입력"
                                                                    placeholder="년"><button type="button"
                                                                    data-element="remove"
                                                                    class="input__remove-button">삭제</button>
                                                            </div>
                                                        </div>
                                                        <div class="input-box">
                                                            <div class="select-wrap select-wrap--line">
                                                                <select class="select-wrap__select input_required"
                                                                    id="selMonth0" name="selMonth" title="월 선택">
                                                                    <option value="">월</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="input-box">
                                                            <div class="select-wrap select-wrap--line">
                                                                <select class="select-wrap__select input_required"
                                                                    id="selDate0" name="selDate" title="일 선택">
                                                                    <option value="">일</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p tabindex="0" class="input__error">생년월일을 정확히 입력해 주세요.</p>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                                <div class="sub-section">
                                    <div class="checkbox checkbox--small">
                                        <input type="checkbox" id="chkSave0" data-element="checkbox"
                                            class="checkbox__input" checked>
                                        <label for="chkSave0" class="checkbox__label"> <i aria-hidden="true"
                                                class="checkbox__ico"></i> <span>탑승객 정보 저장</span>
                                        </label>
                                    </div>
                                    <span data-element="tooltip" role="tooltip" class="tooltip"
                                        data-set="{'width': '600', 'left':'-100', 'arrow' : '100'}">
                                        <button type="button" class="tooltip__button" aria-label="탑승객 정보 저장 툴팁 열기"
                                            data-element="tooltip__anchor"></button>
                                        <span class="tooltip__panel" data-element="tooltip__panel">
                                            <span class="tooltip-arrow" aria-hidden="true"></span>
                                            <span class="tooltip-desc">박스에 체크하시면 다음 예매할 때 따로 입력하지 않아도 정보를 불러올 수
                                                있어요!</span>
                                        </span>
                                    </span>
                                </div>
                                <div id="divFindMember0" class="member-info">
                                    <div class="section-wrap fl">
                                        <div class="section-title">회원이신가요?</div>
                                        <div class="input-wrap input--line pc-col">
                                            <div class="input-row input-row--button">
                                                <div class="input-item">
                                                    <div class="input-box">
                                                        <label for="txtFindMember0" class="input__label">회원번호 또는 ID<span
                                                                class="input__label-asterisk"
                                                                title="required">*</span></label>
                                                        <div data-element="form" class="input">
                                                            <input type="text" data-element="input" id="txtFindMember0"
                                                                name="txtFindMember" class="input__text" maxlength="20">
                                                            <button type="button" data-element="remove"
                                                                class="input__remove-button hide">
                                                                <span class="hidden">삭제</span>
                                                            </button>
                                                        </div>
                                                        <div class="button-wrap">
                                                            <button type="button" class="button button--small"
                                                                id="btnFindMember0" name="btnFindMember">
                                                                <span class="button__text">확인</span>
                                                            </button>
                                                            <button type="button" class="button button--small"
                                                                id="btnReFindMember0" name="btnReFindMember"
                                                                style="display:none">
                                                                <span class="button__text">다시입력</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <p tabindex="0" class="input__error"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="section-wrap fr"></div>
                                </div>
                                <div id="divDiscount0" class="section-wrap">
                                    <div class="section-title">회원 할인 (신규가입, 기업우대)</div>
                                    <div class="input-wrap input--line pc-col pc-col-2 mt0">
                                        <div class="input-row input-row--label ">
                                            <div class="input-box">
                                                <div class="select-wrap select-wrap--line">
                                                    <select id="selMemberDc0" title="가는 편 선택"
                                                        class="select-wrap__select selected">
                                                        <option value="">선택 안함</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="divContact" class="section-wrap">
                        <div class="section-title">대표 연락처 정보</div>
                        <div class="section-sub-txt">기상악화 등에 따른 항공편 지연/결항 시 알려 드립니다. 휴대전화번호와 이메일을 입력해 주세요.</div>

                        <div class="input-wrap input--line pc-col pc-col-2">
                            <div class="input-row input-row--label">
                                <div class="input-label label-top">휴대전화번호<span title="required"
                                        class="input__label-asterisk">*</span></div>
                                <div id="txtContactPhone_div" class="input-item">
                                    <div class="input-flex">
                                        <div class="input-box input-box--tel">
                                            <div class="select-wrap select-wrap--line">
                                                <button class="select-wrap__button active" id="btnCountryCode"
                                                    name="btnCountryCode" type="button">+82</button>
                                                <input type="hidden" id="hidCountryCode" class="input_contact"
                                                    value="82">
                                            </div>
                                        </div>
                                        <div class="input-box">
                                            <div data-element="form" class="input">
                                                <input type="text" data-element="input" id="txtContactPhone"
                                                    class="input__text input_contact input_required"
                                                    name="txtContactPhone">
                                                <button type="button" data-element="remove"
                                                    class="input__remove-button">
                                                    <span class="hidden">삭제</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <p tabindex="0" class="input__error">휴대전화번호 오류입니다. 다시 확인해 주세요.</p>
                                </div>
                            </div>
                            <div class="input-row">
                                <div id="txtContactEmail_div" class="input-item">
                                    <div class="input-box">
                                        <label for="txtContactEmail" class="input__label">
                                            이메일<span title="required" class="input__label-asterisk">*</span>
                                        </label>
                                        <div data-element="form" class="input">
                                            <input type="text" data-element="email" id="txtContactEmail"
                                                class="input__text input_contact input_required" maxlength="266">
                                            <button type="button" data-element="remove" class="input__remove-button">
                                                <span class="hidden">삭제</span>
                                            </button>
                                        </div>
                                    </div>
                                    <p class="input__sub-text">예) kimjeju@jejuair.com</p>
                                    <p tabindex="0" class="input__error">이메일을 입력해 주세요.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="section-wrap">
                        <div class="service-information" data-options='{"mode": "slide"}' data-action="info-toggle"
                            data-toggle-id="0000000087">
                            <div class="service-information__title">
                                <button type="button" class="service-information__anchor is-active"
                                    data-element="toggle__anchor">꼭 확인해 주세요.</button>
                            </div>
                            <div class="service-information__content" data-element="toggle__panel"></div>
                        </div>
                    </div>
                    <div class="booking-sticky booking-sticky--reservation" data-element="toggle"
                        data-options='{"mode": "slide"}'>
                        <div class="reservation-container">
                            <div class="booking-sticky__top ">
                                <div id="divBottomSheetTop" class="toggle-wrap toggle-wrap--button toggle-wrap--height">
                                    <div class="label label--point">
                                        <span>예상 결제금액</span>
                                    </div>
                                    <button type="button" class="summary" data-element="toggle__anchor">
                                        <span class="cost"></span>
                                        <span class="point" style="display: none;">
                                            <span class="cost"></span>
                                        </span>
                                    </button>
                                </div>
                                <button name="btnNext" type="button" class="button button--primary pc-only" disabled>
                                    <span class="button__text"><a href="seat_select/seat_select.html">부가서비스 선택하기</a></span>
                                </button>
                            </div>
                            <div id="divBottomSheet" class="booking-sticky__bottom -limitH"
                                data-element="toggle__panel">
                                <div class="title">
                                    <h3 class="title__section title__section--small">항목별 운임 상세</h3>
                                </div>
                                <h4 class="text__default text--exbold">항공 운송료</h4>
                                <div class="itemize__item">
                                    <div id="divBtFare" class="flex-text">
                                        <div class="flex-text__title">항공운임</div>
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div id="divBtTax" class="flex-text">
                                        <div class="flex-text__title">공항시설 사용료</div>
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div id="divBtFuel" class="flex-text">
                                        <div class="flex-text__title">유류할증료</div>
                                        <div class="flex-text__additional"></div>
                                    </div>
                                    <div id="divBtMemberDiscount" class="flex-text" style="display: none;">
                                        <div class="flex-text__title color-org">신규가입 할인</div>
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                    <div id="divBtPersonalDiscount" class="flex-text" style="display: none;">
                                        <div class="flex-text__title color-org">개인 신분 할인</div>
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                    <div id="divBtPromotion" class="flex-text" style="display: none;">
                                        <div class="flex-text__title color-org">프로모션 할인</div>
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                    <div id="divVcDiscount" class="flex-text" style="display: none;">
                                        <div class="flex-text__title color-org">기프티켓 할인</div>
                                        <div class="flex-text__additional color-org"></div>
                                    </div>
                                </div>
                                <h4 class="text__default text--exbold pc-60 bottomSsr" style="display: none;">부가서비스</h4>
                                <div id="divbtSsr" class="itemize__item bottomSsr" style="display: none;"></div>
                                <ul class="guide-info guide-info--gray">
                                    <li class="guide-info__text">한국 출발 세금(BP)에는 국제 여객항공이용료(인천/김포공항 17,000원, 기타 공항
                                        12,000원), 출국납부금 10,000원, 국제 빈곤퇴치기여금 1,000원이 포함되어 있습니다.</li>
                                    <li class="guide-info__text">공항이용료의 경우 선택하신 여정 종류에 따라 금액이 변동될 수 있습니다.</li>
                                </ul>
                            </div>
                            <div class="button-wrap mobile-only">
                                <button name="btnNext" type="button" class="button button--primary" disabled>
                                    <span class="button__text">부가서비스 선택하기</span>
                                </button>
                            </div>
                        </div>
                        <!-- <div id="divSkip" class="skip-wrap seat_skip">
			<div class="skip-box">
                <p class="skip__text" text="부가서비스 선택이 필요 없으신가요?">부가서비스가 필요 없으신가요? </p>
                <a href="javascript:void(0)" id="btnSkip" class="skip__link" text="결제단계이동">결제단계이동</a>
			</div>
        </div> -->
                    </div>

                    <div id="modalFriendsList" class="modal modal-full modal-scroll modal--fixed-multi"></div>
                    <div id="modalPartnerCardInfo" class="modal modal-full modal-scroll NA_1_31"></div>
                    <div id="modalAgeCalc" class="modal modal-full modal-scroll"></div>
                    <div id="modalPayLater" class="modal modal-full modal-scroll modal--fixed-multi"></div>
                    <div id="modalDiscountInfo" class="modal modal-full modal-scroll">
                        <div class="modal-header">
                            <div class="modal-header__title">국내선 할인조건</div>
                        </div>
                        <div class="modal-content h_70">

                            <div class="first-margin">
                                <!-- 20210513 여백 clss추가, 수정 -->
                                <div class="accordion">
                                    <div data-element="accordion" class="accordion accordion--default accordion--small">
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">소아</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 소아 10% (일반석만 해당)</li>
                                                        <li class="list-guide__item">적용조건 : 만 24개월 이상 ~ 만 13세 미만</li>
                                                        <li class="list-guide__item">증빙서류 : 연령이 확인되는 서류 (주민등록등본, 건강보험증,
                                                            여권 등)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">제주도민</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 제주도민 평수기 25% / 성수기 15%</li>
                                                        <li class="list-guide__item">적용조건 : 신분증의 현재 주소지가 제주도인 제주도민 또는
                                                            명예제주도민</li>
                                                        <li class="list-guide__item">증빙서류 : 현재 주소가 제주도로 명시된 주민등록증/운전면허증,
                                                            명예제주도민증</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">재외제주도민</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 재외 제주도민 15% (주말/성수기 제외)</li>
                                                        <li class="list-guide__item">적용조건 : 제주도에 등록기준지를 두고 있으면서 다른 지역에
                                                            거주하는 사람(배우자/직계비속 포함)</li>
                                                        <li class="list-guide__item">증빙서류 : 재외 제주도민증 또는 가족관계증명서</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">4.3 생존 희생자 및 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 제주 4·3 사건 생존 희생자 본인 50% / 유족
                                                            40%</li>
                                                        <li class="list-guide__item">적용조건 : 제주 4·3 사건의 생존 희생자 본인 및 유족
                                                        </li>
                                                        <li class="list-guide__item">증빙서류 : 제주특별자치도와 제주4·3평화재 등이 발행한 생존
                                                            희생자 및 유족 진료증, 결정 통지서, 희생자증, 유족증</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">출장 목적의 군인</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 군인 10%</li>
                                                        <li class="list-guide__item">적용조건 : 군인(사병 및 장교), 군무원, 국방부 소속 공무원
                                                        </li>
                                                        <li class="list-guide__item">증빙서류<br>1) 출장 증명서<br>2) 신분증 : 군무원증,
                                                            국방부 소속 공무원임을 확인할 수 있는 신분증</li>
                                                        <li class="list-guide__item">증빙서류 1), 2) 모두 필수 소지</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">독립유공자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 독립유공자 40%</li>
                                                        <li class="list-guide__item">적용조건 : 독립유공자 독립유공자의 동반 보호자 1명</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증<br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!--한국-->
                                        <!-- 독립유공자 유족  1 추가 -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">독립유공자 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 독립유공자 유족 30%</li>
                                                        <li class="list-guide__item">적용조건 : 순국선열 유족, 애국지사 유족 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">국가유공상이자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 국가유공상이자 40%</li>
                                                        <li class="list-guide__item">적용조건 : 국가유공상이자, 1~4급 국가유공상이자의 동반
                                                            보호자 1명</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!--한국-->
                                        <!-- (비상이)국가유공자 2 추가 -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">(비상이) 국가유공자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : (비상이)국가유공자 30%</li>
                                                        <li class="list-guide__item">적용조건 : (비상이) 국가유공자 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 국기유공자 유족 3 추가 -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">국가유공자 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 국가유공자 유족 30%</li>
                                                        <li class="list-guide__item">적용조건 : 국가유공자 유족 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 5∙ 18 민주유공자 4 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">5∙ 18 민주유공자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 5∙ 18 민주유공자 30%</li>
                                                        <li class="list-guide__item">적용조건 : 5∙ 18 민주화운동부상자, 5∙ 18
                                                            민주화운동희생자 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 5∙ 18 민주유공자 유족 5 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">5∙ 18 민주유공자 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 5∙ 18 민주유공자 유족 30%</li>
                                                        <li class="list-guide__item">적용조건 : 5∙ 18 민주화운동 사망자/부상자/희생자 유족
                                                            본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 특수임무유공자 6 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">특수임무유공자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 특수임무유공자 30%</li>
                                                        <li class="list-guide__item">적용조건 : 특수임무부상자, 특수임무공로자 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 특수임무유공자 유족 7 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">특수임무유공자 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 특수임무유공자 유족 30%</li>
                                                        <li class="list-guide__item">적용조건 : 특수임무부상자 유족, 특수임부공로자 유족 본인
                                                        </li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 보훈보상 대상자 8 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">보훈보상대상자</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 보훈보상대상자 30%</li>
                                                        <li class="list-guide__item">적용조건 : 재해부상군경, 재해부상공무원, 지원공상군경,
                                                            지원공상공무원</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 보훈보상 대상자 유족 9 추가  -->
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">보훈보상대상자 유족</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 보훈보상대상자 유족 30%</li>
                                                        <li class="list-guide__item">적용조건 : 재해부상(사망) 군경/공무원 유족,
                                                            지원공상(순직)군경/공무원 유족 본인</li>
                                                        <li class="list-guide__item">증빙서류 : 국가보훈처 발행 신분증 <br><span
                                                                class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용 불가</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">장애인</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 장애인 40%</li>
                                                        <li class="list-guide__item">적용조건 : 1~4급 장애인</li>
                                                        <li class="list-guide__item">1~3급 장애인의 동반 보호자 1명</li>
                                                        <li class="list-guide__item">장애의 정도가 심한(중증) 장애인</li>
                                                        <li class="list-guide__item">장애의 정도가 심한(중증) 장애인의 동반 보호자 1명</li>
                                                        <li class="list-guide__item">증빙서류 : 보건복지부장관 명의로 시군구청에서 발행한 장애인
                                                            등록증 및 복지카드</li>
                                                        <li class="list-guide__item">장애정도/장애등급이 표기된 장애인 등록증 및 복지카드 모두
                                                            가능.</li>
                                                        <li class="list-guide__item">휠체어를 이용해 항공기에 탑승하시는 경우 출발 48시간 전까지
                                                            고객센터(1599-1500)로 이용가능 여부를 확인해 주십시오. </li>
                                                        <li class="list-guide__item">장애 등급제 폐지에 따라 신규 복지카드를 소지하고 계신 기존
                                                            장애등급 4급 승객의 경우 별도의 증명서류(구 장애등급 조회 결과 안내문)를 제출하여 주시기 바랍니다.
                                                            <br><span class="lowrank">- 동반 보호자 : 만 13세 미만인 경우 할인 적용
                                                                불가</span></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-element="accordion__item" class="accordion__item">
                                            <a href="#" data-element="accordion__anchor" class="accordion__anchor">
                                                <div class="accordion__text">
                                                    <p class="accordion__text-sentence">군산시민</p>
                                                </div>
                                            </a>
                                            <div data-element="accordion__panel" class="accordion__panel">
                                                <div class="accordion__text">
                                                    <ul class="list-guide list-guide--first">
                                                        <li class="list-guide__item">할인율 : 10%</li>
                                                        <li class="list-guide__item">적용조건 : 신분증 상의 현주소지가 군산시로 되어 있는 군산시민
                                                            <p class="notice-text notice-text--type2">군산-제주 노선에만 할인 적용
                                                            </p>
                                                        </li>
                                                        <li class="list-guide__item">증빙서류 : 현주소가 군산시로 명시된 신분증(주민등록증,
                                                            운전면허증) 및 확인 가능한 서류(주민등록등본)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 유의사항 -->
                            <div class="section-wrap">
                                <div class="notice-box">
                                    <h5 class="notice-box__title">유의사항</h5>
                                </div>
                            </div>
                            <!-- //유의사항 -->

                        </div>
                        <a href="#" rel="modal:close" class="modal__close"><span class="blind">닫기</span></a>
                    </div>
                    <div id="modalAgeInfo" class="modal modal--simple">
                        <div class="modal-content">
                            <h2 class="alert-title">유아/소아 나이 변경 안내</h2>
                            <p class="alert-text">
                                여정 도중 유아의 나이가 소아의 나이로 변경되는 경우, 오는 편은 별도로 예약하시기 바랍니다.<br><br>
                                예) 가는 편이 성인1, 유아1인 경우 오는 편은 성인1, 소아1로 예약<br>
                                예) 가는 편/오는 편 모두 성인1, 유아1인 경우 오는 편은 성인1, 소아1로 예약<br>
                            </p>
                        </div>
                        <div class="modal__button-area button-wrap">
                            <button type="button" class="button button--secondary button--active"
                                onclick="closeCurrentModal(this)">
                                <span class="button__text">확인</span>
                            </button>
                        </div>
                        <a href="javascript:void(0)" onclick="closeCurrentModal(this)" class="modal__close"><span
                                class="blind">닫기</span></a>
                    </div>
                    <div id="modalInfantCheck" class="modal modal--simple">
                        <!-- 컨텐츠 시작 타이틀 추가 -->
                        <div class="modal-content mt50">
                            <h2 class="alert-text infantMsgArea">입력하신 {0} 소아 고객님의 생년월일이 출발일 기준 유아에 적용 됩니다.</h2>
                            <p class="alert-text mt20">
                                좌석 점유 유아 항공권을 구매하기 원하실 경우, 고객센터(1599-1500) 로 문의하시기 바랍니다. </p>
                        </div>
                        <!-- 컨텐츠 끝 -->
                        <div class="modal__button-area button-wrap">
                            <button type="button" id="btnNext" class="button button--secondary button--active"
                                onclick="closeModalInfantAgeInfo(this)">
                                <span class="button__text">확인</span>
                            </button>
                            <!-- button 활성화 시 button--active class 추가 -->
                        </div>
                        <a href="javascript:void(0)" onclick="closeCurrentModal(this)" class="modal__close"><span
                                class="blind">닫기</span></a>
                    </div>
                    <div id="sessionLayerForm" class="modal modal--simple modal-layer NA_1_23"></div>
                    <div style="display: none;"><a href="javascript:void(0)" data-element="modal_anchor"
                            id="sessionLayer" data-target="#sessionLayerForm" data-modal-type="default"></a></div>
                </main>
            </div>
        </div>
    </div>








    <!-- footer -->
    <div id="footer" class="footer pc-only">
        <!-- pc -->
        <footer class="footer__inner">
            <!-- 상단 푸터 -->
            <div class="footer__top">
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="about">제주항공 소개</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="irNotice">투자정보</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="incruit">채용안내</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="carriageTemrs">여객운송약관</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="homepageTerms">홈페이지 이용약관</a>
                </div>
                <div class="footer__top-item footer__top-item--privacy">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="personalTerms">개인정보처리방침</a>
                </div>
                <div class="footer__top-item">
                    <a href="javascript:void(0);" class="footer__top-link" data-action="menu"
                        data-menu-name="sitemap">사이트맵</a>
                </div>

                <!-- family site -->
                <div class="footer__top-item footer__top-item--family">
                    <div class="family-wrap" data-element="toggle"
                        data-options='{"mode": "slide", "speed": 100, "clickToClose": true}'>
                        <button type="button" class="button-family" data-element="toggle__anchor">Family Site</button>
                        <div class="family-list" data-element="toggle__panel">
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyung">㈜애경산업</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAtecltd">㈜에이텍</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyngst">애경S.T</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkis">에이케이아이에스㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAdmission">애드미션</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyNeopharm">네오팜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkp">애경유화㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkc">애경화학㈜</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkchemtech">에이케이켐텍</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyKospa">코스파</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkplaza">AK PLAZA</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAekyunggroup">AK홀딩스</a>
                            <a href="javascript:void(0);" class="family-link" data-action="menu"
                                data-menu-name="familyAkdjbcc">애경개발</a>
                        </div>
                    </div>
                </div>
                <!-- / family site 끝 -->
            </div>
            <!-- / 상단 푸터 끝 -->


            <hr class="footer__spacer">

            <!-- 하단 푸터 -->
            <div class="footer__bottom">
                <a href="#" class="footer__logo" data-action="menu" data-menu-name="main">
                    <img src="../../../../../..//user/lib/images//JAJUair-Logo-gray.png" alt="제주항공로고"
                        loading="lazy" />
                </a>

                <div class="footer__bottom-contents">
                    <div class="footer__bottom-info">
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('/terms/page/transportationServicePlan.do');"
                                class="link">항공교통이용자 서비스 계획</a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://www.avsec365.or.kr/');" class="link">항공위험물안내
                            </a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://static.jejuair.net/hpgg/resources/pdf/Application_for_Damage_Redress.pdf');"
                                class="link">항공교통이용자 피해구제 계획</a>
                        </div>
                        <div class="info-item">
                            <a href="javascript:URL_LINK.getI18Url('https://static.jejuair.net/cms/images/file_upload/20211119133243857.pdf');"
                                class="link">항공안전투자공시</a>
                        </div>
                    </div>


                    <div class="footer__bottom-util">
                        <a href="javascript:void(0);" class="util-app-ios" data-action="menu"
                            data-menu-name="iOSBtn"><img
                                src="../../../../../..//user/lib/images//icon-footer-app-ios.png" alt=""
                                loading="lazy"> IOS</a>
                        <a href="javascript:void(0);" class="util-app-aos" data-action="menu"
                            data-menu-name="AndroidBtn"><img
                                src="../../../../../..//user/lib/images//icon-footer-app-aos.png" alt=""
                                loading="lazy"> Android</a>
                    </div>


                    <p class="footer__bottom-address"><span>사업자등록번호 : 616-81-50527</span><span>대표이사 : 김이배</span><br>
                        제주특별자치도 제주시 신대로 64(연동, 건설공제회관 3층)
                    </p>
                    <p class="footer__bottom-copy">Copyright ⓒ JEJUAIR. All Rights Reserved.</p>
                </div>
            </div>
            <!-- / 하단 푸터 끝 -->
        </footer>
        <!-- //pc 끝 -->
    </div>
    <!-- / footer 끝 -->










    <!-- 공통 스크립트 선언 -->
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/admin/lib/admin/lib.min.js"></script>

    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/admin/lib/moment-with-locales.min.js"></script>

    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/admin/lib/jquery.i18n.js"></script>
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/admin/lib/jquery.i18n.messagestore.js"></script>
    <!-- 메인페이지 스크립트 에러 발생으로 이전 소스로 변경합니다. 
<script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/booking/plugin.js"></script>
<script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/booking/common.js"></script>
-->
    <script>
        $(document).ready(function () {

            $.ajaxSetup({
                beforeSend: function (xhr) {
                    xhr.setRequestHeader('tcode', '0000000327');
                    xhr.setRequestHeader('cname', USER_DEVICE.getName());
                }
            });


            //BOOKING LAYOUT상태서 sub로 바뀔경우  
            $(document).off('changeLayout').on('changeLayout', function (e, type) {
                if (type === 'sub') {
                    $('.bookingType').hide();
                    $('.subType').show();
                } else if (type === 'booking') {
                    $('.subType').hide();
                    $('.bookingType').show();
                }
            });

            //breadcrumbs cursor default
            $('.breadcrumb__item > a').css('cursor', 'default');
        });

        //타이틀 설정
        $('header.mobile-only h2.header__page-name').text($('#main div.page-title').eq(0).text());
    </script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/plugin.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/common.js"></script>

    <!--필요시만 로드-->
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/vendor/lodash.min.js"></script>
    <!--사용되지 않음-->
    <!--<script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/vendor/localforage.min.js"></script>-->
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/vendor/handlebars.min-v4.7.6.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/handlebars.helpers.js"></script>

    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/sUtil.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/dUtil.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/util/utils.js"></script>

    <!--필요시만 로드-->
    <script type="text/javascript"
        src="https://static.jejuair.net/hpgg/resources/js/amcharts/amcharts.core.js"></script>


    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/bizjs/commons/bizCommons.js"></script>
    <script type="text/javascript" src="https://static.jejuair.net/hpgg/resources/js/jj.helpers.js"></script>





    <script src="https://static.jejuair.net/hpgg/resources/js/booking/ssTimeout.js"></script>
    <script src="https://static.jejuair.net/hpgg/resources/js/booking/jquery.countdown.js"></script>
    <script src="https://static.jejuair.net/hpgg/resources/js/booking/country.js"></script>
    <script src="https://pac.jejuair.net/common/js/payment_script.js"></script>
    <script type="text/javascript">

        let loginData = JSON.parse(USER_INFO.get());
        if (sUtil.isEmpty(loginData.customerNo)) loginData.customerNo = sUtil.nvl(loginData.ffpNo, '');
        if (sUtil.isEmpty(loginData.membergrade)) loginData.membergrade = '';
        if (!sUtil.isEmpty(loginData.mobileNo)) {
            let arrPhone = loginData.mobileNo.split("-");
            if (arrPhone.length > 3) {
                loginData.mobileNo = arrPhone[1] + arrPhone[2] + arrPhone[3];
                loginData.countryCode = arrPhone[0];
            }
        }
        if (sUtil.isEmpty(loginData.userId)) {
            if (loginData.snsloginFlag == "Y") {
                loginData.isMember = true;
            } else {
                loginData.isMember = false;
                loginData.loginPassengerType = "ADT";
            }
        } else {
            loginData.isMember = true;
        }

        let loginPsgrNo = 0;
        let langCode = I18N.language;
        let countryCode = I18N.country;
        let useChannel = "";


        let sellRes = JSON.parse('{"code":"0000","message":"SUCCESS","data":{"passengers":{"MCFBRFQ-":{"passengerKey":"MCFBRFQ-","fees":[],"passengerTypeCode":"ADT","bags":[],"info":{"gender":"Male"},"travelDocuments":[],"addresses":[],"weightCategory":"Male","emdCoupons":[],"order":"0!ADT"}},"journeys":[{"flightType":"NonStop","stops":0,"designator":{"destination":"NRT","origin":"ICN","arrival":"2022-07-07T12:55:00","departure":"2022-07-07T10:35:00","originName":"서울(인천)","destinationName":"도쿄(나리타)"},"move":{"maxMoveBackDays":365,"maxMoveOutDays":365},"segments":[{"isStandby":false,"isConfirming":true,"isConfirmingExternal":false,"isBlocked":false,"isHosted":true,"isChangeOfGauge":false,"designator":{"destination":"NRT","origin":"ICN","arrival":"2022-07-07T12:55:00","departure":"2022-07-07T10:35:00","originName":"서울(인천)","destinationName":"도쿄(나리타)"},"isSeatmapViewable":true,"fares":[{"isGoverning":true,"downgradeAvailable":false,"carrierCode":"7C","fareKey":"MH5Nfn43Q35NT1dLSn5LSTAzfn41fjF_TklDTk5SVDAwNTAwMTB_WA--","classOfService":"M","fareApplicationType":"Route","fareClassOfService":"M","fareBasisCode":"MOWKJ","fareSequence":1,"inboundOutBound":"None","fareStatus":"Default","isAllotmentMarketFare":false,"originalClassOfService":"M","ruleNumber":"KI03","productClass":"V","travelClassCode":"Y","passengerFares":[{"serviceCharges":[{"amount":149000,"type":"FarePrice","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"KRW","foreignAmount":149000},{"amount":28000,"code":"BP","detail":"ICN-NRT","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"KRW","foreignAmount":28000,"ticketCode":"BP","feeName":"INTL PSC DEP TAX &amp; GLOBAL DISEASE ERADICATION"},{"amount":49700,"code":"YQ7","detail":"ICN-NRT","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"USD","foreignAmount":37.99,"ticketCode":"YQ","feeName":"FUEL SURCHARGE"}],"passengerType":"ADT"}],"fareLink":5}],"segmentKey":"N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_","identifier":{"identifier":"1106","carrierCode":"7C"},"passengerSegment":{"MCFBRFQ-":{"seats":[],"passengerKey":"MCFBRFQ-","liftStatus":"Default","modifiedDate":"2022-06-29T12:08:12.3064224Z","overBookIndicator":"NormalSell","timeChanged":false,"ssrs":[],"tickets":[],"bags":[],"scores":[],"hasInfant":false,"seatPreferences":{"seat":"None","travelClass":"None","advancedPreferences":[]},"referenceNumber":0}},"channelType":"DigitalApi","cabinOfService":"Y","changeReasonCode":"NoChange","segmentType":"Normal","international":true,"flightReference":"20220707 7C1106 ICNNRT","legs":[{"legKey":"NjM3OTI3ODY5MDAwMDAwMDAwITdDITExMDYhICFJQ04hTlJUITI1Nzc5NQ--","designator":{"destination":"NRT","origin":"ICN","arrival":"2022-07-07T12:55:00","departure":"2022-07-07T10:35:00","originName":"서울(인천)","destinationName":"도쿄(나리타)"},"legInfo":{"departureTimeUtc":"2022-07-07T01:35:00Z","arrivalTimeUtc":"2022-07-07T03:55:00Z","adjustedCapacity":174,"arrivalTerminal":"3","arrivalTimeVariant":540,"backMoveDays":365,"capacity":174,"changeOfDirection":false,"codeShareIndicator":"NonCodeShare","departureTerminal":"1","departureTimeVariant":540,"equipmentType":"738","equipmentTypeSuffix":"C","eTicket":true,"irop":false,"lid":174,"marketingCode":"C12Y162","marketingOverride":false,"outMoveDays":365,"arrivalTime":"2022-07-07T12:55:00","departureTime":"2022-07-07T10:35:00","prbcCode":"INTBIZ","scheduleServiceType":"J","sold":119,"status":"Normal","subjectToGovtApproval":false},"nests":[{"adjustedCapacity":12,"classNest":1,"lid":12,"travelClassCode":"C","nestType":"Serial","legClasses":[{"classNest":1,"classAllotted":0,"classAuthorizedUnits":12,"classOfService":"C","classRank":4,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classAuthorizedUnits":8,"classOfService":"D","classRank":3,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classAuthorizedUnits":8,"classOfService":"I","classRank":2,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"CU","classRank":1,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0}]},{"adjustedCapacity":162,"classNest":2,"lid":162,"travelClassCode":"Y","nestType":"Serial","legClasses":[{"classNest":2,"classAllotted":0,"classAuthorizedUnits":162,"classOfService":"Y","classRank":25,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"B","classRank":24,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"K","classRank":23,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"N","classRank":22,"classSold":1,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":130,"classOfService":"Q","classRank":21,"classSold":23,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":110,"classOfService":"M","classRank":20,"classSold":59,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"T","classRank":19,"classSold":29,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"W","classRank":18,"classSold":6,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"O","classRank":17,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"R","classRank":16,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"X","classRank":15,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"S","classRank":14,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"Z","classRank":13,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"L","classRank":12,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"H","classRank":11,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"E","classRank":10,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"F","classRank":9,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":30,"classOfService":"V","classRank":8,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":10,"classOfService":"G","classRank":7,"classSold":1,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"P","classRank":6,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"J","classRank":5,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"A","classRank":4,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":4,"classOfService":"U","classRank":3,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"UU","classRank":2,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":160,"classOfService":"AA","classRank":1,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0}]}],"ssrs":[{"available":0,"ssrNestCode":"CRDS","lid":0,"sold":0,"unitSold":0},{"available":14,"ssrNestCode":"INFT","lid":15,"sold":1,"unitSold":1},{"available":995,"ssrNestCode":"MEAL","lid":999,"sold":4,"unitSold":4},{"available":6,"ssrNestCode":"PETC","lid":6,"sold":0,"unitSold":0}],"seatmapReference":"N0MhMTEwNiEgITYzNzkyNzg2OTAwMDAwMDAwMCFJQ04hTlJU","flightReference":"20220707 7C1106 ICNNRT"}],"status":"Confirming"}],"journeyKey":"N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_","notForGeneralUser":false},{"flightType":"NonStop","stops":0,"designator":{"destination":"ICN","origin":"NRT","arrival":"2022-07-21T16:35:00","departure":"2022-07-21T13:55:00","originName":"도쿄(나리타)","destinationName":"서울(인천)"},"move":{"maxMoveBackDays":365,"maxMoveOutDays":365},"segments":[{"isStandby":false,"isConfirming":true,"isConfirmingExternal":false,"isBlocked":false,"isHosted":true,"isChangeOfGauge":false,"designator":{"destination":"ICN","origin":"NRT","arrival":"2022-07-21T16:35:00","departure":"2022-07-21T13:55:00","originName":"도쿄(나리타)","destinationName":"서울(인천)"},"isSeatmapViewable":true,"fares":[{"isGoverning":true,"downgradeAvailable":false,"carrierCode":"7C","fareKey":"MH5Xfn43Q35XT1dLSn5LSTAzfn4zfjF_TklDTk5SVDAwMzAwMTB_WA--","classOfService":"W","fareApplicationType":"Route","fareClassOfService":"W","fareBasisCode":"WOWKJ","fareSequence":1,"inboundOutBound":"None","fareStatus":"Default","isAllotmentMarketFare":false,"originalClassOfService":"W","ruleNumber":"KI03","productClass":"V","travelClassCode":"Y","passengerFares":[{"serviceCharges":[{"amount":119000,"type":"FarePrice","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"KRW","foreignAmount":119000},{"amount":5100,"code":"OI","detail":"NRT-ICN","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"JPY","foreignAmount":530,"ticketCode":"OI","feeName":"PASSENGER SECURITY SERVICE CHARGE"},{"amount":10100,"code":"SW","detail":"NRT-ICN","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"JPY","foreignAmount":1050,"ticketCode":"SW","feeName":"PASSENGER SERVICE FACILITIES CHARGE"},{"amount":9700,"code":"TK","detail":"NRT-ICN","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"JPY","foreignAmount":1000,"ticketCode":"TK","feeName":"INTERNATIONAL TOURIST TAX"},{"amount":49700,"code":"YQ7","detail":"NRT-ICN","type":"TravelFee","collectType":"SellerChargeable","currencyCode":"KRW","foreignCurrencyCode":"USD","foreignAmount":37.99,"ticketCode":"YQ","feeName":"FUEL SURCHARGE"}],"passengerType":"ADT"}],"fareLink":3}],"segmentKey":"N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_","identifier":{"identifier":"1105","carrierCode":"7C"},"passengerSegment":{"MCFBRFQ-":{"seats":[],"passengerKey":"MCFBRFQ-","liftStatus":"Default","modifiedDate":"2022-06-29T12:08:12.3064224Z","overBookIndicator":"NormalSell","timeChanged":false,"ssrs":[],"tickets":[],"bags":[],"scores":[],"hasInfant":false,"seatPreferences":{"seat":"None","travelClass":"None","advancedPreferences":[]},"referenceNumber":0}},"channelType":"DigitalApi","cabinOfService":"Y","changeReasonCode":"NoChange","segmentType":"Normal","international":true,"flightReference":"20220721 7C1105 NRTICN","legs":[{"legKey":"NjM3OTQwMDg1MDAwMDAwMDAwITdDITExMDUhICFOUlQhSUNOITI1Nzk0Mg--","designator":{"destination":"ICN","origin":"NRT","arrival":"2022-07-21T16:35:00","departure":"2022-07-21T13:55:00","originName":"도쿄(나리타)","destinationName":"서울(인천)"},"legInfo":{"departureTimeUtc":"2022-07-21T04:55:00Z","arrivalTimeUtc":"2022-07-21T07:35:00Z","adjustedCapacity":174,"arrivalTerminal":"1","arrivalTimeVariant":540,"backMoveDays":365,"capacity":174,"changeOfDirection":false,"codeShareIndicator":"NonCodeShare","departureTerminal":"3","departureTimeVariant":540,"equipmentType":"738","equipmentTypeSuffix":"C","eTicket":true,"irop":false,"lid":174,"marketingCode":"C12Y162","marketingOverride":false,"outMoveDays":365,"arrivalTime":"2022-07-21T16:35:00","departureTime":"2022-07-21T13:55:00","prbcCode":"INTBIZ","scheduleServiceType":"J","sold":109,"status":"Normal","subjectToGovtApproval":false},"nests":[{"adjustedCapacity":12,"classNest":1,"lid":12,"travelClassCode":"C","nestType":"Serial","legClasses":[{"classNest":1,"classAllotted":0,"classAuthorizedUnits":12,"classOfService":"C","classRank":4,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classAuthorizedUnits":10,"classOfService":"D","classRank":3,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classAuthorizedUnits":8,"classOfService":"I","classRank":2,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":1,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"CU","classRank":1,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0}]},{"adjustedCapacity":162,"classNest":2,"lid":162,"travelClassCode":"Y","nestType":"Serial","legClasses":[{"classNest":2,"classAllotted":0,"classAuthorizedUnits":162,"classOfService":"Y","classRank":25,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"B","classRank":24,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"K","classRank":23,"classSold":1,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":140,"classOfService":"N","classRank":22,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":135,"classOfService":"Q","classRank":21,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":125,"classOfService":"M","classRank":20,"classSold":6,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":115,"classOfService":"T","classRank":19,"classSold":43,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":65,"classOfService":"W","classRank":18,"classSold":45,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"O","classRank":17,"classSold":10,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"R","classRank":16,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"X","classRank":15,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"S","classRank":14,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"Z","classRank":13,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"L","classRank":12,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"H","classRank":11,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classAuthorizedUnits":0,"classOfService":"E","classRank":10,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"F","classRank":9,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":30,"classOfService":"V","classRank":8,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":10,"classOfService":"G","classRank":7,"classSold":4,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"P","classRank":6,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"J","classRank":5,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"A","classRank":4,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":4,"classOfService":"U","classRank":3,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":0,"classOfService":"UU","classRank":2,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0},{"classNest":2,"classAllotted":0,"classType":"T","classAuthorizedUnits":160,"classOfService":"AA","classRank":1,"classSold":0,"cnxSold":0,"latestAdvancedReservation":0,"status":"Active","thruSold":0}]}],"ssrs":[{"available":0,"ssrNestCode":"CRDS","lid":0,"sold":0,"unitSold":0},{"available":15,"ssrNestCode":"INFT","lid":15,"sold":0,"unitSold":0},{"available":998,"ssrNestCode":"MEAL","lid":999,"sold":1,"unitSold":1},{"available":6,"ssrNestCode":"PETC","lid":6,"sold":0,"unitSold":0}],"seatmapReference":"N0MhMTEwNSEgITYzNzk0MDA4NTAwMDAwMDAwMCFOUlQhSUNO","flightReference":"20220721 7C1105 NRTICN"}],"status":"Confirming"}],"journeyKey":"N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_","notForGeneralUser":false}],"comments":[],"selfServiceMoveAvailable":false,"addOns":{},"breakdown":{"balanceDue":420300,"pointsBalanceDue":0,"authorizedBalanceDue":420300,"totalAmount":420300,"totalPoints":0,"totalToCollect":420300,"totalPointsToCollect":0,"totalCharged":420300,"passengerTotals":{},"passengers":{"MCFBRFQ-":{"passengerKey":"MCFBRFQ-"}},"journeyTotals":{"totalAmount":268000,"totalPoints":0,"totalTax":152300,"totalDiscount":0},"journeys":{"N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_":{"journeyKey":"N0N_MTEwNX4gfn5OUlR_MDcvMjEvMjAyMiAxMzo1NX5JQ05_MDcvMjEvMjAyMiAxNjozNX5_","totalAmount":119000,"totalPoints":0,"totalTax":74600,"totalDiscount":0},"N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_":{"journeyKey":"N0N_MTEwNn4gfn5JQ05_MDcvMDcvMjAyMiAxMDozNX5OUlR_MDcvMDcvMjAyMiAxMjo1NX5_","totalAmount":149000,"totalPoints":0,"totalTax":77700,"totalDiscount":0}},"addOnTotals":{}},"payments":[],"history":[],"sales":{"created":{"agentCode":"sys_web.kr","domainCode":"WWW","locationCode":"WWW","organizationCode":"7C"},"source":{"agentCode":"sys_web.kr","domainCode":"WWW","locationCode":"WWW","organizationCode":"7C"}},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVbmtub3duIiwianRpIjoiMWRlNTdkZjAtZDE4Ny03Y2E1LTU1NjMtYTQ2NzViYjZjMGM4IiwiaXNzIjoiZG90UkVaIEFQSSJ9.gbj4tXlOdVIs3ULyX4a-H91c4Y0vFt0mmmCDtg8XoqA","locators":{"parentId":0,"recordLocators":[]},"workingBatchYn":"N","typeOfSale":{"residentCountry":"KR","fareTypes":[]},"queues":[],"orders":[],"currencyCode":"KRW","contacts":{},"info":{"status":"Default","paidStatus":"UnderPaid","priceStatus":"Valid","profileStatus":"Default","channelType":"Default","bookedDate":"2022-06-29T21:08:12.334","modifiedAgentId":0,"createdAgentId":0,"changeAllowed":true}},"voucherInfo":{},"bookType":"Common","tripType":"RT","domIntType":"I","cultureCode":"ko-KR"}'.replaceAll("&amp;quot;", "\"").replaceAll("&quot;", "\""));
        let sellResult = false;
        if (typeof sellRes.data.code != "undefined" && sellRes.data.code != '0000') {
            $.JJAlert(sellRes.data.message, function () {
                if (USER_DEVICE.getName() == "APP") {
                    APPCALL.goMain();
                } else {
                    location.href = "/";
                }
            });
        } else {
            sellResult = true;
            useChannel = sellRes.data.sales.created.organizationCode != '7C' ? "META" : (APP_DATA.deviceType == "PC" ? "WEB" : APP_DATA.deviceType);
        }
        let bundleRes = '[]' != '' ? JSON.parse('[]'.replaceAll("&amp;quot;", "\"").replaceAll("&quot;", "\"")) : '';
        let cultureCode = sellRes.cultureCode;
        let domIntType = sellRes.domIntType;
        let tripType = sellRes.tripType;
        let bookType = sellRes.bookType;
        let pointFlag = bookType == "Point" ? true : false;
        let payType = bookType == "Point" ? "P" : "G";
        let PssToken = sellRes.data.token;
        let arrJourney = sellRes.data.journeys;
        let currencyCode = sellRes.data.currencyCode;
        let arrPsgr = [];
        let arrPsgrKey = [];
        let tripSelltime = Number('606000');

        let adtCnt = Number('1');
        let chdCnt = Number('0');
        let infCnt = Number('');

        let amFlag = 'false' == 'true' ? true : false;
        let amStn = '';
        let umFlag = false;
        let skipFlag = true;
        let tlFlag = loginData.isMember && ["Promotion", "Voucher", "Point"].indexOf(bookType) < 0;
        let onlyChildFlag = "false" == "true";

        let arrCurrencyRoundFactor = { "AUD": { "digit": 2, "factor": 0.1 }, "CAD": { "digit": 2, "factor": 0.1 }, "CNY": { "factor": 1 }, "EUR": { "digit": 2, "factor": 0.01 }, "GBP": { "factor": 1 }, "HKD": { "factor": 1 }, "JPY": { "factor": 10 }, "KRW": { "factor": 10 }, "MOP": { "factor": 1 }, "MYR": { "factor": 1 }, "PHP": { "factor": 1 }, "PNT": { "factor": 100 }, "RUB": { "factor": 1 }, "SGD": { "digit": 2, "factor": 0.1 }, "THB": { "factor": 5 }, "TWD": { "factor": 1 }, "USD": { "digit": 2, "factor": 0.01 }, "VND": { "factor": 1000 } };
        let arrPsgrFare = new Array();
        let arrPsgrDiscount = {};
        let totalFare = {};

        let arrCurrencyName = {};
        let strGuardian;
        let arrSegmentSsr = new Array();
        let tlData = [];

        let isInfant = false;

        let arrErrorMessage = { "txtLastName": { "empty": "성을 입력해 주세요.", "validation": "" }, "txtFirstName": { "empty": "이름을 입력해 주세요.", "validation": "" } };
        if (domIntType == "D") {
            arrErrorMessage["txtLastName"].validation = "한글은 2자, 영문은 32자까지 입력해주세요."; //한글은 2자, 영문은 32자까지 입력해주세요.
            arrErrorMessage["txtFirstName"].validation = "한글은 성/이름 포함 10자, 영문은 32자까지 입력해주세요."; //한글은 성/이름 포함 10자, 영문은 32자까지 입력해주세요.
        } else {
            arrErrorMessage["txtLastName"].validation = "32자까지 입력해주세요."; // 32자까지 입력해주세요.
            arrErrorMessage["txtFirstName"].validation = "32자까지 입력해주세요."; // 32자까지 입력해주세요.
        }


        let _pay_systemType = 'B2C';
        let _pay_channelCd = USER_DEVICE.getName();
        let _pay_currency = currencyCode;
        let _pay_productTypeCode = 'LAT';
        let _pay_saleTypeCd = bookType == "Promotion" ? "PRM" : (bookType == "Voucher" ? "VCH" : (bookType == "FOC" ? "FOC" : (bookType == "Point" ? "PNT" : 'NOR')));
        let _pay_cultureCd = cultureCode;
        let _pay_loginUserId = loginData.userId !== undefined ? loginData.userId : loginData.email;
        let _pay_pnrDataObj = null;
        let _pay_promotionTypeCd = null;
        let _pay_promotionCardCd = null;
        let customerAuthYn = loginData.isMember ? "Y" : "";


        let passengerServiceChargeCal = function (serviceCharge, psgrTypeCode) {
            let psgrFare = {
                fare: 0,
                tax: 0,
                fuel: 0,
                discount: 0,
                promotion: 0,	// 프로모션 할인
                codeDiscount: 0// 중복할인 안 될 discount
            };

            for (let cdx in serviceCharge) {
                if (serviceCharge[cdx].type == "FarePrice") {
                    psgrFare.fare += serviceCharge[cdx].amount;
                    arrCurrencyName.fare = serviceCharge[cdx].currencyCode;
                } else if (serviceCharge[cdx].type == "Discount") {
                    if ((psgrTypeCode == "CHD" || psgrTypeCode == "INF") && !sUtil.isEmpty(serviceCharge[cdx].code) && serviceCharge[cdx].code.substr(0, 2) == psgrTypeCode.substr(0, 2)) {
                        psgrFare.codeDiscount += serviceCharge[cdx].amount;
                        arrCurrencyName.codeDiscount = serviceCharge[cdx].currencyCode;
                    } else if (bookType == "Voucher") {
                        psgrFare.fare -= serviceCharge[cdx].amount;
                    } else {
                        psgrFare.discount += serviceCharge[cdx].amount;
                        arrCurrencyName.discount = serviceCharge[cdx].currencyCode;
                    }
                } else if (serviceCharge[cdx].type == "PromotionDiscount") {
                    psgrFare.promotion += serviceCharge[cdx].amount;
                    arrCurrencyName.promotion = serviceCharge[cdx].currencyCode;
                } else if (serviceCharge[cdx].type == "TravelFee" && serviceCharge[cdx].code.indexOf('YQ') > -1) {
                    psgrFare.fuel += serviceCharge[cdx].amount;
                    arrCurrencyName.fuel = serviceCharge[cdx].currencyCode;
                } else if (serviceCharge[cdx].type == "TravelFee" || serviceCharge[cdx].type == "FareSurcharge" || serviceCharge[cdx].type == "IncludedTravelFee" || serviceCharge[cdx].type == "IncludedTax" || serviceCharge[cdx].type == "Tax" || serviceCharge[cdx].type == "ServiceCharge") {
                    psgrFare.tax += serviceCharge[cdx].amount;
                    arrCurrencyName.tax = serviceCharge[cdx].currencyCode;
                }
            }

            return psgrFare;
        };


        let passengerFaresCal = function () {
            for (let pKey in arrPsgr) {
                let psgrObj = arrPsgr[pKey];

                let calData = journeyFareCal(psgrObj);
                arrPsgrFare[pKey] = calData;
            }
            totalFareCal(arrPsgrFare);
        };

        let journeyFareCal = function (psgrObj) {
            let psgrData = {};
            psgrData.totalFare = {
                fare: 0,
                tax: 0,
                fuel: 0,
                discTax: 0,
                discMember: 0,		// 화면에서 선택한 회원 할인
                discPersonal: 0,	// 화면에서 선택한 신분 할인
                discount: 0,
                promotion: 0,
                total: 0
            };
            psgrData.type = psgrObj.passengerTypeCode;
            psgrData.passengerKey = psgrObj.passengerKey;
            psgrData.journeys = new Array();

            for (let idx in arrJourney) {
                let tmpObj = {};
                let fareData = {};

                let fare = 0;
                let tax = 0;
                let fuel = 0;
                let discount = 0;
                let codeDiscount = 0;
                let promotion = 0;

                for (let sdx in arrJourney[idx].segments) {
                    for (let fdx in arrJourney[idx].segments[sdx].fares) {
                        for (let rdx in arrJourney[idx].segments[sdx].fares[fdx].passengerFares) {
                            if (arrJourney[idx].segments[sdx].fares[fdx].passengerFares[rdx].discountCode == psgrObj.discountCode
                                && arrJourney[idx].segments[sdx].fares[fdx].passengerFares[rdx].passengerType == psgrObj.passengerTypeCode) {

                                let psgrFare = passengerServiceChargeCal(arrJourney[idx].segments[sdx].fares[fdx].passengerFares[rdx].serviceCharges, psgrObj.passengerTypeCode);

                                fare += psgrFare.fare;
                                tax += psgrFare.tax;
                                fuel += psgrFare.fuel;
                                discount += psgrFare.discount;
                                promotion += psgrFare.promotion;
                                codeDiscount += psgrFare.codeDiscount;
                            }
                        }
                    }
                }

                // 운임, 세금, 유류, 신분할인 금액 저장
                fareData.fare = fare;
                fareData.tax = tax;
                fareData.fuel = fuel;
                fareData.discount = discount;
                fareData.promotion = promotion;
                fareData.codeDiscount = codeDiscount;

                fareData.total = 0;
                fareData.total = fareData.fare + fareData.tax + fareData.fuel - fareData.discount - fareData.promotion - fareData.codeDiscount;

                psgrData.totalFare.fare += fareData.fare;
                psgrData.totalFare.fuel += fareData.fuel;
                psgrData.totalFare.tax += fareData.tax;
                psgrData.totalFare.discount += fareData.discount;
                psgrData.totalFare.fare -= fareData.codeDiscount;
                psgrData.totalFare.promotion += fareData.promotion;
                psgrData.totalFare.total += fareData.total;

                tmpObj.fareData = fareData;
                psgrData.journeys[arrJourney[idx].journeyKey] = tmpObj;
            }
            return psgrData;
        };


        let calPassengerDiscount = function (psgrNo, discountType, discountCode) {
            let passengerkey = $("#psgrContainer" + psgrNo).data("passengerkey");
            let arrJourneyDiscount = {};
            let taxRate = 0;
            if (sUtil.isEmpty(arrPsgrDiscount[passengerkey])) return;

            if (discountCode != "") {
                for (let jKey in arrPsgrDiscount[passengerkey].journeys) {
                    let discountInfo = arrPsgrDiscount[passengerkey].journeys[jKey];
                    let discountList = discountType == "D" ? discountInfo.personalDcList : discountInfo.memberDcList;

                    for (let i = 0; i < discountList.length; i++) {
                        if (discountList[i].discountCode == discountCode) {
                            arrJourneyDiscount[jKey] = discountList[i];
                            if (discountList[i].taxDiscRate > 0) {
                                taxRate = discountList[i].taxDiscRate;
                            }
                            break;
                        }
                    }
                }

                // tax 할인 있는 경우, 할인 적용안되는 journey에도 tax 할인 적용
                if (taxRate > 0) {
                    for (let dKey in arrJourneyDiscount) {
                        if (arrJourneyDiscount[dKey].taxDiscRate == 0) {
                            arrJourneyDiscount[dKey].taxDiscRate = taxRate;
                        }
                    }
                }
            }

            for (let jKey in arrPsgrDiscount[passengerkey].journeys) {
                let discountObj = arrJourneyDiscount[jKey];

                arrPsgrFare[passengerkey].journeys[jKey].fareData.discMember = 0;
                arrPsgrFare[passengerkey].journeys[jKey].fareData.discPersonal = 0;
                arrPsgrFare[passengerkey].journeys[jKey].fareData.discTax = 0;

                if (discountCode != "") {
                    if (Object.keys(discountObj).length > 0) {
                        let discCurrency = discountObj.currencyCode;
                        let originFare = arrPsgrFare[passengerkey].journeys[jKey].fareData;
                        let calFare = 0;
                        let calTax = 0;
                        let calTotal = 0;

                        if (bookType != "FOC") {	// FOC 인 경우 fare 할인 이미 적용되어있음
                            if (discountObj.fareDiscAmount > 0) {
                                calFare = discountObj.fareDiscAmount;
                            }
                            if (discountObj.fareDiscRate > 0) {
                                calFare = calDiscountRate(originFare.fare, discountObj.fareDiscRate);
                            }
                        }
                        if (discountObj.taxDiscRate > 0) {
                            calTax = calDiscountRate(originFare.tax, discountObj.taxDiscRate);
                        }

                        if (discountType == "N") {
                            arrPsgrFare[passengerkey].journeys[jKey].fareData.discMember = calFare;
                            arrCurrencyName.discMember = arrCurrencyName.fare;
                        } else {
                            arrPsgrFare[passengerkey].journeys[jKey].fareData.discPersonal = calFare;
                            arrCurrencyName.discPersonal = arrCurrencyName.fare;
                        }

                        // tax할인은 표기 x
                        arrPsgrFare[passengerkey].journeys[jKey].fareData.discTax = calTax;
                        arrCurrencyName.discTax = arrCurrencyName.tax;
                    }
                    // 여정 별 total 재계산 (기존의 신분할인 제외)
                    arrPsgrFare[passengerkey].journeys[jKey].fareData.total = arrPsgrFare[passengerkey].journeys[jKey].fareData.fare + arrPsgrFare[passengerkey].journeys[jKey].fareData.tax + arrPsgrFare[passengerkey].journeys[jKey].fareData.fuel
                        - arrPsgrFare[passengerkey].journeys[jKey].fareData.discount - arrPsgrFare[passengerkey].journeys[jKey].fareData.discMember - arrPsgrFare[passengerkey].journeys[jKey].fareData.discPersonal - arrPsgrFare[passengerkey].journeys[jKey].fareData.discTax - arrPsgrFare[passengerkey].journeys[jKey].fareData.promotion;
                } else {
                    // 여정 별 total 재계산 (기존의 신분할인(codeDiscount) 적용)
                    arrPsgrFare[passengerkey].journeys[jKey].fareData.total = arrPsgrFare[passengerkey].journeys[jKey].fareData.fare + arrPsgrFare[passengerkey].journeys[jKey].fareData.tax + arrPsgrFare[passengerkey].journeys[jKey].fareData.fuel
                        - arrPsgrFare[passengerkey].journeys[jKey].fareData.discount - arrPsgrFare[passengerkey].journeys[jKey].fareData.codeDiscount - arrPsgrFare[passengerkey].journeys[jKey].fareData.promotion;
                }

            }

            // 탑승객 별 total 계산
            let psgrTotalFare = {
                fare: 0,
                tax: 0,
                fuel: 0,
                discTax: 0,
                discount: 0,
                discMember: 0,
                discPersonal: 0,
                promotion: 0,
                total: 0
            };
            for (let jKey in arrPsgrFare[passengerkey].journeys) {
                let fareData = arrPsgrFare[passengerkey].journeys[jKey].fareData;
                psgrTotalFare.fare += fareData.fare;
                psgrTotalFare.fuel += fareData.fuel;
                psgrTotalFare.tax += fareData.tax;
                psgrTotalFare.discTax += fareData.discTax;
                psgrTotalFare.discMember += fareData.discMember;
                psgrTotalFare.discPersonal += fareData.discPersonal;
                psgrTotalFare.discount += fareData.discount;
                psgrTotalFare.promotion += fareData.promotion;
                if (fareData.codeDiscount > 0 && fareData.discMember == 0 && fareData.discPersonal == 0 && fareData.discTax == 0) { // 선택한 할인이 없으면 기존의 신분할인 적용
                    psgrTotalFare.fare -= fareData.codeDiscount;
                }
                psgrTotalFare.total += fareData.total;
            }
            arrPsgrFare[passengerkey].totalFare = psgrTotalFare;
            totalFareCal(arrPsgrFare);
        };


        let calDiscountRate = function (pAmount, pRate) {
            let originAmount = pAmount * ((100 - pRate) / 100);
            let calAmount = 0;
            let result = 0;

            if (!sUtil.isEmpty(arrCurrencyRoundFactor[currencyCode])) {
                calAmount = Math.round(originAmount / arrCurrencyRoundFactor[currencyCode].factor) * arrCurrencyRoundFactor[currencyCode].factor;
                if (!sUtil.isEmpty(arrCurrencyRoundFactor[currencyCode].digit)) {
                    calAmount = Number(calAmount.toFixed(arrCurrencyRoundFactor[currencyCode].digit));
                }
            } else { // 예외처리
                calAmount = Math.ceil(originAmount);
            }
            result = pAmount - calAmount;
            return result;
        };


        let totalFareCal = function (arrPsgrFare) {
            totalFare = {
                fare: 0,
                tax: 0,
                fuel: 0,
                discMember: 0,
                discPersonal: 0,
                discount: 0,
                promotion: 0,
                bundle: 0,
                total: 0
            };

            for (let pKey in arrPsgrFare) {
                let fareObj = arrPsgrFare[pKey].totalFare;

                totalFare.fare += fareObj.fare;
                totalFare.fuel += fareObj.fuel;
                totalFare.tax += fareObj.tax;
                totalFare.discount += fareObj.discount;
                totalFare.promotion += fareObj.promotion;
                totalFare.tax -= fareObj.discTax;
                totalFare.discMember += fareObj.discMember;
                totalFare.discPersonal += fareObj.discPersonal;
                totalFare.total += fareObj.total;
            }

            if (bookType == "Voucher") {
                totalFare.total -= totalFare.fare;
            }

            if (bundleRes.length > 0) {
                for (let i = 0; i < bundleRes.length; i++) {
                    let tmpAmount = bundleRes[i].amount * bundleRes[i].passengers.length;
                    totalFare.bundle += tmpAmount;
                    totalFare.total += tmpAmount;
                }
            }

            setBottomSheet(totalFare);
        };


        let setBottomSheet = function (totalFare) {
            let bottomObj = $("#divBottomSheet");
            let bottomTopObj = $("#divBottomSheetTop");

            if (bundleRes.length > 0) {
                $(".bottomSsr").show();
                let strHtml = "";

                for (let i = 0; i < bundleRes.length; i++) {
                    let tmpAmount = bundleRes[i].amount * bundleRes[i].passengers.length;
                    strHtml += '<div class="flex-text">';
                    strHtml += '  <div class="flex-text__title">' + bundleRes[i].bundleName + '</div>';
                    strHtml += '  <div class="flex-text__additional">' + sUtil.FmtcurrencyCvt(langCode, currencyCode, tmpAmount) + '</div>';
                    strHtml += '</div>';
                }

                $("#divbtSsr").html(strHtml);
            }

            // 포인트 예매
            if (bookType == "Point") {
                let pointTotal = 0;
                let currencyTotal = 0;
                let currencyName = "";
                $.each(totalFare, function (key, item) {
                    if (key == "total" || totalFare[key] <= 0) return true;
                    if (arrCurrencyName[key] == "PNT") {
                        if (key.indexOf("disc") > -1) {
                            pointTotal -= totalFare[key];
                        } else {
                            pointTotal += totalFare[key];
                        }
                    } else {
                        currencyName = arrCurrencyName[key];
                        currencyTotal += totalFare[key];
                    }
                });

                sUtil.FmtcurrencyCvt(langCode, arrCurrencyName.tax, currencyTotal, $(bottomTopObj).find(".cost:eq(0)"));
                sUtil.FmtcurrencyCvt(langCode, "PNT", pointTotal, $(bottomTopObj).find(".point .cost"));
                $(bottomTopObj).find(".point .price_txt").text("+" + $(bottomTopObj).find(".point .price_txt").text());
                $(bottomTopObj).find(".point").show();
                $(bottomTopObj).find("button.summary").addClass("summary--point");
                // 				$(bottomTopObj).find("div.label").addClass("label--point");
            } else {
                sUtil.FmtcurrencyCvt(langCode, currencyCode, totalFare.total, $(bottomTopObj).find(".cost:eq(0)"));
            }

            sUtil.FmtcurrencyCvt(langCode, sUtil.nvl(arrCurrencyName.fare, currencyCode), totalFare.fare, $("#divBtFare").find(".flex-text__additional"));
            sUtil.FmtcurrencyCvt(langCode, sUtil.nvl(arrCurrencyName.tax, currencyCode), totalFare.tax, $("#divBtTax").find(".flex-text__additional"));
            sUtil.FmtcurrencyCvt(langCode, sUtil.nvl(arrCurrencyName.fuel, sUtil.nvl(arrCurrencyName.tax, currencyCode)), totalFare.fuel, $("#divBtFuel").find(".flex-text__additional"));


            // 신규 가입 할인
            if (totalFare.discMember > 0) {
                sUtil.FmtcurrencyCvt(langCode, arrCurrencyName.discMember, totalFare.discMember * -1, $("#divBtMemberDiscount").find(".flex-text__additional"));
                $("#divBtMemberDiscount").show();
            } else {
                $("#divBtMemberDiscount").hide();
            }

            // 개인 신분 할인
            if (totalFare.discPersonal > 0 || totalFare.discount > 0) {
                let discountAmount = totalFare.discPersonal + totalFare.discount;
                sUtil.FmtcurrencyCvt(langCode, sUtil.nvl(arrCurrencyName.discPersonal, currencyCode), discountAmount * -1, $("#divBtPersonalDiscount").find(".flex-text__additional"));
                $("#divBtPersonalDiscount").show();
            } else {
                $("#divBtPersonalDiscount").hide();
            }

            // 프로모션 할인
            if (totalFare.promotion > 0) {
                sUtil.FmtcurrencyCvt(langCode, arrCurrencyName.promotion, totalFare.promotion * -1, $("#divBtPromotion").find(".flex-text__additional"));
                $("#divBtPromotion").show();
            } else if (bookType == "Point") {
                $("#divBtPromotion").hide();
            } else {
                $("#divBtPromotion").find(".flex-text__additional").text("미적용");
                $("#divBtPromotion").show();
            }

            // 기프티켓 할인
            if (bookType == "Voucher") {
                sUtil.FmtcurrencyCvt(langCode, arrCurrencyName.fare, totalFare.fare * -1, $("#divVcDiscount").find(".flex-text__additional"));
                $("#divVcDiscount").show();
            } else {
                $("#divVcDiscount").hide();
            }
        };


        let openFindFriends = function (event) {
            let targetNo = $(this).attr("id").replace(/[^0-9]/gi, "");
            $.ajax({
                async: false,
                type: "post",
                url: "viewFriendsList.do",
                data: {
                    isMember: loginData.isMember,
                    mbrId: sUtil.nvl(loginData.userId, ''),
                    langCode: langCode,
                    targetNo: targetNo
                },
                success: function (data) {
                    $("#modalFriendsList").html(data);
                }
            });
            fullPopOpen("modalFriendsList");
        };


        let openNationality = function (event) {
            let receiveObj = $(this).siblings("[id^=hid]");
            openLayerNationality(langCode, $(receiveObj), $(this));
        };


        let openCountry = function (event) {
            let receiveObj = $(this).siblings("[id^=hid]");
            openLayerCountry(langCode, $(receiveObj), $(this));
        };


        let openAgeCalc = function () {
            $.ajax({
                async: false,
                type: "post",
                url: "viewAgeCalculator.do",
                data: {
                    assetsUrl: 'https://static.jejuair.net/hpgg/resources'
                },
                success: function (data) {
                    $("#modalAgeCalc").html(data);
                }
            });
        };


        function fnPushAnalyticsInfo() {
            let gaTripType = tripType === 'MT' ? 'MC' : tripType;
            let gaPrice = 0;
            sellRes.data.journeys.forEach(function (journeyData, i) {
                gaPrice += Number(sellRes.data.breakdown.journeys[journeyData.journeyKey].totalAmount);
            });

            let _products = [];
            _products.push({
                'id': sellRes.data.journeys[0].designator.origin + '-' + sellRes.data.journeys[0].designator.destination + '-' + gaTripType,
                'name': sellRes.data.journeys[0].designator.originName + '-' + sellRes.data.journeys[0].designator.destinationName,
                'price': gaPrice,
                'variant': adtCnt + '-' + chdCnt + '-' + infCnt,
                'brand': gaTripType,
                'category': 'Flight_기본',
                'quantity': 1
            });
            if (tripType === 'MT') {
                _products.push({
                    'id': sellRes.data.journeys[1].designator.origin + '-' + sellRes.data.journeys[1].designator.destination + '-' + gaTripType,
                    'name': sellRes.data.journeys[1].designator.originName + '-' + sellRes.data.journeys[1].designator.destinationName,
                    'price': gaPrice,
                    'variant': adtCnt + '-' + chdCnt + '-' + infCnt,
                    'brand': gaTripType,
                    'category': 'Flight_기본',
                    'quantity': 1
                });
            }
            for (let i = 0; i < bundleRes.length; i++) {
                _products.push({
                    'id': sellRes.data.journeys[i].designator.origin + '-' + sellRes.data.journeys[i].designator.destination + '-' + gaTripType + '^A-' + bundleRes[i].bundleCode,
                    'name': bundleRes[i].bundleName,
                    'price': bundleRes[i].amount,
                    'variant': undefined,
                    'category': 'Ancillary',
                    'quantity': 1
                });
            }
            let productName = '';
            for (let i = 0; i < sellRes.data.journeys.length; i++) {
                const productClass = sellRes.data.journeys[i].segments[0].fares[0].productClass;
                if (productClass === 'B' || productClass === 'P1') {
                    productName = 'FLY';
                } else if (productClass === 'V' || productClass === 'P2') {
                    productName = 'FLYBAG';
                } else if (productClass === 'Y' || productClass === 'P3') {
                    productName = 'FLEX';
                } else if (productClass === 'N') {
                    productName = 'BIZ LITE';
                }

                _products.push({
                    'id': sellRes.data.journeys[i].designator.origin + '-' + sellRes.data.journeys[i].designator.destination + '-' + gaTripType + '^S-' + productName,
                    'name': productName,
                    'price': sellRes.data.breakdown.journeys[sellRes.data.journeys[i].journeyKey].totalAmount,
                    'variant': domIntType === 'D' ? '국내선 운임' : '국제선 운임',
                    'category': 'Seat',
                    'quantity': 1
                });
            }

            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'ee-checkout1-나중에결제_수수료',
                'ecommerce': {
                    'currencyCode': currencyCode,
                    'checkout': {
                        'products': _products,
                        'actionField': {
                            'step': 1
                        }
                    }
                }
            });
        }


        let openPayLater = function (obj, evt) {
            if (checkInputComplete()) {
                $.ajax({
                    async: false,
                    type: "post",
                    url: "viewPayLater.do",
                    data: {
                        currencyCode: currencyCode,
                        passengersCount: Object.keys(sellRes.data.passengers).length,
                        tlData: JSON.stringify(tlData)
                    },
                    success: function (data) {
                        $("#modalPayLater").html(data);
                        fullPopOpen("modalPayLater");
                        fnPushAnalyticsInfo();
                    }
                });
            } else {
                evt.stopImmediatePropagation();
                return false;
            }
        };


        let openPartnerCardInfo = function () {
            $.ajax({
                async: false,
                type: "post",
                url: "../layer/viewPartnerDisCount.json",
                data: {
                    temp: "temp"
                },
                success: function (data) {
                    $("#modalPartnerCardInfo").html(data);
                    $("#hidPartnerCardInfo").trigger("click");
                }
            });
        };


        let drawAnimal = function () {


            strGuardian = "";
            let gdnCnt = 0;
            for (let key in arrPsgr) {
                let psgrObj = arrPsgr[key];

                if (psgrObj.passengerTypeCode == "ADT") {
                    strGuardian += '<option value="' + key + '">성인 ' + ++gdnCnt + '</option>';
                }
            }

            $.each($("[name=selGdn]"), function (idx, item) {
                $(this).empty();
                $(this).append(strGuardian);
            });

            for (let i = 0; i < arrJourney.length; i++) {
                let ssrAvailableCnt = arrSegmentSsr.length > 0 ? arrSegmentSsr[i].PETC : 0;
                let availableCnt = gdnCnt < ssrAvailableCnt ? gdnCnt : ssrAvailableCnt;
                $("#divAnm" + i + " .flex-text__additional").text("동반 가능한 반려동물 : " + availableCnt + "");
            }
        };


        let checkBirthday = function (psgrNo) {
            let passengerkey = $("#psgrContainer" + psgrNo).data("passengerkey");
            let year = $("#txtYear" + psgrNo).val();
            let month = $("#selMonth" + psgrNo).val();
            let date = $("#selDate" + psgrNo).val();
            let psgrType = arrPsgr[passengerkey].passengerTypeCode;

            if (!sUtil.isEmpty(year) && year.length == 4 && !sUtil.isEmpty(month) && !sUtil.isEmpty(date)) {
                let today = new Date();
                let pDateObj = new Date(year, month - 1, date);
                let pDate = year + ("0" + month).slice(-2) + ("0" + date).slice(-2);


                if (pDateObj.getTime() > today.getTime()) return false;


                let baseDate = arrJourney[0].designator.departure.substring(0, 10).replace(/[^0-9]/gi, "");

                if (psgrType == "CHD") {

                    // 유아가 소아 좌석 점유로 예약을 진행할 경우
                    // 홈페이지 예약을 막기 위해 나이 체크를 하고 고객센터 안내 팝업을 띄운다.
                    // 나이 계산을 해서 24개월 미만일 경우 팝업 대상이며 편도가 아닐 때 최종 여정의 출발일로 다시 계산한다.
                    // 2세 이상일 경우 일반 소아 로직을 따른다.
                    if (getAge(pDate, baseDate) < 2) {

                        // 편도 이상일 때 마지막 여정의 날짜로 다시 한번 날짜를 세팅하여 비교한다.
                        if (tripType != 'OW') {
                            baseDate = arrJourney[arrJourney.length - 1].designator.departure.substring(0, 10);
                        }

                        if (getAge(pDate, baseDate) < 2) {
                            isInfant = true;
                            return false;
                        }
                    } else {
                        if (domIntType == "D") {
                            let strFromDate = dUtil.termDate('Y', 13, '', pDate);
                            if (Number(strFromDate) <= Number(baseDate)) {
                                return false;
                            }
                        } else {
                            let strFromDate = dUtil.termDate('Y', 12, '', pDate);
                            if (Number(strFromDate) <= Number(baseDate)) {
                                return false;
                            }
                        }
                    }

                } else if (psgrType == "INF") {

                    if (tripType != 'OW') {
                        baseDate = arrJourney[arrJourney.length - 1].designator.departure.substring(0, 10).replace(/[^0-9]/gi, "");
                    }
                    if (domIntType == "D") {
                        let strFromDate = dUtil.termDate('D', 7, '', pDate);
                        let strToDate = dUtil.termDate('M', 24, '', pDate);
                        if (Number(strFromDate) > Number(baseDate) || Number(strToDate) <= Number(baseDate)) {
                            return false;
                        }
                    } else {
                        let strFromDate = dUtil.termDate('D', 14, '', pDate);
                        let strToDate = dUtil.termDate('M', 24, '', pDate);
                        if (Number(strFromDate) > Number(baseDate) || Number(strToDate) <= Number(baseDate)) {
                            return false;
                        }
                    }
                } else {
                    if (domIntType == "D") {
                        let strFromDate = dUtil.termDate('Y', 13, '', pDate);
                        if (Number(strFromDate) > Number(baseDate)) {
                            return false;
                        }
                    } else {
                        let strFromDate = dUtil.termDate('Y', 12, '', pDate);
                        if (Number(strFromDate) > Number(baseDate)) {
                            return false;
                        }
                    }
                }
                $("#birth" + psgrNo + "_div").removeClass("input--error");
                return true;
            } else {
                return false;
            }
        };

        let checkPhoneNumber = function (psgrNo, amFlag) {
            let result = true;

            if (amFlag) { // 미주노선
                let hidPcc = $("#hidPhoneCountryCode" + psgrNo).val();
                let txtP = $("#txtPhone" + psgrNo).val();
                let hidEcc = $("#hidEmergencyCountryCode" + psgrNo).val();
                let txtEp = $("#txtEmergencyPhone" + psgrNo).val();

                if (typeof hidPcc != "undefined" && typeof txtP != "undefined" && hidPcc != '' && txtP != '') {
                    let txtPNum = txtP.replace(/[^0-9]/g, "");

                    // 전화번호
                    if (hidPcc == '82') {
                        // 대한민국 국번(+82)일 경우 10자리 이상, 01 로 시작해야 버튼 활성화 가능
                        if (txtPNum.length < '10') {
                            $("#txtPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            result = false;
                        } else {
                            if (!txtPNum.startsWith('01')) {
                                result = false;
                                $("#txtPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            }
                        }
                    } else {
                        if (txtPNum.length < '5') {
                            $("#txtPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            result = false;
                        }
                    }
                } else if (typeof hidEcc != "undefined" && typeof txtEp != "undefined" && hidEcc != '' && txtEp != '') {
                    // 보조 전화번호
                    let txtEpNum = txtEp.replace(/[^0-9]/g, "");

                    if (hidEcc == '82') {
                        // 대한민국 국번(+82)일 경우 10자리 이상, 01 로 시작해야 버튼 활성화 가능
                        if (txtEpNum.length < '10') {
                            $("#txtEmergencyPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            result = false;
                        } else {
                            if (!txtEpNum.startsWith('01')) {
                                result = false;
                                $("#txtEmergencyPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            }
                        }
                    } else {
                        if (txtEpNum.length < '5') {
                            $("#txtEmergencyPhone" + psgrNo).parents(".input-item").addClass("input--error");
                            result = false;
                        }
                    }
                } else {
                    result = true;
                }
            } else { // 그 외 노선
                let hidCc = $("#hidCountryCode").val();
                let txtCp = $("#txtContactPhone").val();
                if (typeof hidCc != "undefined" && typeof txtCp != "undefined" && hidCc != '' && txtCp != '') {
                    let txtCpNum = txtCp.replace(/[^0-9]/g, "");

                    // 대표 전화번호
                    if (hidCc == '82') {
                        // 대한민국 국번(+82)일 경우 10자리 이상, 01 로 시작해야 버튼 활성화 가능
                        if (txtCpNum.length < '10') {
                            $("#txtContactPhone").parents(".input-item").addClass("input--error");
                            result = false;
                        } else {
                            if (!txtCpNum.startsWith('01')) {
                                result = false;
                                $("#txtContactPhone").parents(".input-item").addClass("input--error");
                            }
                        }
                    } else {
                        if (txtCpNum.length < '5') {
                            $("#txtContactPhone").parents(".input-item").addClass("input--error");
                            result = false;
                        }
                    }
                } else {
                    result = true;
                }
            }

            return result;
        }


        let checkPsgrInput = function (psgrNo, flag) {
            if (sUtil.isEmpty(flag)) flag = false;
            let psgrContainer = $("#psgrContainer" + psgrNo).children().not("#divCompanionContainer");
            let psgrTab = $("#psgrTab" + psgrNo).children("button");
            let result = true;

            $.each($(psgrContainer).find(".input_required"), function (idx, item) {
                if (sUtil.isEmpty($(item).val())) {
                    if (flag) {
                        $("#psgrBtn" + psgrNo).trigger("click");
                        if (Object.keys(arrErrorMessage).indexOf(sUtil.nvl($(item).attr("name"), "")) > -1) {
                            $(item).parents(".input-item").find("p").text(arrErrorMessage[$(item).attr("name")].empty);
                        }
                        $(item).parents(".input-item").addClass("input--error");
                        $(item).focus();
                    }
                    result = false;
                    return false;
                }
            });

            if (result) {
                if (!checkNameLength(psgrNo)) {
                    result = false;
                }
            }

            if (result) {
                if (!checkBirthday(psgrNo)) {
                    $("#birth" + psgrNo + "_div").addClass("input--error");
                    result = false;
                }
            }


            if (result && onlyChildFlag) {
                $.each($("#divCompanion" + $("[name=rdoCompanion]:checked").val()).find(".input_required"), function (idx, item) {
                    if ($(item).prop("type") == "checkbox") {
                        if (!$(item).prop("checked")) {
                            result = false;
                            return false;
                        }
                    } else if (sUtil.isEmpty($(item).val())) {
                        if (flag) {
                            $(item).parents(".input-item").addClass("input--error");
                            $(item).focus();
                        }
                        result = false;
                        return false;
                    }
                });
            }


            if (amFlag) {
                // 미주노선
                // 첫번째 승객만 체크를 한다.
                if (psgrNo == 0) {
                    // 이메일 체크
                    if (result && $("#txtEmail" + psgrNo).length > 0 && !sUtil.emailCheck("txtEmail" + psgrNo)) {
                        $("#txtEmail" + psgrNo).parents(".input-item").addClass("input--error");
                        result = false;
                    }
                    // 전화번호 체크
                    if (result && !checkPhoneNumber(psgrNo, amFlag)) {
                        result = false;
                    }
                }
            } else {
                // 그 외 노선 (대표자 (contact) 정보)
                // 이메일 체크
                if (result && $("#txtContactEmail").length > 0 && !sUtil.emailCheck("txtContactEmail")) {
                    $("#txtContactEmail").parents(".input-item").addClass("input--error");
                    result = false;
                }
                // 전화번호 체크
                if (result && !checkPhoneNumber(psgrNo, amFlag)) {
                    result = false;
                }
            }

            if (result) {
                $(psgrTab).addClass("is-checked");
            } else {
                if ($(psgrTab).hasClass("is-checked")) {
                    $(psgrTab).removeClass("is-checked");
                }
            }

            return result;
        };


        let checkInputComplete = function (flag) {
            if (typeof flag == "undefined") flag = true;
            if (flag) {
                $.each($("[id^=psgrContainer]"), function (idx, item) {
                    if (!checkPsgrInput(idx)) {
                        flag = false;
                        return false;
                    }
                });
            }


            if (flag) {
                if (!amFlag) {
                    if (sUtil.isEmpty($("#hidCountryCode").val()) || sUtil.isEmpty($("#txtContactPhone").val())
                        || sUtil.isEmpty($("#txtContactEmail").val()) || !sUtil.emailCheck("txtContactEmail")) {
                        flag = false;
                    }
                }
            }

            if (flag) {
                $("[name=btnNext]").addClass("button--active");
                $("[name=btnNext]").prop("disabled", false);
                $("[name=btnNext]").off("click").on("click", function () { doNext('A'); });

                if ($("#divSkip").length > 0 && skipFlag) {
                    $("#divSkip").addClass("is-active");
                    $("#btnSkip").off("click").on("click", function () { doNext('S'); });
                }

                if (tlFlag) {

                    $("#divTLMessage").addClass("on");
                    $("#btnTL").prop("disabled", false);
                    $("#btnTL").off("click").on("click", function (evt) { openPayLater($("#btnTL"), evt); });
                }
            } else {
                $("[name=btnNext]").removeClass("button--active");
                $("[name=btnNext]").prop("disabled", true);
                $("[name=btnNext]").off("click");

                if ($("#divSkip").length > 0 && skipFlag) {
                    $("#divSkip").removeClass("is-active");
                    $("#btnSkip").off("click");
                }

                if (tlFlag) {
                    $("#divTLMessage").removeClass("on");
                    $("#btnTL").prop("disabled", true);
                    $("#btnTL").off("click");
                }
            }

            return flag;
        };


        let getMemberInfo = function (pMemberId) {
            let corpLevel = '';
            if (!sUtil.isEmpty(pMemberId)) {
                $.ajax({
                    async: false,
                    type: "post",
                    url: "getMemberCorpGrade.json",
                    data: {
                        userId: pMemberId
                    },
                    success: function (data) {
                        if (data.code == "0000" && !sUtil.isEmpty(data.data.CORP_GRD_CD)) {
                            corpLevel = data.data.CORP_GRD_CD;
                        }
                    }
                });
            }

            return corpLevel;
        };


        let getDiscountList = function (psgrNo) {
            if ($("#selMemberDc" + psgrNo).length <= 0 && $("#selPersonalDc" + psgrNo).length <= 0) return;
            let arrDiscount = {};
            let psgrContainer = $("#psgrContainer" + psgrNo);
            let psgrKey = $(psgrContainer).data("passengerkey");
            let psgrUserId = sUtil.nvl($(psgrContainer).find("[name=hidMemberId]").val(), '');
            let psgrCustomerNo = sUtil.nvl($(psgrContainer).find("[name=hidFfpNo]").val(), '');
            let psgrEnrollDate = sUtil.nvl($(psgrContainer).find("[name=hidEnrollDate]").val(), '');

            // 할인 그룹 셋팅, 할인 화면 초기화
            let searchType = "";
            if (domIntType == 'D') {
                if (bookType == "Point" || bookType == "Voucher") {
                    searchType = "D";
                } else if ($("[name=rdoDC" + psgrNo + "]").length > 0) {
                    $("[name=rdoDC" + psgrNo + "]:input[value=M]").trigger("click");
                    $("#selMemberDc" + psgrNo).val("").trigger("change");
                }
                $("#selPersonalDc" + psgrNo).val("").trigger("change");
            } else {
                searchType = "M";
                $("#selMemberDc" + psgrNo).val("").trigger("change");
            }

            let dcReqObj = {
                cultureCode: cultureCode,
                useChannel: useChannel,
                bookType: bookType,
                discountGroupType: searchType,
                user: {}
            };

            if (!sUtil.isEmpty(psgrCustomerNo)) {
                dcReqObj.user.corpLevel = getMemberInfo(psgrUserId);
                dcReqObj.user.userId = psgrUserId;
                dcReqObj.user.ffpNo = psgrCustomerNo;
                dcReqObj.user.customerNo = psgrCustomerNo;
                dcReqObj.user.signupDate = psgrEnrollDate;
            }

            $.ajax({
                type: "post",
                url: "getDiscountList.json",
                beforeSend: function (request) {
                    request.setRequestHeader("PssToken", PssToken);
                },
                data: {
                    dcReq: JSON.stringify(dcReqObj)
                },
                success: function (data) {
                    if (!sUtil.isEmpty(data.data) && data.data.code == "0000") {
                        arrDiscount = data.data.data;
                    }
                    drawDcCodeList(arrDiscount, psgrNo);
                }
            });
        };

        let drawDcCodeList = function (arrDiscount, psgrNo) {
            let psgrContainer = $("#psgrContainer" + psgrNo);
            let psgrKey = $(psgrContainer).data("passengerkey");
            let memberDCList = new Array();
            let personalDCList = new Array();

            arrPsgrDiscount[psgrKey] = {
                journeys: {}
            };

            if (!sUtil.isEmpty(arrDiscount)) {
                for (let i = 0; i < arrDiscount.journeys.length; i++) {
                    for (let j = 0; j < arrDiscount.journeys[i].segments.length; j++) {
                        for (let k = 0; k < arrDiscount.journeys[i].segments[j].passengerTypes.length; k++) {
                            let jPsgrDcList = arrDiscount.journeys[i].segments[j].passengerTypes[k];
                            if (jPsgrDcList.passengerKey == psgrKey) {

                                let journeyMemberDCList = new Array();
                                let journeyPersonalDCList = new Array();

                                for (let m = 0; m < jPsgrDcList.discountCodes.length; m++) {
                                    if (jPsgrDcList.discountCodes[m].discountType == "D") {
                                        journeyPersonalDCList.push(jPsgrDcList.discountCodes[m]);
                                    } else {
                                        journeyMemberDCList.push(jPsgrDcList.discountCodes[m]);
                                    }
                                }

                                let dcObj = {
                                    journeyKey: arrDiscount.journeys[i].journeyKey,
                                    memberDcList: journeyMemberDCList,
                                    personalDcList: journeyPersonalDCList
                                };

                                arrPsgrDiscount[psgrKey].journeys[arrDiscount.journeys[i].journeyKey] = dcObj;
                                break;
                            }
                        }
                    }
                }
            }

            if (Object.keys(arrPsgrDiscount).length > 0 && Object.keys(arrPsgrDiscount[psgrKey].journeys).length > 0) {
                let strHtml = "<option value=''>선택 안함</option>";
                let dcObj = arrPsgrDiscount[psgrKey].journeys[arrJourney[0].journeyKey];
                if ($("#psgrContainer" + psgrNo + " #selMemberDc" + psgrNo).length > 0) {
                    if (dcObj.memberDcList.length > 0) {
                        for (let j = 0; j < dcObj.memberDcList.length; j++) {
                            let mObj = dcObj.memberDcList[j];
                            strHtml += '<option value="' + mObj.discountCode + '" data-type="' + mObj.discountType + '">' + mObj.discountName + '</option>';
                        }
                    }
                    $("#psgrContainer" + psgrNo + " #selMemberDc" + psgrNo).html(strHtml);
                }

                if ($("#psgrContainer" + psgrNo + " #selPersonalDc" + psgrNo).length > 0) {
                    strHtml = "<option value=''>선택 안함</option>";
                    if (dcObj.personalDcList.length > 0) {
                        for (let j = 0; j < dcObj.personalDcList.length; j++) {
                            let pObj = dcObj.personalDcList[j];
                            strHtml += '<option value="' + pObj.discountCode + '" data-type="' + pObj.discountType + '">' + pObj.discountName + '</option>';
                        }
                    }
                    $("#psgrContainer" + psgrNo + " #selPersonalDc" + psgrNo).html(strHtml);
                }
            } else {
                let strHtml = "<option value=''>선택 안함</option>";
                let dcObj = arrPsgrDiscount[psgrKey].journeys[arrJourney[0].journeyKey];
                if ($("#psgrContainer" + psgrNo + " #selMemberDc" + psgrNo).length > 0) {
                    $("#psgrContainer" + psgrNo + " #selMemberDc" + psgrNo).html(strHtml);
                }

                if ($("#psgrContainer" + psgrNo + " #selPersonalDc" + psgrNo).length > 0) {
                    $("#psgrContainer" + psgrNo + " #selPersonalDc" + psgrNo).html(strHtml);
                }
            }
        }


        let setSsrData = function () {
            $.ajax({
                async: false,
                url: 'searchSsr.json',
                type: 'POST',
                data: {
                    PssToken: PssToken,
                    cultureCode: cultureCode,
                    currencyCode: currencyCode,
                    payType: payType,
                    ssrCategoryCode: 'ET^TL'
                },
                success: function (data) {
                    if (sUtil.isEmpty(data.data)) {
                        let datas = { title: data.code, message: data.message };
                        $.JJAlert(datas);
                    } else {
                        let arrSsr = data.data.data.journeySsrs;

                        for (let i = 0; i < arrJourney.length; i++) {
                            for (let j = 0; j < arrSsr.length; j++) {
                                if (arrJourney[i].journeyKey == arrSsr[j].journeyKey) {
                                    let arrCategory = arrSsr[j].segmentSsrs[0].category;
                                    let tmpObj = {
                                        PETC: 0,
                                        UM: "",
                                        TL: []
                                    };
                                    for (let k = 0; k < arrCategory.length; k++) {
                                        if (arrCategory[k].ssrCategoryCode == "ET") {
                                            for (let m = 0; m < arrCategory[k].ssrs.length; m++) {
                                                if (arrCategory[k].ssrs[m].ssrCode == "PETC") {
                                                    tmpObj.PETC = arrCategory[k].ssrs[m].available;
                                                }
                                                if (arrCategory[k].ssrs[m].ssrCode == "PDUM") {
                                                    tmpObj.UM = arrCategory[k].ssrs[m].passengersAvailability;
                                                }
                                            }
                                        }
                                        if (arrCategory[k].ssrCategoryCode == "TL") {
                                            for (let m = 0; m < arrCategory[k].ssrs.length; m++) {
                                                if (sUtil.isEmpty(tmpObj.TL[arrCategory[k].ssrs[m].ssrCode])) {
                                                    tmpObj.TL[arrCategory[k].ssrs[m].ssrCode] = arrCategory[k].ssrs[m].passengersAvailability;
                                                }
                                            }
                                        }
                                    }
                                    arrSegmentSsr[i] = tmpObj;
                                }
                            }
                        }

                        for (let tlKey in arrSegmentSsr[0].TL) {
                            let tlObj = arrSegmentSsr[0].TL[tlKey];
                            let tlPerPrice = 0;
                            let tlTotalPrice = 0;
                            let result = true;

                            for (let sKey in arrSegmentSsr) {
                                if (sUtil.isEmpty(arrSegmentSsr[sKey].TL[tlKey])) {
                                    result = false;
                                    break;
                                }
                                for (let pKey in arrSegmentSsr[sKey].TL[tlKey]) {
                                    tlTotalPrice += arrSegmentSsr[sKey].TL[tlKey][pKey].price;
                                }
                                tlPerPrice += arrSegmentSsr[sKey].TL[tlKey][0].price;
                            }

                            if (result) {
                                tlData.push({
                                    code: tlKey,
                                    time: tlKey.replace(/[^0-9]/gi, ""),
                                    total: tlTotalPrice,
                                    per: tlPerPrice
                                });
                            }
                        }

                        tlFlag = tlFlag && tlData.length > 0;
                        if (tlFlag) {

                            tlData.sort(function (a, b) {
                                if (Number(a.time) > Number(b.time)) return 1;
                                if (Number(a.time) === Number(b.time)) return 0;
                                if (Number(a.time) < Number(b.time)) return -1;
                            });
                            let strHtml = '<div class="link-wrap">';
                            strHtml += '      <div class="link-wrap link-wrap--left">';
                            strHtml += '        <a href="javascript:void(0)" id="btnTL" class="link-wrap__underline" disabled><span>나중에 결제</span></a>';
                            strHtml += '      </div>';
                            strHtml += '       <div id="divTLMessage" class="after-message">';
                            strHtml += '         <p>수수료만 결제하고 최종 결제는 나중에</p>';
                            strHtml += '       </div>';
                            strHtml += '</div>';
                            $("#divBottomSheetTop").append(strHtml);
                        }

                        if (onlyChildFlag) {
                            let result = true;
                            for (let idx in arrSegmentSsr) {
                                if (sUtil.isEmpty(arrSegmentSsr[idx].UM)) {
                                    result = false;
                                    return;
                                }
                            }
                            umFlag = result;
                        }

                        if (domIntType == "D" && adtCnt > 0) {

                            drawAnimal();
                        }
                    }
                }
            });
        };


        let setLoginData = function (flag) {
            let loginPsgrContainer = $("#psgrContainer" + loginPsgrNo);

            if (flag) {

                let lastName = "";
                let firstName = "";

                if (domIntType == "D") {
                    lastName = sUtil.nvl(loginData.korLastName, "");
                    firstName = sUtil.nvl(loginData.korFirstName, "");
                } else {
                    lastName = sUtil.nvl(loginData.engLastName, "");
                    firstName = sUtil.nvl(loginData.engFirstName, "");
                }

                $(loginPsgrContainer).find("[name=txtLastName]").val(lastName);
                $(loginPsgrContainer).find("[name=txtFirstName]").val(firstName);
                if (loginData.isMember && !sUtil.isEmpty(lastName)) {
                    $(loginPsgrContainer).find("[name=txtLastName]").parent().parent().addClass("label-active");
                    $(loginPsgrContainer).find("[name=txtLastName]").prop("readonly", true).focusout();
                    $(loginPsgrContainer).find("[name=txtLastName]").siblings("button").prop("disabled", true);
                } else {
                    $(loginPsgrContainer).find("[name=txtLastName]").parent().parent().removeClass("label-active");
                }
                if (loginData.isMember && !sUtil.isEmpty(firstName)) {
                    $(loginPsgrContainer).find("[name=txtFirstName]").parent().parent().addClass("label-active");
                    $(loginPsgrContainer).find("[name=txtFirstName]").prop("readonly", true).focusout();
                    $(loginPsgrContainer).find("[name=txtFirstName]").siblings("button").prop("disabled", true);
                } else {
                    $(loginPsgrContainer).find("[name=txtFirstName]").parent().parent().removeClass("label-active");
                }

                $(loginPsgrContainer).find("[name=hidFfpNo]").val(sUtil.nvl(loginData.customerNo, ""));
                $(loginPsgrContainer).find("[name=hidMemberId]").val(sUtil.nvl(loginData.userId, ""));
                $(loginPsgrContainer).find("[name=hidMemberGrade]").val(sUtil.nvl(loginData.membergrade, ""));
                $(loginPsgrContainer).find("[name=hidEnrollDate]").val(sUtil.nvl(loginData.enrollDate, ""));
                $(loginPsgrContainer).find("[name=hidFriendNo]").val("");

                let loginGender = sUtil.nvl(loginData.gender, "M") == "M" ? "1" : "2";
                $(loginPsgrContainer).find("[name=rdoGender" + loginPsgrNo + "]:input[value=" + loginGender + "]").prop("checked", true);

                if ($(loginPsgrContainer).find("[id^=birth]").length > 0) {
                    let strBirth = sUtil.nvl(loginData.birthDate, "");
                    let year = strBirth.length == 8 ? loginData.birthDate.substring(0, 4) : "";
                    let month = strBirth.length == 8 ? Number(loginData.birthDate.substring(4, 6)) : "";
                    let date = strBirth.length == 8 ? Number(loginData.birthDate.substring(6, 8)) : "";
                    $(loginPsgrContainer).find("[name=txtYear]").val(year);
                    $(loginPsgrContainer).find("[name=selMonth]").val(month).trigger("change");
                    $(loginPsgrContainer).find("[name=selDate]").val(date).trigger("change");
                }

                if ($(loginPsgrContainer).find("[name=btnNationality]").length > 0) {
                    $(loginPsgrContainer).find("[name=btnNationality]").text(getNationalityName(sUtil.nvl(loginData.nationalityCode, countryCode)));
                    $(loginPsgrContainer).find("[name=hidNationality]").val(sUtil.nvl(loginData.nationalityCode, countryCode)).trigger("change");
                }

                if (amFlag) {
                    $("#txtPhone" + loginPsgrNo).val(sUtil.nvl(loginData.mobileNo, "")).trigger("keyup");
                    $("#btnPhoneCountryCode" + loginPsgrNo).text("+" + sUtil.nvl(loginData.countryCode, "82"));
                    $("#hidPhoneCountryCode" + loginPsgrNo).val(sUtil.nvl(loginData.countryCode, "82"));

                    if (!sUtil.isEmpty(loginData.email)) {

                        $("#txtEmail" + loginPsgrNo).val(sUtil.atrim(loginData.email));
                        $("#txtEmail" + loginPsgrNo).parent().parent().addClass("label-active");
                    } else {
                        $("#txtEmail" + loginPsgrNo).val("");
                        $("#txtEmail" + loginPsgrNo).parent().parent().removeClass("label-active");
                    }
                } else {
                    $("#txtContactPhone").val(sUtil.nvl(loginData.mobileNo, "")).trigger("keyup");
                    $("#btnCountryCode").text("+" + sUtil.nvl(loginData.countryCode, "82"));
                    $("#hidCountryCode").val(sUtil.nvl(loginData.countryCode, "82"));

                    if (!sUtil.isEmpty(loginData.email)) {

                        $("#txtContactEmail").val(sUtil.atrim(loginData.email));
                        $("#txtContactEmail").parent().parent().addClass("label-active");
                    } else {
                        $("#txtContactEmail").val("");
                        $("#txtContactEmail").parent().parent().removeClass("label-active");
                    }
                }

                if (!loginData.isMember && $("#selMemberDc" + loginPsgrNo).length > 0) {
                    $("#selMemberDc" + loginPsgrNo).prop("disabled", true);
                }
            } else {

                if ($("#btnReFindMember" + loginPsgrNo).is(":visible") && !sUtil.isEmpty($("#hidFfpNo" + loginPsgrNo).val())) {
                    $("#btnReFindMember" + loginPsgrNo).trigger("click");
                }

                let lastName = "";
                let firstName = "";
                if (domIntType == "D") {
                    lastName = sUtil.nvl(loginData.korLastName, "");
                    firstName = sUtil.nvl(loginData.korFirstName, "");
                } else {
                    lastName = sUtil.nvl(loginData.engLastName, "");
                    firstName = sUtil.nvl(loginData.engFirstName, "");
                }

                $(loginPsgrContainer).find("[name=txtLastName]").val("");
                $(loginPsgrContainer).find("[name=txtFirstName]").val("");
                $(loginPsgrContainer).find("[name=txtLastName]").parent().parent().removeClass("label-active");
                $(loginPsgrContainer).find("[name=txtFirstName]").parent().parent().removeClass("label-active");
                if (loginData.isMember && !sUtil.isEmpty(lastName)) {
                    $(loginPsgrContainer).find("[name=txtLastName]").prop("readonly", false);
                    $(loginPsgrContainer).find("[name=txtLastName]").siblings("button").prop("disabled", false);
                }
                if (loginData.isMember && !sUtil.isEmpty(firstName)) {
                    $(loginPsgrContainer).find("[name=txtFirstName]").prop("readonly", false);
                    $(loginPsgrContainer).find("[name=txtFirstName]").siblings("button").prop("disabled", false);
                }

                $(loginPsgrContainer).find("[name=hidFfpNo]").val("");
                $(loginPsgrContainer).find("[name=hidMemberId]").val("");
                $(loginPsgrContainer).find("[name=hidMemberGrade]").val("");
                $(loginPsgrContainer).find("[name=hidEnrollDate]").val("");
                $(loginPsgrContainer).find("[name=hidFriendNo]").val("");

                $(loginPsgrContainer).find("[name=rdoGender" + loginPsgrNo + "]:input[value=1]").prop("checked", true);

                if ($(loginPsgrContainer).find("[id^=birth]").length > 0) {
                    $(loginPsgrContainer).find("[name=txtYear]").val("");
                    $(loginPsgrContainer).find("[name=selMonth]").val("").trigger("change");
                    $(loginPsgrContainer).find("[name=selDate]").val("").trigger("change");
                }

                if ($(loginPsgrContainer).find("[name=btnNationality]").length > 0) {
                    $(loginPsgrContainer).find("[name=btnNationality]").text(getNationalityName(countryCode));
                    $(loginPsgrContainer).find("[name=hidNationality]").val(countryCode).trigger("change");
                }
                if (amFlag) {
                    $("#txtPhone" + loginPsgrNo).val("");
                    $("#btnPhoneCountryCode" + loginPsgrNo).text("+82");
                    $("#hidPhoneCountryCode" + loginPsgrNo).val("82");

                    $("#txtEmail" + loginPsgrNo).val("");
                    $("#txtEmail" + loginPsgrNo).parent().parent().removeClass("label-active");
                } else {
                    $("#btnCountryCode").text("+82");
                    $("#hidCountryCode").val("82");

                    $("#txtContactPhone").val("");
                    $("#txtContactEmail").val("");
                    $("#txtContactEmail").parent().parent().removeClass("label-active");
                }

                if (!loginData.isMember && $("#selMemberDc" + loginPsgrNo).length > 0) {
                    $("#selMemberDc" + loginPsgrNo).prop("disabled", false);
                }
            }

            getDiscountList(loginPsgrNo);
            setPassengerTab($(loginPsgrContainer));
            checkInputComplete(checkPsgrInput(loginPsgrNo));
            $(loginPsgrContainer).find(".input--error").removeClass("input--error");
            $("#divContact").find(".input--error").removeClass("input--error");
        };

        let getAge = function (strBirthDate, strBaseDate) {
            strBirthDate = strBirthDate.replace(/[^0-9]/gi, "");
            strBaseDate = strBaseDate.replace(/[^0-9]/gi, "");
            let toYear = strBaseDate.substring(0, 4);
            let toMonth = strBaseDate.substring(4, 6);
            let toDate = strBaseDate.substring(6, 8);
            let pYear = strBirthDate.substring(0, 4);
            let pMonth = strBirthDate.substring(4, 6);
            let pDate = strBirthDate.substring(6, 8);

            let today = new Date(toYear, toMonth, toDate);
            let birthDate = new Date(pYear, pMonth, pDate);

            let age = today.getFullYear() - birthDate.getFullYear();
            let m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        };


        let checkLoginPassengerType = function () {
            let firstPassengerType = $("#psgrContainer0").data("passenger-type");
            if (!sUtil.isEmpty(loginData.birthDate)) {
                let tmpNo = 0;
                let loginPassengerType = "";

                let baseDate = arrJourney[0].designator.departure.substring(0, 10).replace(/[^0-9]/gi, "");
                let loginAge = getAge(loginData.birthDate, baseDate);

                if (domIntType == "D") {
                    if (loginAge >= 13) {
                        loginPassengerType = "ADT";
                    } else if (loginAge >= 2 && loginAge < 13) {
                        loginPassengerType = "CHD";
                    }
                } else {
                    if (loginAge >= 12) {
                        loginPassengerType = "ADT";
                    } else if (loginAge >= 2 && loginAge < 12) {
                        loginPassengerType = "CHD";
                    }
                }

                loginData.loginPassengerType = loginPassengerType;

                if (loginPassengerType != firstPassengerType) {
                    $("[id^=psgrContainer]").each(function (idx, item) {
                        if ($(item).data("passenger-type") == loginPassengerType) {
                            tmpNo = idx;
                            return false;
                        }
                    });

                    if (tmpNo > 0) {
                        loginPsgrNo = tmpNo;
                        $("#divChkSelf").prependTo($("#psgrContainer" + loginPsgrNo + " .passenger-info-box"));
                        $("#divChkSame").remove();
                    } else {
                        if (["Promotion", "FOC", "Point"].indexOf(bookType) > -1) {
                            $("#divChkSelf").remove();
                        }
                    }
                }
            } else {
                loginData.loginPassengerType = firstPassengerType;
            }
        };


        let setFriendData = function (psgrNo, fObj) {
            let psgrContainer = $("#psgrContainer" + psgrNo);
            let passengerkey = $(psgrContainer).data("passengerkey");
            let psgrType = arrPsgr[passengerkey].passengerTypeCode;
            let psgrLastName = "";
            let psgrFirstName = "";

            if (domIntType == "D") {
                if (sUtil.isEmpty(fObj.korFirstName) && sUtil.isEmpty(fObj.korLastName) && !sUtil.isEmpty(fObj.engFirstName) && !sUtil.isEmpty(fObj.engLastName)) {
                    psgrLastName = fObj.engLastName;
                    psgrFirstName = fObj.engFirstName;
                } else {
                    psgrLastName = sUtil.nvl(fObj.korLastName, "");
                    psgrFirstName = sUtil.nvl(fObj.korFirstName, "");
                }

                if (!sUtil.isEmpty(fObj.nationality)) {
                    $(psgrContainer).find("[name=btnNationality]").text(getNationalityName(fObj.nationality));
                    $(psgrContainer).find("[name=hidNationality]").val(fObj.nationality);
                } else {
                    $(psgrContainer).find("[name=btnNationality]").text(getNationalityName(countryCode));
                    $(psgrContainer).find("[name=hidNationality]").val(countryCode);
                }
            } else {
                psgrLastName = sUtil.nvl(fObj.engLastName, "");
                psgrFirstName = sUtil.nvl(fObj.engFirstName, "");
            }
            $(psgrContainer).find("[name=txtFirstName]").val(psgrFirstName);
            $(psgrContainer).find("[name=txtLastName]").val(psgrLastName);
            if (!sUtil.isEmpty($(psgrContainer).find("[name=txtLastName]").val())) {
                $(psgrContainer).find("[name=txtFirstName]").parent().parent().addClass("label-active");
                $(psgrContainer).find("[name=txtFirstName]").trigger("blur");
            } else {
                $(psgrContainer).find("[name=txtFirstName]").parent().parent().removeClass("label-active");
            }
            if (!sUtil.isEmpty($(psgrContainer).find("[name=txtLastName]").val())) {
                $(psgrContainer).find("[name=txtLastName]").parent().parent().addClass("label-active");
                $(psgrContainer).find("[name=txtLastName]").trigger("blur");
            } else {
                $(psgrContainer).find("[name=txtLastName]").parent().parent().removeClass("label-active");
            }
            setPassengerTab($(psgrContainer).find("[name=txtLastName]"));

            if (!sUtil.isEmpty(fObj.gender)) {
                let strGenger = fObj.gender == "M" ? "1" : "2";
                $(psgrContainer).find("[name=rdoGender" + psgrNo + "]:input[value=" + strGenger + "]").prop("checked", true);
            }

            if ($(psgrContainer).find("[id^=birth]").length > 0 && !sUtil.isEmpty(fObj.birthday)) {
                let year = fObj.birthday.substring(0, 4);
                let month = Number(fObj.birthday.substring(4, 6));
                let date = Number(fObj.birthday.substring(6, 8));
                $(psgrContainer).find("[name=txtYear]").val(year);
                $(psgrContainer).find("[name=selMonth]").val(month).trigger("change");
                $(psgrContainer).find("[name=selDate]").val(date).trigger("change");
            }

            $(psgrContainer).find("[name=hidFfpNo]").val(sUtil.nvl(fObj.ffpNo, ""));
            $(psgrContainer).find("[name=hidMemberGrade]").val(sUtil.nvl(fObj.memberGrade, ""));
            $(psgrContainer).find("[name=hidEnrollDate]").val(sUtil.nvl(fObj.enrollDate, ""));
            $(psgrContainer).find("[name=hidMemberId]").val(sUtil.nvl(fObj.memberId, ""));
            $(psgrContainer).find("[name=hidFriendNo]").val(sUtil.nvl(fObj.friendNo, ""));

            checkInputComplete(checkPsgrInput(psgrNo));
            getDiscountList(psgrNo);
        };


        let setPets = function () {
            let arrPetContainer = $("[id^=divAnm]");
            let arrPet = new Array();

            for (let key in arrPsgr) {
                arrPet[key] = new Array();
            }

            for (let i = 0; i < arrPetContainer.length; i++) {
                let petItems = $(arrPetContainer[i]).find("[id^=itemAnm]");
                for (let j = 0; j < petItems.length; j++) {
                    let tmpObj = {};
                    let originAirport = arrJourney[i].designator.origin;
                    let destinationAirport = arrJourney[i].designator.destination;
                    let petCode = $(petItems[j]).find("[name^=rdoAnm]:checked").val();
                    let gdnKey = $(petItems[j]).find("[name=selGdn]").val();

                    tmpObj = {
                        originAirport: originAirport,
                        destinationAirport: destinationAirport,
                        petCode: petCode,
                        petSSR: "PETC"
                    };
                    arrPet[gdnKey].push(tmpObj);
                }
            }
            return arrPet;
        };


        let setPassengerInfo = function () {
            let psgrArr = new Array();
            let psgrObj = new Object();
            let infArr = new Array();
            let contactArr = new Array();
            let contactObj = new Object();
            let addressObj = new Object();
            let arrPet;
            let returnObj = {};


            let contactPhone = "";
            let contactEmail = "";

            if (amFlag) {
                let tmpNo = loginData.loginPassengerType == "CHD" ? 0 : loginPsgrNo;
                contactPhone = $("#hidPhoneCountryCode" + tmpNo).val() + "-" + $("#txtPhone" + tmpNo).val();
                contactEmail = $("#txtEmail" + tmpNo).val();

                // 미주노선 체류지
                if ($("#selAddress").val() == "direct") {
                    addressObj.lineOne = $("#txtDirect").val();
                    addressObj.countryCode = "US";
                    addressObj.city = $("#txtCity").val();
                    addressObj.provinceState = $("#selProvinceState option:selected").val();
                    addressObj.postalCode = $("#txtPostalCode").val();
                } else {
                    addressObj.lineOne = $("#selAddress").val();
                    addressObj.countryCode = "US";
                    addressObj.city = $("#selAddress option:selected").data("cityname");
                    addressObj.provinceState = $("#selAddress option:selected").data("stateaddr");
                    addressObj.postalCode = $("#selAddress option:selected").data("zipcode");
                }
            } else {
                contactPhone = $("#hidCountryCode").val() + "-" + $("#txtContactPhone").val();
                contactEmail = $("#txtContactEmail").val();
            }

            contactObj.phone = contactPhone;
            contactObj.emailAddress = contactEmail;

            if (loginData.isMember) {
                contactObj.customerNumber = sUtil.nvl(loginData.customerNo, '');
                contactObj.firstName = domIntType == "D" ? sUtil.nvl(loginData.korFirstName, '').toUpperCase() : sUtil.nvl(loginData.engFirstName, '').toUpperCase();
                contactObj.lastName = domIntType == "D" ? sUtil.nvl(loginData.korLastName, '').toUpperCase() : sUtil.nvl(loginData.engLastName, '').toUpperCase();
            } else {
                contactObj.customerNumber = "";
                contactObj.firstName = $("#txtFirstName0").val().toUpperCase();
                contactObj.lastName = $("#txtLastName0").val().toUpperCase();
            }
            contactArr.push(contactObj);

            if (domIntType == "D" && $("[name=rdoPets]:checked").val() == "Y") {
                arrPet = setPets();
            }

            $.each($("[id^=psgrContainer]"), function (idx, item) {
                psgrObj = new Object();
                let passengerkey = $("#psgrContainer" + idx).data("passengerkey");
                let psgrType = arrPsgr[passengerkey].passengerTypeCode;
                let psgrCustomerNumber = $(this).find("[name=hidFfpNo]").val();
                let psgrMemberGrade = $(this).find("[name=hidMemberGrade]").val();
                let psgrFirstName = $(this).find("[name=txtFirstName]").val().toUpperCase();
                let psgrLastName = $(this).find("[name=txtLastName]").val().toUpperCase();
                let psgrGender = $(this).find("[name=rdoGender" + idx + "]:checked").val();
                let psgrBirth = "";
                let psgrNationality = "";

                let discountItem = "";
                let discountCode = "";
                if ($(this).find("[name^=rdoDC]").length > 0) {
                    discountItem = $(this).find("[name^=rdoDC]:checked").val() == "P" ? $(this).find("[id=selPersonalDc" + idx + "]") : $(this).find("[id=selMemberDc" + idx + "]");
                    discountCode = $(discountItem).val();
                } else if ($(this).find("[id=selPersonalDc" + idx + "]").length > 0) {
                    discountItem = $(this).find("[id=selPersonalDc" + idx + "]");
                    discountCode = $(discountItem).val();
                } else if ($(this).find("[id=selMemberDc" + idx + "]").length > 0) {
                    discountItem = $(this).find("[id=selMemberDc" + idx + "]");
                    discountCode = $(discountItem).val();
                }

                if (psgrType != "INF") {
                    psgrObj.passengerKey = passengerkey;
                    psgrObj.customerNumber = psgrCustomerNumber;
                    psgrObj.programLevelCode = psgrMemberGrade;
                    psgrObj.first = psgrFirstName;
                    psgrObj.last = psgrLastName;
                    psgrObj.gender = psgrGender;
                    psgrObj.passengerNumber = idx;

                    psgrBirth = $(this).find("[name=txtYear]").val() + "-" + ("0" + $(this).find("[name=selMonth]").val()).slice(-2) + "-" + ("0" + $(this).find("[name=selDate]").val()).slice(-2);
                    psgrObj.dateOfBirth = psgrBirth;

                    if ($(this).find("[name=hidNationality]").length > 0) {
                        psgrNationality = $(this).find("[name=hidNationality]").val();
                        psgrObj.nationality = psgrNationality;
                    }
                    // 미주노선
                    if (amFlag) {
                        if (psgrType == "ADT" || onlyChildFlag) {

                            if ($(this).find("[name=txtPhone]").attr("id").indexOf("0") != -1) {
                                psgrObj.phone = $(this).find("[name=hidPhoneCountryCode]").val() + "-" + $(this).find("[name=txtPhone]").val();
                            } else {

                                if ($(this).find("[name=txtPhone]").val().length > 2) {
                                    psgrObj.phone = $(this).find("[name=hidPhoneCountryCode]").val() + "-" + $(this).find("[name=txtPhone]").val();
                                }
                            }


                            if ($(this).find("[name=txtEmergencyPhone]").val().length > 2) {
                                psgrObj.emergencyPhone = $(this).find("[name=hidEmergencyCountryCode]").val() + "-" + $(this).find("[name=txtEmergencyPhone]").val();
                            }


                            if ($(this).find("[name=txtEmail]").attr("id").indexOf("0") != -1) {
                                psgrObj.emailAddress = $(this).find("[name=txtEmail]").val();
                            } else {
                                if ($(this).find("[name=txtEmail]").val().length > 0) {
                                    psgrObj.emailAddress = $(this).find("[name=txtEmail]").val();
                                }
                            }
                        } else {
                            // 소아의 경우 첫번째 탑승객 연락처 정보 입력
                            psgrObj.phone = psgrArr[0].phone;


                            if (psgrArr[0].emergencyPhone != null) {
                                if (psgrArr[0].emergencyPhone.length > 2) {
                                    psgrObj.emergencyPhone = psgrArr[0].emergencyPhone;
                                }
                            }

                            psgrObj.emailAddress = psgrArr[0].emailAddress;
                        }
                    }
                    // 반려동물 동반
                    if (domIntType == "D" && $("[name=rdoPets]:checked").val() == "Y") {
                        psgrObj.pets = arrPet[passengerkey].length > 0 ? arrPet[passengerkey] : "";
                    }
                    // 할인 정보
                    if (discountCode != "") {
                        let discountType = $(discountItem).find("option:selected").data("type");
                        psgrObj.discountCode = discountCode;
                        psgrObj.discountType = discountType;
                    }

                    if (onlyChildFlag) {
                        if ($("[name=rdoCompanion]:checked").val() == "Y") {
                            let arrCompanionObj = $("#divCompanionY [id^=divCompanionY]");
                            psgrObj.existCompanion = true;
                            psgrObj.companions = [];

                            $.each($(arrCompanionObj), function (idx, item) {
                                let tmpObj = {
                                    name: $(item).find("[name=txtCompanionName]").val(),
                                    phone: $(item).find("[name=txtCompanionPhone]").val(),
                                    pnrNo: $(item).find("[name=txtCompanionPnrNo]").val()
                                };
                                psgrObj.companions.push(tmpObj);
                            });
                        } else {
                            let arrGuardianObj = $("#divCompanionN [id^=divCompanionN]");
                            psgrObj.existCompanion = false;
                            psgrObj.UMSSR = "PDUM";
                            psgrObj.companions = [];

                            $.each($(arrGuardianObj), function (idx, item) {
                                let designatorObj = arrJourney[idx].designator;
                                let depObj = {
                                    originAirport: designatorObj.origin,
                                    destinationAirport: designatorObj.destination,
                                    companionType: "DEP",
                                    name: $(item).find("[name=txtDepGuardianName]").val(),
                                    phone: $(item).find("[name=txtDepGuardianPhone]").val()
                                };
                                let arrObj = {
                                    originAirport: designatorObj.origin,
                                    destinationAirport: designatorObj.destination,
                                    companionType: "ARR",
                                    name: $(item).find("[name=txtArrGuardianName]").val(),
                                    phone: $(item).find("[name=txtArrGuardianPhone]").val()
                                };
                                psgrObj.companions.push(depObj);
                                psgrObj.companions.push(arrObj);
                            });
                        }
                    }

                    psgrArr.push(psgrObj);
                } else {
                    // 유아 정보
                    let infantObj = new Object();
                    let parentKey = "";

                    infantObj.dateOfBirth = $(this).find("[name=txtYear]").val() + "-" + ("0" + $(this).find("[name=selMonth]").val()).slice(-2) + "-" + ("0" + $(this).find("[name=selDate]").val()).slice(-2);
                    infantObj.nationality = $(this).find("[name=hidNationality]").val();
                    infantObj.gender = $(this).find("[name=rdoGender" + idx + "]:checked").val();
                    infantObj.first = $(this).find("[name=txtFirstName]").val().toUpperCase();
                    infantObj.last = $(this).find("[name=txtLastName]").val().toUpperCase();
                    parentKey = $(this).find("[name=selParent]").val();
                    infArr[parentKey] = infantObj;
                }
            });

            for (let iKey in infArr) {
                for (let pKey in psgrArr) {
                    if (psgrArr[pKey].passengerKey == iKey) {
                        psgrArr[pKey].infant = infArr[iKey];
                    }
                }
            }

            returnObj = {
                passengers: psgrArr,
                contact: contactArr,
                cultureCode: cultureCode,
                bookType: bookType,
                amFlag: amFlag
            };

            if (amFlag) {
                returnObj.inCountryInfo = addressObj;
            }

            if (bookType == "FOC" || bookType == "Promotion") {
                let discountObj = sellRes.discountInfo;
                returnObj.discountInfo = discountObj;
            }


            return returnObj;
        };


        let saveFriends = function () {
            let checkedPsgr = $("[id^=chkSave]:checked");
            let arrFriendsData = new Array();

            $.each($(checkedPsgr), function (idx, item) {
                let infFlag = $(item).attr("id").indexOf("inf") > -1;
                let psgrId = $(item).attr("id").replace("chkSave", "");
                let psgrNo = $(item).attr("id").replace(/[^0-9]/gi, "");
                if (Number(psgrNo) == loginPsgrNo && !infFlag && !$("#chkSelf").prop("checked")) {
                    return;
                }
                let friendObj = {};
                friendObj.mbrId = loginData.userId;

                if (domIntType == "D") {
                    friendObj.korFirstName = $("#txtFirstName" + psgrId).val().toUpperCase();
                    friendObj.korLastName = $("#txtLastName" + psgrId).val().toUpperCase();
                } else {
                    friendObj.engFirstName = $("#txtFirstName" + psgrId).val().toUpperCase();
                    friendObj.engLastName = $("#txtLastName" + psgrId).val().toUpperCase();
                }

                friendObj.friendNo = $("#hidFriendNo" + psgrId).val();
                friendObj.nationality = $("#hidNationality" + psgrId).length > 0 ? $("#hidNationality" + psgrId).val() : "";
                friendObj.sex = $("[name=rdoGender" + psgrId + "]:checked").val() == "1" ? "M" : "W";
                friendObj.dateOfBirth = $("#txtYear" + psgrId).length > 0 && $("#selMonth" + psgrId).length > 0 && $("#selDate" + psgrId).length > 0 ?
                    $("#txtYear" + psgrId).val() + ("0" + $("#selMonth" + psgrId).val()).slice(-2) + ("0" + $("#selDate" + psgrId).val()).slice(-2) : "";

                arrFriendsData.push(friendObj);
            });

            if (arrFriendsData.length > 0) {
                $.ajax({
                    type: "post",
                    url: "saveFriends.json",
                    data: {
                        arrFriends: JSON.stringify(arrFriendsData)
                    },
                    success: function (data) {
                    }
                });
            }
        };


        let checkFocPaxName = function () {
            let result = false;
            let tmpReq = {
                focNumber: sellRes.discountInfo.discountNumber,
                passengers: []
            };

            $.each($("[id^=psgrContainer]"), function (idx, item) {
                let psgrObj = {};
                let passengerkey = $(item).data("passengerkey");
                psgrObj.lastName = $(item).find("[name=txtLastName]").val(),
                    psgrObj.firstName = $(item).find("[name=txtFirstName]").val(),
                    psgrObj.passengerTypeCode = arrPsgr[passengerkey].passengerTypeCode
                tmpReq.passengers.push(psgrObj);
            });

            $.ajax({
                async: false,
                type: "post",
                url: "checkFocPaxName.json",
                data: {
                    focReq: JSON.stringify(tmpReq)
                },
                success: function (data) {
                    if (data.data.data.result == "Y") {
                        result = true;
                    }
                }
            });
            return result;
        };


        let doNext = function (flag) {
            // FOC 프로모션 인 경우 Name 체크
            if (bookType == "FOC") {
                if (!checkFocPaxName()) {
                    $.JJAlert("탑승객의 성명이 일치하지 않습니다.");
                    return false;
                }
            }

            // 신분할인 해당자, 동반자 수 체크
            if (domIntType == 'D') {
                let cntSB = 0;	// 장애인
                let cntXSH = 0;	// 장애인 동반자
                let cntIPE = 0;	// 국가유공자
                let cntXI = 0;	// 국가유공 동반자
                let cntNI = 0;	// 독립유공자
                let cntXN = 0;	// 독립유공 동반자
                let cntPR = 0;	// 수험생
                let cntXP = 0;	// 수험생 동반자

                $.each($("[id^=psgrContainer]"), function (idx, item) {
                    let discountItem = $(item).find("[name^=rdoDC]").length > 0 ? ($(item).find("[name^=rdoDC]:checked").val() == "P" ? $(item).find("[id=selPersonalDc" + idx + "]") : $(item).find("[id=selMemberDc" + idx + "]")) : $(item).find("[id=selMemberDc" + idx + "]");
                    let discountCode = $(discountItem).val();
                    let discountType = sUtil.isEmpty(discountCode) ? "" : $(discountItem).find("option:selected").data("code");
                    if (!sUtil.isEmpty(discountCode) && !sUtil.isEmpty(discountCode) && discountType == "D") {
                        switch (item.discountCode) {
                            case "SB": cntSB++; break;
                            case "XSH": cntXSH++; break;
                            case "IPE": cntIPE++; break;
                            case "XI":
                            case "XIE": cntXI++; break;
                            case "NI": cntNI++; break;
                            case "XN": cntXN++; break;
                            case "PR":
                            case "PRH":
                            case "PRE": cntPR++; break;
                            case "XP":
                            case "XPH":
                            case "XPE": cntXP++; break;
                        }
                    }
                });

                if (cntSB < cntXSH) {
                    $.JJAlert("장애인의 인원보다 장애인 동반자의 인원이 많을 수 없습니다.\n적용운임을 다시 선택하여 주십시오.");
                    return false;
                }
                if (cntIPE < cntXI) {
                    $.JJAlert("국가유공상이자의 인원보다 국가유공상이자 동반자의 인원이 많을 수 없습니다.\n적용운임을 다시 선택하여 주십시오.");
                    return false;
                }
                if (cntNI < cntXN) {
                    $.JJAlert("독립유공자의 인원보다 독립유공자 동반자의 인원이 많을 수 없습니다.\n적용운임을 다시 선택하여 주십시오.");
                    return false;
                }
                if (cntPR < cntXP) {
                    $.JJAlert("수험생 할인의 인원보다 수험생 할인 동반자의 인원이 많을 수 없습니다.\n적용운임을 다시 선택하여 주십시오.");
                    return false;
                }
            }

            if (domIntType == "D" && $("[name=rdoPets]:checked").val() == "Y") {
                let result = true;
                let arrPetContainer = $("[id^=divAnm]");
                for (let i = 0; i < arrPetContainer.length; i++) {
                    let petItems = $(arrPetContainer[i]).find("[id^=itemAnm]");
                    for (let j = 0; j < petItems.length; j++) {
                        let gdnKey = $(petItems[j]).find("[name=selGdn]").val();
                        if (sUtil.isEmpty(gdnKey)) {
                            result = false;
                            break;
                        }
                    }
                }
                if ($("[id^=itemAnm]").length <= 0 || !result) {
                    $.JJAlert("반려동물 정보를 입력하시기 바랍니다.");
                    return false;
                }
            }

            // 단독 소아 예매 시
            if (onlyChildFlag) {
                // 비동반 소아 불가 노선
                if (!umFlag && $("[name=rdoCompanion]:checked").val() == "N") {
                    $.JJAlert("선택하신 여정은 소아 1인 단독으로 예매하실 수 없습니다.");
                    return false;
                }

                if ($("[name=rdoCompanion]:checked").val() == "N") {
                    $("#chkAgreeUm").prop("checked", false);
                    $("#modalUmInfo").find("button").removeClass("button--active");
                    $("#modalUmInfo").find("button").off("click").on("click", function () { savePassengers(flag); closeCurrentModal(this); });
                    fullPopOpen("modalUmInfo");
                } else {
                    $("#chkAgreeOnlyChild").prop("checked", false);
                    $("#modalOnlyChildInfo").find("button").removeClass("button--active");
                    $("#modalOnlyChildInfo").find("button").off("click").on("click", function () { savePassengers(flag); closeCurrentModal(this); });
                    fullPopOpen("modalOnlyChildInfo");
                }
                return false;
            }

            savePassengers(flag);
        };

        let savePassengers = function (flag) {
            clearTimeout(setOccupancyTimeOut);


            let psgrInfo = setPassengerInfo();
            $.ajax({
                type: "post",
                url: "savePassengers.json",
                beforeSend: function (request) {
                    request.setRequestHeader("AgentId", sellRes.data.sales.created.organizationCode == '7C' ? '' : sellRes.data.sales.created.agentCode);
                    request.setRequestHeader("PssToken", PssToken);
                },
                data: {
                    passengerReq: JSON.stringify(psgrInfo)
                },
                success: function (data) {
                    if (data.code == "0000" && !sUtil.isEmpty(data.data)) {
                        if (data.data.code == "0000") {
                            let res = data.data.data;
                            let findObj = {
                                cultureCode: cultureCode
                            };

                            $.ajax({
                                type: "post",
                                url: "findBookingPnr.json",
                                beforeSend: function (request) {
                                    request.setRequestHeader("AgentId", sellRes.data.sales.created.organizationCode == '7C' ? '' : sellRes.data.sales.created.agentCode);
                                    request.setRequestHeader("PssToken", res.token);
                                    request.setRequestHeader("Pnr", data.data.data.recordLocator);
                                },
                                data: {
                                    bookingReq: JSON.stringify(findObj),
                                    bookType: bookType
                                },
                                success: function (data) {
                                    if (data.code == "0000" && !sUtil.isEmpty(data.data)) {
                                        if (data.data.code == "0000") {
                                            let pnrData = data.data.data;
                                            pnrData.discountInfo = sUtil.nvl(sellRes.discountInfo, '');
                                            pnrData.voucherInfo = sUtil.nvl(sellRes.voucherInfo, '');
                                            if (loginData.isMember) {
                                                saveFriends();
                                            }

                                            if (flag == "P") {
                                                _pay_pnrDataObj = pnrData;


                                                getPaymentList(goPayment, customerAuthYn);
                                            } else if (flag == "A") {

                                                let findBookingRes = pnrData;
                                                findBookingRes.discountInfo = sellRes.discountInfo;
                                                findBookingRes.voucherInfo = sellRes.voucherInfo;

                                                $("#frmForAncillary [name=pnrData]").val(JSON.stringify(findBookingRes));
                                                $("#frmForAncillary [name=payType]").val(payType);
                                                $("#frmForAncillary [name=bookType]").val(bookType);
                                                $("#frmForAncillary [name=tripType]").val(tripType);
                                                $("#frmForAncillary [name=domIntType]").val(domIntType);
                                                $("#frmForAncillary [name=cultureCode]").val(cultureCode);
                                                $("#frmForAncillary [name=rpnr]").val(findBookingRes.recordLocator);

                                                $('#frmForAncillary').attr({
                                                    'method': 'post',
                                                    'onsubmit': 'return true',
                                                    'action': '../ancillary/SeatSelect.do'
                                                }).submit();
                                            } else if (flag == "S") {

                                                let findBookingRes = pnrData;
                                                findBookingRes.discountInfo = sellRes.discountInfo;
                                                findBookingRes.voucherInfo = sellRes.voucherInfo;

                                                $("#frmSkip [name=pnrData]").val(JSON.stringify(findBookingRes));
                                                $("#frmSkip [name=payType]").val(payType);
                                                $("#frmSkip [name=bookType]").val(bookType);
                                                $("#frmSkip [name=tripType]").val(tripType);
                                                $("#frmSkip [name=domIntType]").val(domIntType);
                                                $("#frmSkip [name=saleTypeCd]").val(_pay_saleTypeCd);
                                                $("#frmSkip [name=productTypeCode]").val("RSV");
                                                $("#frmSkip [name=rpnr]").val(findBookingRes.recordLocator);

                                                $('#frmSkip').attr({
                                                    'method': 'post',
                                                    'onsubmit': 'return true',
                                                    'action': 'viewConfirm.do'
                                                }).submit();
                                            }
                                        } else {
                                            let datas = { title: data.data.code, message: data.data.message };
                                            $.JJAlert(datas);
                                        }
                                    } else {
                                        let datas = { title: data.code, message: data.message };
                                        $.JJAlert(datas);
                                    }
                                }
                            });
                        } else {
                            let datas = { title: data.data.code, message: data.data.message };
                            $.JJAlert(datas, function () {
                                if (USER_DEVICE.getName() == "APP") {
                                    APPCALL.goMain();
                                } else {
                                    location.href = "/";
                                }
                            });
                        }
                    } else {
                        let datas = { title: data.code, message: data.message };
                        $.JJAlert(datas, function () {
                            if (USER_DEVICE.getName() == "APP") {
                                APPCALL.goMain();
                            } else {
                                location.href = "/";
                            }
                        });
                    }
                }
            });
        };


        let goPayment = function (result) {
            _pay_pnrDataObj.discountInfo = sellRes.discountInfo;
            _pay_pnrDataObj.voucherInfo = sellRes.voucherInfo;
            $("#frmForPayment [name=bookType]").val(bookType);
            $("#frmForPayment [name=domIntType]").val(domIntType);
            $("#frmForPayment [name=tripType]").val(tripType);
            $("#frmForPayment [name=pnrData]").val(JSON.stringify(_pay_pnrDataObj));
            $("#frmForPayment [name=paymentData]").val(JSON.stringify(result));

            $('#frmForPayment').attr({
                'method': 'post',
                'onsubmit': 'return true',
                'action': '../payment/viewPayment.do'
            }).submit();
        };


        let inputPhoneNo = function (evt) {
            let strPhone = $(evt.target).val().replace(/[^0-9]/gi, "");
            if (strPhone.length > 8) {
                $(evt.target).val(sUtil.fmtHpNum(strPhone));
            }
            $(evt.target).trigger("change");
        };

        let checkName = function (strName, strTest) {
            if (strName.replace(strTest, "") == "") {
                return true;
            } else {
                return false;
            }
        };

        let checkNameLength = function (evt) {
            let pdx = typeof evt == "object" ? $(evt.target).attr("id").replace(/[^0-9]/gi, "") : evt;

            let lastName = $("#txtLastName" + pdx).val();
            let firstName = $("#txtFirstName" + pdx).val();

            let korChk = /[\uAC00-\uD7A3]/gi;
            let engChk = /[a-zA-Z]/gi;

            // 혼합 입력, 단독 입력 길이 체크
            if (typeof evt == "object" && !sUtil.isEmpty($(evt.target).val())) {
                let thisVal = $(evt.target).val();
                if (!checkName(thisVal, korChk) && !checkName(thisVal, engChk)) {
                    $(evt.target).parents(".input-item").find("p").text(arrErrorMessage[$(evt.target).attr("name")].validation);
                    $(evt.target).parents(".input-item").addClass("input--error");
                    return false;
                }

                if (checkName(thisVal, engChk)) {
                    if (thisVal.length > 32) {
                        $(evt.target).parents(".input-item").find("p").text(arrErrorMessage[$(evt.target).attr("name")].validation);
                        $(evt.target).parents(".input-item").addClass("input--error");
                        return false;
                    }
                } else {
                    if ($(evt.target).attr("name") == "txtLastName" && thisVal.length > 2) {
                        $(evt.target).parents(".input-item").find("p").text(arrErrorMessage[$(evt.target).attr("name")].validation);
                        $(evt.target).parents(".input-item").addClass("input--error");
                        return false;
                    }
                }
                $(evt.target).parents(".input-item").removeClass("input--error");
            } else {
                if (!checkName(lastName, korChk) && !checkName(lastName, engChk)) {
                    $("#txtLastName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtLastName"].validation);
                    $("#txtLastName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }
                if (!checkName(firstName, korChk) && !checkName(firstName, engChk)) {
                    $("#txtFirstName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtFirstName"].validation);
                    $("#txtFirstName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }
            }

            // 유효성 체크
            if (checkName(lastName, korChk) && checkName(firstName, korChk)) {
                if (lastName.length > 2) {
                    $("#txtLastName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtLastName"].validation);
                    $("#txtLastName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }
                if (lastName.length + firstName.length > 10) {
                    $("#txtFirstName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtFirstName"].validation);
                    $("#txtFirstName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }

                $("#txtLastName" + pdx).parents(".input-item").removeClass("input--error");
                $("#txtFirstName" + pdx).parents(".input-item").removeClass("input--error");
                return true;
            } else if (checkName(lastName, engChk) && checkName(firstName, engChk)) {
                if (lastName.length > 32) {
                    $("#txtLastName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtLastName"].validation);
                    $("#txtLastName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }
                if (firstName.length > 32) {
                    $("#txtFirstName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtFirstName"].validation);
                    $("#txtFirstName" + pdx).parents(".input-item").addClass("input--error");
                    return false;
                }

                $("#txtLastName" + pdx).parents(".input-item").removeClass("input--error");
                $("#txtFirstName" + pdx).parents(".input-item").removeClass("input--error");
                return true;
            } else {
                $("#txtLastName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtLastName"].validation);
                $("#txtLastName" + pdx).parents(".input-item").addClass("input--error");
                $("#txtFirstName" + pdx).parents(".input-item").find("p").text(arrErrorMessage["txtFirstName"].validation);
                $("#txtFirstName" + pdx).parents(".input-item").addClass("input--error");
                return false;
            }
        };



        let btnNextTabClick = function (evt) {
            let buttons = $("#divTabs").find("button");
            let activeBtn = $("#divTabs").find("button.is-active");

            $(buttons).each(function (idx, item) {
                if ($(item).attr("id") == $(activeBtn).attr("id")) {
                    if ($($(buttons)[idx + 1]).prop("disabled")) {
                        evt.stopImmediatePropagation();
                    }
                    return;
                }
            });
        };


        let sameNationality = function () {
            let nationalityCode = $("#hidNationality" + loginPsgrNo).val();
            let nationalityName = $("#btnNationality" + loginPsgrNo).text();

            $.each($("[name=hidNationality]"), function (idx, item) {
                if (idx == loginPsgrNo) return;
                $(item).val(nationalityCode);
                $(item).siblings("[name=btnNationality]").text(nationalityName);
            });
        };


        let sameContact = function () {
            let phoneCode = $("#hidPhoneCountryCode" + loginPsgrNo).val();
            let phoneCodeName = $("#btnPhoneCountryCode" + loginPsgrNo).text();
            let phoneNo = $("#txtPhone" + loginPsgrNo).val();
            let emergencyCode = $("#hidEmergencyCountryCode" + loginPsgrNo).val();
            let emergenctName = $("#btnEmergencyCountryCode" + loginPsgrNo).text();
            let emergenctPhoneNo = $("#txtEmergencyPhone" + loginPsgrNo).val();
            let email = $("#txtEmail" + loginPsgrNo).val();

            $.each($("[id^=psgrContainer]"), function (idx, item) {
                if (idx == loginPsgrNo) return;
                if ($(item).data("passenger-type") == "ADT") {
                    $(item).find("[name=hidPhoneCountryCode]").val(phoneCode);
                    $(item).find("[name=btnPhoneCountryCode]").text(phoneCodeName);
                    $(item).find("[name=txtPhone]").val(phoneNo);
                    $(item).find("[name=hidEmergencyCountryCode]").val(emergencyCode);
                    $(item).find("[name=btnEmergencyCountryCode]").text(emergenctName);
                    $(item).find("[name=txtEmergencyPhone]").val(emergenctPhoneNo);
                    $(item).find("[name=txtEmail]").val(email);
                    $(item).find("[name=txtEmail]").parents(".input-box").addClass("label-active");
                }
            });
        };

        let initModalDiscountInfo = function () {
            if (!$("#modalDiscountInfo .accordion__anchor:eq(0)").hasClass("is-active")) {
                $("#modalDiscountInfo .accordion__anchor:eq(0)").trigger("click");
            }
        };


        let initPage = function () {

            for (let jKey in sellRes.data.journeys) {
                for (let sKey in sellRes.data.journeys[jKey].segments) {
                    if (sellRes.data.journeys[jKey].segments[sKey].fares[0].productClass == "N") {
                        skipFlag = false;
                        break;
                    }
                }
            }


            let orderKeys = {};
            for (let pKey in sellRes.data.passengers) {
                orderKeys[sellRes.data.passengers[pKey].order] = pKey;
            }
            let sortOrderKeys = Object.keys(orderKeys).sort();
            for (let oKey in sortOrderKeys) {
                let pKey = orderKeys[sortOrderKeys[oKey]];
                arrPsgr[pKey] = {};
                arrPsgr[pKey] = sellRes.data.passengers[pKey];
                if (!sUtil.isEmpty(sellRes.data.passengers[pKey].infant)) {
                    let infKey = pKey + "_inf";
                    arrPsgr[infKey] = sellRes.data.passengers[pKey].infant;
                    arrPsgr[infKey].passengerTypeCode = "INF";
                    arrPsgr[infKey].passengerKey = "";
                }
            }

            passengerFaresCal();


            setSsrData();

            if (!skipFlag || bundleRes.length > 0) {
                skipFlag = false;
                $("#divSkip").remove();
            } else {
                $("#divSkip").addClass("is-active");
                $("#btnSkip").off("click").on("click", function () { doNext('S'); });
                if (tlFlag) {
                    $("#divSkip").addClass("pay-later");
                }
            }


            let strMonth = "";
            let strDate = "";
            for (let i = 0; i < 12; i++) {
                strMonth += '<option value="' + (i + 1) + '">' + (i + 1) + '</option>';
            }
            for (let i = 0; i < 31; i++) {
                strDate += '<option value="' + (i + 1) + '">' + (i + 1) + '</option>';
            }
            $.each($("[name=selMonth]"), function (idx, item) {
                $(item).append(strMonth);
            });
            $.each($("[name=selDate]"), function (idx, item) {
                $(item).append(strDate);
            });

            if (loginData.isMember) {

                if (domIntType == "D" && sUtil.isEmpty(loginData.korLastName) && sUtil.isEmpty(loginData.korFirstName)) {
                    loginData.korLastName = loginData.engLastName;
                    loginData.korFirstName = loginData.engFirstName;
                }
                checkLoginPassengerType();
            }


            if (Number(infCnt) > 0) {
                let strParent = "<option value=''>선택</option>";
                let idx = 0;
                for (let pKey in arrPsgr) {
                    if (arrPsgr[pKey].passengerTypeCode == "ADT") {
                        strParent += '<option value="' + pKey + '">성인 ' + ++idx + '</option>';
                    }
                }
                $("[name=selParent]").html(strParent);
            }

            if (domIntType == "D") {
                $("[name=hidNationality]").val(countryCode);
                $("[name=btnNationality]").text(getNationalityName(countryCode));


                $.ajax({
                    async: false,
                    type: "post",
                    url: "/api/common/biz/guideInfo.json",
                    data: {
                        langCd: I18N.language,
                        categoryNo: "0000000089"
                    },
                    success: function (data) {
                        if (data.code == "0000" && !sUtil.isEmpty(data.data)) {
                            $("#modalDiscountInfo .notice-box").append(data.data.editorCont);
                        }
                    }
                });
            } else if (amFlag) {

                let reqData = {
                    codeType: "address",
                    cultureCode: I18N.language.substr(0, 2) + "-" + I18N.country,
                    arrStn: amStn
                };

                $.ajax({
                    type: "post",
                    url: "getAddress.json",
                    data: {
                        commonCodeReq: JSON.stringify(reqData)
                    },
                    success: function (data) {
                        let strHtml = "<option value=''>선택</option>";
                        if (data.code == "0000" && data.data.code == "0000") {
                            let arrAddress = [];
                            arrAddress = data.data.data.addresses;
                            if (arrAddress.length > 0) {
                                for (let i = 0; i < arrAddress.length; i++) {
                                    strHtml += '<option value="' + arrAddress[i].stayAddr + '" data-stateAddr="' + arrAddress[i].stateAddr + '" data-cityName="' + arrAddress[i].cityName + '" data-zipCode="' + arrAddress[i].zipCode + '">' + arrAddress[i].stayAddr + '</option>';
                                }
                            }
                        }
                        strHtml += '<option value="direct">직접 입력</option>';
                        $("#selAddress").html(strHtml);
                    }
                });
            }

            if (onlyChildFlag) {
                let arrCountry = [];
                let phFlag = false;
                let spFlag = false;
                let laFlag = false;

                $.ajax({
                    async: false,
                    type: "post",
                    url: "getStationCountry.json",
                    data: {
                        langCode: langCode,
                        journeys: JSON.stringify(sellRes.data.journeys)
                    },
                    success: function (data) {
                        arrCountry = data.data;
                    }
                });

                for (let i in arrCountry) {
                    if (arrCountry[i] == "PH") {
                        phFlag = true;
                    } else if (arrCountry[i] == "LA") {
                        laFlag = true;
                    } else if (arrCountry[i] == "MP") {
                        spFlag = true;
                    }
                }

                if (phFlag) {
                    $(".divPhInfo").show();
                }
                if (laFlag) {
                    $(".divLaInfo").show();
                }
                if (spFlag) {
                    $(".divSpInfo").show();
                }
            }
        };


        let setPassengerTab = function (obj) {
            let id = $(obj).attr('id');
            let psgrNo = $(obj).attr("id").replace(/[^0-9]/gi, "");
            let divPsgrObj = $("#psgrContainer" + psgrNo);
            let lastName = sUtil.nvl($("#txtLastName" + psgrNo).val(), "").toUpperCase();
            let firstName = sUtil.nvl($("#txtFirstName" + psgrNo).val(), "").toUpperCase();

            if (lastName == "" && firstName == "") {
                $("#tabName" + psgrNo).html("");
            } else {
                $("#tabName" + psgrNo).html(lastName + '/' + firstName);
            }
        };


        let findMemberInfo = function (psgrNo, findData) {
            let result = true;
            let reqData = {};
            let memberInfo = {};
            let psgrLastName = $("#txtLastName" + psgrNo).val().toUpperCase();
            let psgrFirstName = $("#txtFirstName" + psgrNo).val().toUpperCase();
            if (findData.replace(/[^0-9]/g, "").length == findData.length && findData.length == 9) {
                // 회원번호
                reqData.apiRequestType = "1002";
                reqData.ffpNo = findData;
            } else {
                // 아이디
                reqData.apiRequestType = "1000";
                reqData.userId = findData;
            }

            $.ajax({
                async: false,
                type: "post",
                url: "../../member/mypage/findMemberInfo.json",
                data: {
                    reqData: JSON.stringify(reqData)
                },
                success: function (data) {
                    if (!sUtil.isEmpty(data.data) && !sUtil.isEmpty(data.data.resultData)) {
                        let tmpInfo = data.data.resultData;

                        if (domIntType == "D") {
                            memberInfo.korLastName = sUtil.nvl(tmpInfo.korLastName, "").toUpperCase();
                            memberInfo.korFirstName = sUtil.nvl(tmpInfo.korFirstName, "").toUpperCase();
                        } else {
                            memberInfo.engLastName = sUtil.nvl(tmpInfo.engLastName, "").toUpperCase();
                            memberInfo.engFirstName = sUtil.nvl(tmpInfo.engFirstName, "").toUpperCase();
                        }
                        memberInfo.ffpNo = sUtil.isEmpty(tmpInfo.ffpNo) && !sUtil.isEmpty(tmpInfo.customerNo) ? tmpInfo.customerNo : sUtil.nvl(tmpInfo.ffpNo, '');
                        memberInfo.memberId = sUtil.nvl(tmpInfo.userId, "");
                        memberInfo.memberGrade = sUtil.nvl(tmpInfo.membergrade, "");
                        memberInfo.enrollDate = sUtil.nvl(tmpInfo.enrollDate, "");

                        if (!sUtil.isEmpty(psgrLastName) || !sUtil.isEmpty(psgrFirstName)) {
                            if (domIntType == "D") {
                                if (psgrLastName != memberInfo.korLastName || psgrFirstName != memberInfo.korFirstName) {
                                    $.JJAlert("성/명이 일치하지 않습니다.");
                                    result = false;
                                }
                            } else {
                                if (psgrLastName != memberInfo.engLastName || psgrFirstName != memberInfo.engFirstName) {
                                    $.JJAlert("성/명이 일치하지 않습니다.");
                                    result = false;
                                }
                            }
                        }
                    } else {
                        $("#txtFindMember" + psgrNo).parents(".input-item").find("p.input__error").text("등록된 회원이 없습니다. 다시 조회해 주세요.");
                        $("#txtFindMember" + psgrNo).parents(".input-item").addClass("input--error");
                        result = false;
                    }
                }
            });

            if (result) {
                setFriendData(psgrNo, memberInfo);
                $("#txtFindMember" + psgrNo).prop("readonly", true);
                $("#txtLastName" + psgrNo).prop("readonly", true);
                $("#txtFirstName" + psgrNo).prop("readonly", true);
                $("#txtFindMember" + psgrNo).siblings("button").prop("disabled", true);
                $("#txtLastName" + psgrNo).siblings("button").prop("disabled", true);
                $("#txtFirstName" + psgrNo).siblings("button").prop("disabled", true);
                $("#btnFindMember" + psgrNo).hide();
                $("#btnReFindMember" + psgrNo).show();
            }
        };



        if (sellResult) {
            initPage();
        }

        $(document).ready(function () {
            setOccupancyTimeOut = setTimeout(function () { showSeatOccupancy(); }, tripSelltime);
            $(document).ajaxStart(function () {
                Progress.show();
            });
            $(document).ajaxStop(function () {
                Progress.hide();
            });


            $(document.body).on("input", "input[name=txtLastName], input[name=txtFirstName]", function (evt) {
                setPassengerTab($(evt.target));
            });

            $(document.body).on("blur", "input[name=txtLastName], input[name=txtFirstName], input[name=txtCompanionName], input[name=txtDepGuardianName], input[name=txtArrGuardianName]", function (evt) {
                $(evt.target).val($(evt.target).val().toUpperCase().replace(/\s/gi, ""));
                if (domIntType == "D") {
                    sUtil.koreng($(evt.target));
                } else {
                    sUtil.engUpper($(evt.target));
                }
                if ($(evt.target).attr("name") == "txtLastName" || $(evt.target).attr("name") == "txtFirstName") {
                    setPassengerTab($(evt.target));
                }
                $(evt.target).trigger("change");
            });

            $(document.body).on("keydown", "input[name=txtLastName], input[name=txtFirstName], input[name=txtCompanionName], input[name=txtDepGuardianName], input[name=txtArrGuardianName]", function (pressKey) {
                let currKey = pressKey.keyCode;
                if (currKey == 32 || (currKey > 47 && currKey < 60) || (currKey > 95 && currKey < 106) ||
                    (currKey > 105 && currKey < 112) || (currKey > 185 && currKey < 223)) {
                    return false;
                } else {
                    return true;
                }
            });


            $("[name^=hid], #hidCountryCode").on("change", function () {
                let inputId = $(this).attr('id');
                let idx = '';

                if (inputId == 'hidCountryCode') {
                    $('#txtContactPhone').val('');
                } else if (inputId.startsWith('hidPhoneCountryCode')) {
                    idx = inputId.substr('hidPhoneCountryCode'.length, inputId.length);
                    $('#txtPhone' + idx).val('');
                } else if (inputId.startsWith('hidEmergencyCountryCode')) {
                    idx = inputId.substr('hidEmergencyCountryCode'.length, inputId.length);
                    $('#txtEmergencyPhone' + idx).val('');
                }
            });


            $(document.body).on("focusout", "#txtContactPhone, [name=txtPhone], [name=txtEmergencyPhone]", function () {
                $(this).val($(this).val().replace(/-+/g, '-').replace(/-$/g, ''));
            });


            $(document.body).on("keyup", "#txtContactPhone, [name=txtPhone], [name=txtEmergencyPhone]", function () {
                let textinput = $(this).val().replace(/[^0-9:\-]|^-/g, '');
                $(this).val(textinput);

                let inputId = $(this).attr('id');
                let countryCode = '';
                let idx = '';

                // 국가번호 세팅
                if (inputId == 'txtContactPhone') {
                    countryCode = $('#hidCountryCode').val();
                } else if (inputId.startsWith('txtPhone')) {
                    idx = inputId.substr('txtPhone'.length, inputId.length);
                    countryCode = $('#hidPhoneCountryCode' + idx).val();
                } else if (inputId.startsWith('txtEmergencyPhone')) {
                    idx = inputId.substr('txtEmergencyPhone'.length, inputId.length);
                    countryCode = $('#hidEmergencyCountryCode' + idx).val();
                }

                if (countryCode == '82') {
                    $(this).attr('maxlength', '13');

                    let number = $(this).val().replace(/[^0-9]/g, "");
                    let phone = "";

                    if (number.length < 4) {
                        return number;
                    } else if (number.length < 7) {
                        phone += number.substr(0, 3);
                        phone += "-";
                        phone += number.substr(3);
                    } else if (number.length < 10) {
                        phone += number.substr(0, 3);
                        phone += "-";
                        phone += number.substr(3, 3);
                        phone += "-";
                        phone += number.substr(6);
                    } else if (number.length == 10) {
                        phone += number.substr(0, 3);
                        phone += "-";
                        phone += number.substr(3, 3);
                        phone += "-";
                        phone += number.substr(6);
                    } else {
                        phone += number.substr(0, 3);
                        phone += "-";
                        phone += number.substr(3, 4);
                        phone += "-";
                        phone += number.substr(7);
                    }

                    $(this).val(phone);

                } else {
                    let ctrCdLength = countryCode.length;
                    if (ctrCdLength == 1) {
                        $(this).attr('maxlength', '16');
                    } else if (ctrCdLength == 2) {
                        $(this).attr('maxlength', '15');
                    } else if (ctrCdLength == 3) {
                        $(this).attr('maxlength', '14');
                    }
                }
            });


            $(document.body).on("keyup", "[name=txtCompanionPhone], [name=txtDepGuardianPhone], [name=txtArrGuardianPhone]", function () {
                sUtil.number(this);
                if ($(this).parents(".input-item").find("[name*=CountryCode]").length > 0) {
                    if (!sUtil.isEmpty($(this).val()) && $(this).val().length > 17) {
                        $(this).val($(this).val().substr(0, 17));
                    }
                } else {
                    if (!sUtil.isEmpty($(this).val()) && $(this).val().length > 20) {
                        $(this).val($(this).val().substr(0, 20));
                    }
                }
            });

            $(document.body).on("input", "[name=txtCompanionPnrNo]", function (evt) {
                $(evt.target).val($(evt.target).val().toUpperCase().replace(/\s/gi, ""));
                $(evt.target).trigger("change");
            });


            $(document.body).on("click", "button[data-element=remove]", function () {
                let btnObj = $(this);
                setTimeout(function () {
                    if ($(btnObj).prev().attr("name") == "txtLastName" || $(btnObj).prev().attr("name") == "txtFirstName") {
                        $(btnObj).prev().trigger("blur");
                    } else {
                        $(btnObj).prev().trigger("change");
                    }
                    $(btnObj).prev().focus();
                }, 0);
            });

            $(document.body).on("change", ".input_required", function (evt) {
                let psgrNo = $(evt.target).parents(".tab__panel").attr("id").replace(/[^0-9]/gi, "");
                let result = false;

                if (!sUtil.isEmpty($(evt.target).val())) {
                    $(evt.target).parents(".input-item").removeClass("input--error");
                }
                checkInputComplete(checkPsgrInput(psgrNo));
            });

            $("[name=btnAgeCalc]").on("click", openAgeCalc);
            $("[name=btnFindFriends]").on("click", openFindFriends);
            $("[name=btnCountryCode], [name=btnPhoneCountryCode], [name=btnEmergencyCountryCode]").on("click", openCountry);
            $("[name=btnNationality]").on("click", openNationality);
            $("#btnPartnerCardInfo").on("click", openPartnerCardInfo);
            $(document.body).on("blur", "[name=txtCompanionPhone], [name=txtDepGuardianPhone], [name=txtArrGuardianPhone]", inputPhoneNo); // 단독 소아 예약 시 입력되는 전화번호
            $(document.body).on("change", "[name=txtLastName], [name=txtFirstName]", checkNameLength);


            if (amFlag) {
                $('.js-select-addr').on('change', function () {

                    let thisVal = $(this).val();

                    if (thisVal == 'direct') {

                        //직접 입력 선택 시 주(state) 정보 selectbox에 자동 세팅
                        $("#selProvinceState").html("<option value='" + "" + "' selected='selected'>" + "" + "</option>");

                        $('.input-row.direct').removeClass('hide');

                    } else {
                        $('.input-row.direct').addClass('hide');
                    }
                });

                // 미주노선 체류지 직접 입력 시 특수문자 불가
                $("#txtDirect, #txtCity").on("keydown", function (pressKey) {
                    let currKey = pressKey.keyCode;
                    if ((currKey > 47 && currKey < 60) || (currKey > 95 && currKey < 106) ||
                        (currKey > 105 && currKey < 112) || (currKey > 185 && currKey < 223)) {
                        return false;
                    } else {
                        return true;
                    }
                });

                $("#txtDirect, #txtCity").on("keyup", function (evt) {
                    sUtil.alphaNumericSpace($(evt.target));
                    $(evt.target).trigger("change");
                });

                // 우편번호 숫자만 입력가능하도록 설정
                $("#txtPostalCode").on("keyup", function () {
                    sUtil.number(this);
                });

                $(document.body).on("change", "[name=txtPhone], [name=txtEmergencyPhone]", function (evt) {
                    let psgrNo = Number($(evt.target).attr("id").replace(/[^0-9]/gi, ""));
                    let repNo = loginData.loginPassengerType == "CHD" ? 0 : loginPsgrNo;

                    // 전화번호와 보조 전화번호 간에는 중복 안됨
                    if (!sUtil.isEmpty($("#txtPhone" + psgrNo).val()) && !sUtil.isEmpty($("#txtEmergencyPhone" + psgrNo).val())
                        && $("#txtPhone" + psgrNo).val() == $("#txtEmergencyPhone" + psgrNo).val()) {
                        $(evt.target).val("");
                        // 이미 입력된 정보와 동일합니다. 다르게 입력해주세요.
                        $.JJAlert("이미 입력된 정보와 동일합니다. 다르게 입력해주세요.", function () {
                            $(evt.target).focus();
                        });
                    }

                    if (psgrNo != repNo) {
                        if (!sUtil.isEmpty($("#txtPhone" + psgrNo).val()) && !sUtil.isEmpty($("#txtPhone" + repNo).val())
                            && $("#txtPhone" + psgrNo).val() == $("#txtPhone" + repNo).val()) {
                            $("#txtPhone" + psgrNo).val("");
                            // 이미 입력된 정보와 동일합니다. 다르게 입력해주세요.
                            $.JJAlert("이미 입력된 정보와 동일합니다. 다르게 입력해주세요.", function () {
                                $("#txtPhone" + psgrNo).focus();
                            });
                        } else if (!sUtil.isEmpty($("#txtEmergencyPhone" + psgrNo).val()) && !sUtil.isEmpty($("#txtEmergencyPhone" + repNo).val())
                            && $("#txtEmergencyPhone" + psgrNo).val() == $("#txtEmergencyPhone" + repNo).val()) {
                            $("#txtEmergencyPhone" + psgrNo).val("");
                            // 이미 입력된 정보와 동일합니다. 다르게 입력해주세요.
                            $.JJAlert("이미 입력된 정보와 동일합니다. 다르게 입력해주세요.", function () {
                                $("#txtEmergencyPhone" + psgrNo).focus();
                            });
                        }
                    } else {
                        $.each($("[name=txtPhone]").not("#txtPhone" + psgrNo), function (idx, item) {
                            let objNo = $(item).attr("id").replace(/[^0-9]/gi, "");
                            if ((!sUtil.isEmpty($("#txtPhone" + objNo).val()) && !sUtil.isEmpty($("#txtPhone" + psgrNo).val()) && $("#txtPhone" + objNo).val() == $("#txtPhone" + psgrNo).val())
                                || (!sUtil.isEmpty($("#txtEmergencyPhone" + objNo).val()) && !sUtil.isEmpty($("#txtEmergencyPhone" + psgrNo).val()) && $("#txtEmergencyPhone" + objNo).val() == $("#txtEmergencyPhone" + psgrNo).val())) {
                                $(evt.target).val("");
                                // 이미 입력된 정보와 동일합니다. 다르게 입력해주세요.
                                $.JJAlert("이미 입력된 정보와 동일합니다. 다르게 입력해주세요.", function () {
                                    $(evt.target).focus();
                                });
                            }
                        });
                    }
                });
            }

            $(".input_required").on("blur", function () {
                let thisVal = $(this).val();

                if (sUtil.isEmpty($(this).val())) {
                    if (Object.keys(arrErrorMessage).indexOf(sUtil.nvl($(this).attr("name"), "")) > -1) {
                        $(this).parents(".input-item").find("p").text(arrErrorMessage[$(this).attr("name")].empty);
                    }
                    $(this).parents(".input-item").addClass("input--error");
                }
            });


            $(".input_contact").on("change blur focusout", function () {
                let result = true;

                if (!sUtil.isEmpty($(this).val())) {
                    $(this).parents(".input-item").removeClass("input--error");
                } else {
                    result = false;
                    $(this).parents(".input-item").addClass("input--error");
                }
                checkInputComplete(result);
            });


            $("#chkSelf").on("click", function () {
                let checkVal = $(this).prop('checked');

                if (bookType == "Voucher") {
                    $.JJAlert("등록 기프티켓은 국내선은 편도, 국제선은 왕복으로 회원 본인의 예약건에 한하여 사용이 가능합니다.");
                    return false;
                }

                if (loginData.isMember) {
                    if (checkVal) {
                        $('#btnFindFriends' + loginPsgrNo).removeClass('no-show');
                        $('#chkSave' + loginPsgrNo).parent().parent().show();
                        $('#divFindMember' + loginPsgrNo).show();
                    } else {
                        $('#btnFindFriends' + loginPsgrNo).addClass('no-show');
                        $('#chkSave' + loginPsgrNo).parent().parent().hide();
                        $('#divFindMember' + loginPsgrNo).hide();
                    }
                }
                setLoginData(!checkVal);
            });


            $("[name=txtYear]").on("input change", function () {
                $(this).val($(this).val().replace(/[^0-9]/gi, ""));
            });


            $("[name=txtYear], [name=selMonth]").on("change", function () {
                let birthObj = $(this).parent().parent().parent();
                if ($(this).attr("name") == "selMonth" && !sUtil.isEmpty($(this))) {
                    $(this).addClass("selected");
                }

                if (!sUtil.isEmpty($(birthObj).find("[name=txtYear]")) && $(birthObj).find("[name=txtYear]").val().length == 4) {
                    let year = $(birthObj).find("[name=txtYear]").val();
                    let month = $(birthObj).find("[name=selMonth]").val();
                    let date = sUtil.nvl($(birthObj).find("[name=selDate]").val(), '');
                    let lastDate = new Date(year, month, 0).getDate();
                    let strHtml = "<option value=''>일</option>";

                    for (let i = 0; i < lastDate; i++) {
                        strHtml += '<option value="' + (i + 1) + '">' + (i + 1) + '</option>';
                    }

                    $(birthObj).find("[name=selDate]").html(strHtml);

                    if (lastDate >= date) {
                        $(birthObj).find("[name=selDate]").val(date).addClass("selected");
                    }
                }
            });


            $("[name=txtYear], [name=selMonth], [name=selDate]").on("change", function () {
                let birthObj = $(this).parents(".boarding__birth");
                let psgrNo = $(this).attr("id").replace(/[^0-9]/gi, "");
                let year = $(birthObj).find("[name=txtYear]").val();
                let month = $(birthObj).find("[name=selMonth]").val();
                let date = $(birthObj).find("[name=selDate]").val();
                $(birthObj).removeClass("input--error");

                if (!sUtil.isEmpty(year) && year.length == 4 && !sUtil.isEmpty(month) && !sUtil.isEmpty(date)) {
                    if (!checkBirthday(psgrNo)) {
                        if (isInfant) {
                            $("#modalInfantCheck").find(".infantMsgArea").text("입력하신 " + $("#txtLastName" + psgrNo).val() + " " + $("#txtFirstName" + psgrNo).val() + " 소아 고객님의 생년월일이 출발일 기준 유아에 적용 됩니다.");
                            fullPopOpen("modalInfantCheck");
                        }

                        $(birthObj).addClass("input--error");
                    }
                } else if ($(this).attr("name") == "txtYear" && year.length != 4) {
                    $(birthObj).addClass("input--error");
                }
            });

            if (domIntType == "D") {

                $(".btnAnmAdd").on("click", function () {
                    if (arrSegmentSsr.length <= 0) return;
                    let parentObj = $(this).parent().parent();
                    let journeyNo = $(parentObj).attr("id").replace(/[^0-9]/gi, "");
                    let newNo = $(parentObj).find("[id^=itemAnm]").length > 0 ? Number($(parentObj).find("[id^=itemAnm]:last").attr("id").split('_')[1]) + 1 : 0;
                    let availableCnt = adtCnt < arrSegmentSsr[journeyNo].PETC ? adtCnt : arrSegmentSsr[journeyNo].PETC;
                    let totCnt = 0;
                    if (availableCnt > 0) {
                        let strHtml = '<div id="itemAnm' + journeyNo + '_' + newNo + '" class="input-wrap input--line input-wrap--box pc-col pc-col-2 pc-15 with-label">';
                        strHtml += '    <div class="input-row">';
                        strHtml += '    <div class="radio-button-wrap">';
                        strHtml += '      <span class="radio-button">';
                        strHtml += '        <input type="radio" id="rdoDog' + journeyNo + '_' + newNo + '" name="rdoAnm' + journeyNo + '_' + newNo + '" class="radio-button__input" value="DOG" checked>';
                        strHtml += '        <label for="rdoDog' + journeyNo + '_' + newNo + '" class="radio-button__label">';
                        strHtml += '          <span>개</span>';
                        strHtml += '        </label>';
                        strHtml += '      </span>';
                        strHtml += '      <span class="radio-button">';
                        strHtml += '        <input type="radio" id="rdoCat' + journeyNo + '_' + newNo + '" name="rdoAnm' + journeyNo + '_' + newNo + '" class="radio-button__input" value="CAT">';
                        strHtml += '        <label for="rdoCat' + journeyNo + '_' + newNo + '" class="radio-button__label">';
                        strHtml += '          <span>고양이</span>';
                        strHtml += '        </label>';
                        strHtml += '      </span>';
                        strHtml += '      <span class="radio-button">';
                        strHtml += '        <input type="radio" id="rdoBird' + journeyNo + '_' + newNo + '" name="rdoAnm' + journeyNo + '_' + newNo + '" class="radio-button__input" value="BIRD">';
                        strHtml += '        <label for="rdoBird' + journeyNo + '_' + newNo + '" class="radio-button__label">';
                        strHtml += '          <span>새</span>';
                        strHtml += '        </label>';
                        strHtml += '      </span>';
                        strHtml += '    </div>';
                        strHtml += '  </div>';
                        strHtml += '  <div class="input-row input-row--label mo-20">';
                        strHtml += '    <div class="input-label label-top">보호자</div>';
                        strHtml += '    <div class="input-box">';
                        strHtml += '      <div class="select-wrap select-wrap--line">';
                        strHtml += '        <select id="selGdn' + journeyNo + '_' + newNo + '" name="selGdn" class="select-wrap__select" title="보호자 선택">';
                        strHtml += '        </select>';
                        strHtml += '      </div>';
                        strHtml += '    </div>';
                        strHtml += '  </div>';
                        strHtml += '</div>';
                        strHtml += '<div class="button-wrap button-wrap--center pc-15">';
                        strHtml += '  <button id="btnAnmDelete' + journeyNo + '_' + newNo + '" type="button" class="button button--small btnAnmDelete"><span class="button__text button__icon icon-minus">삭제</span></button>';
                        strHtml += '</div>';
                        $(this).parent().before(strHtml);
                        totCnt = $(parentObj).find("[id^=itemAnm]").length;
                        $("#selGdn" + journeyNo + "_" + newNo).append(strGuardian);
                        $("[id^=selGdn" + journeyNo + "]").each(function (idx, item) {
                            if (idx == newNo) return;
                            $("#selGdn" + journeyNo + "_" + newNo + " option[value=" + $(item).val() + "]").prop("disabled", true);
                        });
                        $("#selGdn" + journeyNo + "_" + newNo + " option").not(":disabled").eq(0).prop("selected", true);

                        if (availableCnt == totCnt) {
                            $(this).hide();
                        }
                        $("[name=selGdn]").trigger("change");
                    }
                });


                $(document.body).on("click", ".btnAnmDelete", function () {
                    if (arrSegmentSsr.length <= 0) return;
                    let divId = $(this).attr('id').replace("btnAnmDelete", "");
                    let parentObj = $(this).parent().parent();
                    let removeObj = $("#itemAnm" + divId);
                    let siblingsItem = $(removeObj).parents().find("[id^=itemAnm] select");

                    if (!sUtil.isEmpty($(removeObj).find("select").val())) {
                        $.each($(siblingsItem), function (idx, item) {
                            $(item).find("option[value='" + $(removeObj).find("select").val() + "']").prop("disabled", false);
                        });
                    }

                    $(removeObj).remove();
                    $(this).parent().remove();
                    $(parentObj).find(".btnAnmAdd").show();
                });


                $(document.body).on("change", "[name=selGdn]", function () {
                    let thisVal = $(this).val();
                    let itemId = $(this).attr("id").replace("selGdn", "");
                    let journeyNo = itemId.split("_")[0];
                    let itemNo = itemId.split("_")[1];
                    let siblingsItem = $("#divAnm" + journeyNo + " [id^=itemAnm] select");
                    let selectedVal = new Array();

                    $.each($("#divAnm" + journeyNo + " [id^=itemAnm] select"), function (idx, item) {
                        selectedVal.push($(item).val());
                    });

                    $.each($(siblingsItem), function (idx, item) {
                        $(item).find("option:disabled").prop("disabled", false);

                        $.each(selectedVal, function (sIdx, sItem) {
                            if (idx == sIdx) return;
                            if (!sUtil.isEmpty(sItem)) {
                                $(item).find("option[value='" + sItem + "']").prop("disabled", true);
                            }
                        });
                    });
                });
            }

            if (onlyChildFlag) {

                $("#btnCompanionAdd").on("click", function () {
                    let arrCompanion = $("#divCompanionY").children("[id^=divCompanionY]");
                    let newIdx = arrCompanion.length;
                    if (arrJourney.length > arrCompanion.length) {
                        let strHtml = '<div id="divCompanionY' + newIdx + '" class="input-wrap--box input-wrap--box--mo15">';
                        strHtml += '                <div class="text">';
                        strHtml += '                  <p class="text__default text--bold">항공권' + (newIdx + 1) + '</p>';
                        strHtml += '                </div>';
                        strHtml += '                <div class="input-wrap input--line pc-col pc-col-2">';
                        strHtml += '                    <div class="input-row pc-10">';
                        strHtml += '                      <div class="input-item">';
                        strHtml += '                        <div class="input-box">';
                        strHtml += '                          <label for="txtCompanionPnrNo' + newIdx + '" class="input__label">예약번호<span title="required" class="input__label-asterisk">*</span></label>';
                        strHtml += '                          <div data-element="form" class="input">';
                        strHtml += '                            <input type="text" data-element="input" id="txtCompanionPnrNo' + newIdx + '" name="txtCompanionPnrNo" class="input__text input_required" onkeyup="sUtil.alphaNumeric(this)">';
                        strHtml += '                            <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>'; // 삭제
                        strHtml += '                          </div>';
                        strHtml += '                        </div>';
                        strHtml += '                        <p class="input__sub-text">예) 12345678</p>';
                        strHtml += '                        <p tabindex="0" class="input__error">예약번호를 입력해 주세요.</p>';
                        strHtml += '                      </div>';
                        strHtml += '                    </div>';
                        strHtml += '                    <div class="input-row pc-10">';
                        strHtml += '                      <div class="input-item">';
                        strHtml += '                        <div class="input-box">';
                        strHtml += '                          <label for="txtCompanionName' + newIdx + '" class="input__label">탑승객 성명<span title="required" class="input__label-asterisk">*</span></label>';
                        strHtml += '                          <div data-element="form" class="input">';
                        strHtml += '                            <input type="text" data-element="input" id="txtCompanionName' + newIdx + '" name="txtCompanionName" class="input__text input_required" style="text-transform :uppercase;">';
                        strHtml += '                            <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>'; // 삭제
                        strHtml += '                          </div>';
                        strHtml += '                        </div>';
                        strHtml += '                        <p class="input__sub-text">예) 김제주 또는 KIM JEJU</p>';
                        strHtml += '                        <p tabindex="0" class="input__error">탑승객의 성명을 입력해 주세요.</p>';
                        strHtml += '                      </div>';
                        strHtml += '                    </div>';
                        strHtml += '                    <div class="input-row">';
                        strHtml += '                      <div class="input-item">';
                        strHtml += '                        <div class="input-box">';
                        strHtml += '                          <label for="txtCompanionPhone' + newIdx + '" class="input__label">예약상 전화번호<span title="required" class="input__label-asterisk">*</span></label>';
                        strHtml += '                          <div data-element="form" class="input">';
                        strHtml += '                            <input type="text" data-element="input" id="txtCompanionPhone' + newIdx + '" name="txtCompanionPhone" class="input__text input_required">';
                        strHtml += '                            <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>'; // 삭제
                        strHtml += '                          </div>';
                        strHtml += '                        </div>';
                        strHtml += '                        <p class="input__sub-text">예) 010-1234-5678</p>';
                        strHtml += '                        <p tabindex="0" class="input__error">휴대전화번호를 입력해 주세요. 예) 010-1234-5678</p>';
                        strHtml += '                      </div>';
                        strHtml += '                    </div>';
                        strHtml += '                  </div>';
                        strHtml += '                </div>';

                        if (arrJourney.length == newIdx + 1) {
                            $(this).hide();
                        }
                        $("#btnCompanionDelete").show();
                        $(arrCompanion[newIdx - 1]).after(strHtml);
                        formControl.init();	// input 초기화
                    }
                    checkInputComplete(checkPsgrInput(0));
                });


                $("#btnCompanionDelete").on("click", function () {
                    $("#divCompanionY").children("[id^=divCompanionY]:last").remove();

                    if ($("#divCompanionY").children("[id^=divCompanionY]").length == 1) {
                        $(this).hide();
                    }
                    $("#btnCompanionAdd").show();
                    checkInputComplete(checkPsgrInput(0));
                });

                $("[name=rdoCompanion]").on("change", function () {
                    checkInputComplete(checkPsgrInput(0));
                });

                $("#chkAgreeOnlyChild, #chkAgreeUm").on("click", function () {
                    if ($(this).prop("checked")) {
                        $(this).parents(".modal").find("button").addClass("button--active").prop("disabled", false);
                    } else {
                        $(this).parents(".modal").find("button").removeClass("button--active").prop("disabled", true);
                    }
                });
            }


            if ($("#chkSame").length > 0) {
                $("#chkSame").on("click", function () {
                    if ($(this).prop("checked")) {
                        sameNationality();
                    }
                });

                $("#hidNationality" + loginPsgrNo).on("change", function () {
                    if ($("#chkSame").prop("checked")) {
                        sameNationality();
                    }
                });

                $("[name=hidNationality]").not("#hidNationality" + loginPsgrNo).on("change", function () {
                    if ($("#chkSame").prop("checked")) {
                        $("#chkSame").prop("checked", false);
                    }
                });
            }


            if ($("#chkSameContact").length > 0) {
                $("#chkSameContact").on("click", function () {
                    if ($(this).prop("checked")) {
                        sameContact();
                    }
                });

                $("[name=hidPhoneCountryCode], [name=txtPhone], [name=hidEmergencyCountryCode], [name=txtEmergencyPhone], [name=txtEmail]").on("change", function () {
                    let psgrNo = $(this).attr("id").replace(/[^0-9]/gi, "");
                    if (psgrNo == loginPsgrNo) {
                        if ($("#chkSameContact").prop("checked")) {
                            sameContact();
                        }
                    } else {
                        if ($("#chkSameContact").prop("checked")) {
                            $("#chkSameContact").prop("checked", false);
                        }
                    }
                });
            }

            $("[name^=rdoDC]").on("change", function () {
                let psgrNo = $(this).attr("id").replace(/[^0-9]/gi, "");
                let selectId = $(this).val() == "M" ? "selMemberDc" + psgrNo : "selPersonalDc" + psgrNo;
                $("#" + selectId).trigger("change");
            });


            $("select[id^=selMemberDc], select[id^=selPersonalDc]").on("change", function () {
                let discountCode = $(this).val();
                let psgrNo = $(this).attr("id").replace(/[^0-9]/gi, "");
                let discountType = $(this).find(":selected").data("type");

                calPassengerDiscount(psgrNo, discountType, discountCode);
            });


            $("[name=selParent]").on("change", function () {
                let thisVal = $(this).val();
                let itemId = $(this).attr("id").replace("selParent", "");
                let siblingsItem = $("[name=selParent]");
                let selectedVal = new Array();

                $.each($("[name=selParent]"), function (idx, item) {
                    selectedVal.push($(item).val());
                });

                $.each($("[name=selParent]"), function (idx, item) {
                    $(item).find("option:disabled").prop("disabled", false);

                    $.each(selectedVal, function (sIdx, sItem) {
                        if (idx == sIdx) return;
                        if (!sUtil.isEmpty(sItem)) {
                            $(item).find("option[value='" + sItem + "']").prop("disabled", true);
                        }
                    });
                });
            });

            $(".summary").on("click", function () {
                if ($("#divSkip").length > 0 && skipFlag) {
                    if ($(this).hasClass('is-active') === true) {
                        $("#divSkip").removeClass("is-active");
                    } else {
                        if ($("[name=btnNext]").hasClass("button--active")) {
                            $("#divSkip").addClass("is-active");
                        }
                    }
                }
            });

            $("[name=btnFindMember]").on("click", function () {
                let psgrNo = $(this).attr("id").replace(/[^0-9]/g, "");
                let inputVal = $("#txtFindMember" + psgrNo).val();

                if (sUtil.isEmpty(inputVal)) {
                    $(this).parents(".input-item").find("p.input__error").text("회원번호 또는 ID를 입력해 주세요.");
                    $(this).parents(".input-item").addClass("input--error");
                } else {
                    $(this).parents(".input-item").removeClass("input--error");
                    findMemberInfo(psgrNo, inputVal);
                }
            });

            $("[name=btnReFindMember]").on("click", function () {
                let psgrNo = $(this).attr("id").replace(/[^0-9]/g, "");
                setFriendData(psgrNo, {});

                $("#txtFindMember" + psgrNo).val("");
                $("#txtFindMember" + psgrNo).parents(".input-box").removeClass("label-active");
                $("#txtFindMember" + psgrNo).prop("readonly", false);
                $("#txtLastName" + psgrNo).prop("readonly", false);
                $("#txtFirstName" + psgrNo).prop("readonly", false);
                $("#txtFindMember" + psgrNo).siblings("button").prop("disabled", false);
                $("#txtLastName" + psgrNo).siblings("button").prop("disabled", false);
                $("#txtFirstName" + psgrNo).siblings("button").prop("disabled", false);
                $("#btnFindMember" + psgrNo).show();
                $("#btnReFindMember" + psgrNo).hide();
            });

            if (sellResult) {

                if (!$("#chkSelf").prop("checked")) {
                    setLoginData(true);
                    if (loginData.isMember) {
                        $('#chkSave' + loginPsgrNo).parent().parent().hide();
                        $('#divFindMember' + loginPsgrNo).hide();
                        $('#btnFindFriends' + loginPsgrNo).addClass('no-show');
                    }
                }


                if (pointFlag || bookType == "Promotion" || bookType == "FOC") {
                    $("#chkSelf").prop("disabled", true).off("click");
                }


                let idx = 1;
                for (let pKey in arrPsgr) {
                    getDiscountList(idx++);
                }


                $.each($("#body [data-element=input], [data-element=email]").not("[name=txtYear]").not("[name=selParent]"), function (idx, item) {
                    if (!sUtil.isEmpty($(item).val())) {
                        $(item).closest("[data-element=form]").parent('.input-box').addClass('label-active');
                        $(item).trigger("change");
                    }
                });
                $.each($("[name=txtLastName], [name=txtFirstName]"), function (idx, item) {
                    if (!sUtil.isEmpty($(item).val())) {
                        $(item).trigger("blur");
                    }
                });

                $.each($("[name=txtFindMember]"), function (idx, item) {
                    if (!sUtil.isEmpty($(item).val())) {
                        $("#btnFindMember" + idx).trigger("click");
                    }
                });

                $.each($("#body select"), function (idx, item) {
                    if (!sUtil.isEmpty($(item).val())) {
                        $(item).trigger("change");
                    }
                });

                if (tripType == "OW" && !onlyChildFlag) {
                    window.dataLayer = window.dataLayer || [];
                    window.dataLayer.push({
                        'event': 'everymundo-fare',
                        'ecommerce': {
                            'detail': {
                                'products': [{
                                    'dimension1': bookType, //bookType - Common , Point , FOC , Promotion , Voucher
                                    'dimension2': sellRes.data.journeys[0].designator.origin + "-" + sellRes.data.journeys[0].designator.destination, //route - ICN/NRT
                                    'dimension3': sellRes.data.journeys[0].designator.departure.replace("T", " "), //date- yyyy-MM-dd HH:mm
                                    'dimension4': sellRes.data.journeys[0].segments[0].fares[0].classOfService, //class- H
                                    'dimension5': arrPsgrFare[Object.keys(arrPsgr)[0]].totalFare.total, //fare - basefare+tax
                                    'dimension6': currencyCode  //currency - KRW
                                }]
                            }
                        }
                    });
                }

                let products = [];
                let gaTripType = tripType === 'MT' ? 'MC' : tripType
                if (tripType === 'MT') {
                    for (let i = 0; i < arrJourney.length; i++) {
                        let product = {
                            'id': arrJourney[i].designator.origin + "-" + arrJourney[i].designator.destination + "-" + gaTripType,
                            'name': arrJourney[i].designator.originName + "-" + arrJourney[i].designator.destinationName,
                            'price': sellRes.data.breakdown.journeys[arrJourney[i].journeyKey].totalAmount,
                            'variant': adtCnt + '-' + chdCnt + '-' + infCnt, //상품 옵션 (항공편의 경우 성인수-소아수-유아수)
                            'brand': gaTripType, // 여정 타입  
                            'category': 'Flight' //상품 카테고리 ex) Flight_기본 / Flight_추천
                        }
                        products.push(product);
                    }
                } else {
                    let product = {
                        'id': arrJourney[0].designator.origin + "-" + arrJourney[0].designator.destination + "-" + gaTripType,
                        'name': arrJourney[0].designator.originName + "-" + arrJourney[0].designator.destinationName,
                        'price': $("#divBtFare").find('.price_txt').text().replace(/[^0-9]/g, ''),
                        'variant': adtCnt + '-' + chdCnt + '-' + infCnt, //상품 옵션 (항공편의 경우 성인수-소아수-유아수)
                        'brand': gaTripType, // 여정 타입  
                        'category': 'Flight' //상품 카테고리 ex) Flight_기본 / Flight_추천
                    }
                    products.push(product);
                }
                for (let i = 0; i < arrJourney.length; i++) {
                    let productClass = arrJourney[i].segments[0].fares[0].productClass;
                    let productCode = "";
                    let productName = "";
                    if (productClass === 'B') {
                        productCode = "FLY";
                        productName = "FLY";
                    } else if (productClass === 'V') {
                        productCode = "FLYBAG";
                        productName = "FLYBAG";
                    } else if (productClass === 'Y') {
                        productCode = "FLEX";
                        productName = "FLEX";
                    } else if (productClass === 'N') {
                        productCode = "BIZLITE";
                        productName = "BIZLITE";
                    }
                    let product = {
                        'id': arrJourney[i].designator.origin + "-" + arrJourney[i].designator.destination + "-" + gaTripType + "^S-" + productCode,
                        'name': productName,
                        'price': sellRes.data.breakdown.journeys[arrJourney[i].journeyKey].totalAmount,
                        'variant': 'I' === 'I' ? '국제선 운임' : '국내선 운임',
                        'brand': undefined, // 여정 타입  
                        'category': 'Seat' //상품 카테고리 ex) Flight_기본 / Flight_추천
                    }
                    products.push(product);
                }
                if (bundleRes.length > 0) {
                    let gaTripType = tripType === 'MT' ? 'MC' : tripType;
                    for (let i = 0; i < arrJourney.length; i++) {
                        for (let j = 0; j < bundleRes.length; j++) {
                            if (arrJourney[i].journeyKey === bundleRes[j].journeyKey) {
                                let product = {
                                    'id': arrJourney[i].designator.origin + "-" + arrJourney[i].designator.destination + "-" + gaTripType + "^A-" + bundleRes[j].bundleCode,
                                    'name': bundleRes[j].bundleName,
                                    'price': bundleRes[j].amount * bundleRes[j].passengers.length,
                                    'variant': undefined,
                                    'category': 'Ancillary', //상품 카테고리 ex) Flight_기본 / Flight_추천
                                    'quantity': '1'
                                }
                                products.push(product);
                            }
                        }
                    }
                }

                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                    'event': 'ee-addToCart',
                    'ecommerce': {
                        'currencyCode': currencyCode, //현지 통화
                        'add': {
                            'products': products
                        }
                    }
                });
            }
        });

        let closeModalInfantAgeInfo = function (obj) {
            isInfant = false;
            closeCurrentModal(obj);
        }

    </script>

    <div id="ifmWrap"
        style="height:100%; display:none; overflow:auto; text-align:center; -webkit-overflow-scrolling:touch;">
        <iframe src="" width="100%" height="100%" name="popupChkApp"></iframe>
    </div>

    <script type="text/javascript" src="/LY0Q/9meI/oJEhh/BTApQ/LYupmw0VVa/RVtxUzcaWgE/GD0hb/GgjOwEB"></script>
</body>

</html>